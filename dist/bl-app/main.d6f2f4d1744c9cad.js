"use strict";(self.webpackChunkblApp=self.webpackChunkblApp||[]).push([[179],{6304:(He,pe,N)=>{N.d(pe,{Dh:()=>me,GT:()=>oe,cc:()=>_e,hO:()=>Ie,on:()=>x,pX:()=>Y,xv:()=>se});var d=N(5879),k=N(7142),S=N(8186);He=N.hmd(He);const W=["ngOnDestroy"],Y=(Ce,ze,je,z={})=>new Proxy(Ce,{get:(ce,Q)=>je.runOutsideAngular(()=>{var de;if(Ce[Q])return!(null===(de=z?.spy)||void 0===de)&&de.get&&z.spy.get(Q,Ce[Q]),Ce[Q];if(W.indexOf(Q)>-1)return()=>{};const De=ze.toPromise().then(K=>{const Ue=K&&K[Q];return"function"==typeof Ue?Ue.bind(K):Ue&&Ue.then?Ue.then(Ze=>je.run(()=>Ze)):je.run(()=>Ue)});return new Proxy(()=>{},{get:(K,Ue)=>De[Ue],apply:(K,Ue,Ze)=>De.then(gt=>{var vn;const Qn=gt&&gt(...Ze);return!(null===(vn=z?.spy)||void 0===vn)&&vn.apply&&z.spy.apply(Q,Ze,Qn),Qn})})})}),oe=(Ce,ze)=>{ze.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(z=>{Object.defineProperty(Ce.prototype,z,Object.getOwnPropertyDescriptor(je.prototype||je,z))})})};class ae{constructor(ze){return ze}}const me=new d.OlP("angularfire2.app.options"),se=new d.OlP("angularfire2.app.name");function x(Ce,ze,je){const ce="object"==typeof je&&je||{};ce.name=ce.name||"string"==typeof je&&je||"[DEFAULT]";const de=k.Z.apps.filter(De=>De&&De.name===ce.name)[0]||ze.runOutsideAngular(()=>k.Z.initializeApp(Ce,ce));try{JSON.stringify(Ce)!==JSON.stringify(de.options)&&V("error",`${de.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(de)}const V=(Ce,...ze)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ce](...ze)},Z={provide:ae,useFactory:x,deps:[me,d.R0b,[new d.FiY,se]]};let Ie=(()=>{class Ce{constructor(je){k.Z.registerVersion("angularfire",S.q4.full,"core"),k.Z.registerVersion("angularfire",S.q4.full,"app-compat"),k.Z.registerVersion("angular",d.q4F.full,je.toString())}static initializeApp(je,z){return{ngModule:Ce,providers:[{provide:me,useValue:je},{provide:se,useValue:z}]}}}return Ce.\u0275fac=function(je){return new(je||Ce)(d.LFG(d.Lbi))},Ce.\u0275mod=d.oAB({type:Ce}),Ce.\u0275inj=d.cJS({providers:[Z]}),Ce})();function _e(Ce,ze,je,z,ce){const[,Q,de]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===Ce)||[];if(Q)return function Ne(Ce,ze){try{return Ce.toString()===ze.toString()}catch{return Ce===ze}}(ce,de)||(Oe("error",`${ze} was already initialized on the ${je} Firebase App with different settings.${ve?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:ce,was:de})),Q;{const De=z();return globalThis.\u0275AngularfireInstanceCache.push([Ce,De,ce]),De}}const ve=!!He.hot,Oe=(Ce,...ze)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ce](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(He,pe,N)=>{N.d(pe,{q4:()=>ai,iC:()=>Kl,HU:()=>uc,vb:()=>Gi,JM:()=>ws});var d=N(5879),k=N(3182),S=N(5861),W=N(534),Y=N(9058),oe=N(4537),ae=N(7879);const me=(v,E)=>E.some(I=>v instanceof I);let se,x;const Ie=new WeakMap,_e=new WeakMap,Ne=new WeakMap,ve=new WeakMap,Oe=new WeakMap;let je={get(v,E,I){if(v instanceof IDBTransaction){if("done"===E)return _e.get(v);if("objectStoreNames"===E)return v.objectStoreNames||Ne.get(v);if("store"===E)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return de(v[E])},set:(v,E,I)=>(v[E]=I,!0),has:(v,E)=>v instanceof IDBTransaction&&("done"===E||"store"===E)||E in v};function Q(v){return"function"==typeof v?function ce(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return x||(x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...E){return v.apply(De(this),E),de(Ie.get(this))}:function(...E){return de(v.apply(De(this),E))}:function(E,...I){const M=v.call(De(this),E,...I);return Ne.set(M,E.sort?E.sort():[E]),de(M)}}(v):(v instanceof IDBTransaction&&function ze(v){if(_e.has(v))return;const E=new Promise((I,M)=>{const B=()=>{v.removeEventListener("complete",G),v.removeEventListener("error",te),v.removeEventListener("abort",te)},G=()=>{I(),B()},te=()=>{M(v.error||new DOMException("AbortError","AbortError")),B()};v.addEventListener("complete",G),v.addEventListener("error",te),v.addEventListener("abort",te)});_e.set(v,E)}(v),me(v,function V(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,je):v)}function de(v){if(v instanceof IDBRequest)return function Ce(v){const E=new Promise((I,M)=>{const B=()=>{v.removeEventListener("success",G),v.removeEventListener("error",te)},G=()=>{I(de(v.result)),B()},te=()=>{M(v.error),B()};v.addEventListener("success",G),v.addEventListener("error",te)});return E.then(I=>{I instanceof IDBCursor&&Ie.set(I,v)}).catch(()=>{}),Oe.set(E,v),E}(v);if(ve.has(v))return ve.get(v);const E=Q(v);return E!==v&&(ve.set(v,E),Oe.set(E,v)),E}const De=v=>Oe.get(v),Ze=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],vn=new Map;function Qn(v,E){if(!(v instanceof IDBDatabase)||E in v||"string"!=typeof E)return;if(vn.get(E))return vn.get(E);const I=E.replace(/FromIndex$/,""),M=E!==I,B=gt.includes(I);if(!(I in(M?IDBIndex:IDBObjectStore).prototype)||!B&&!Ze.includes(I))return;const G=function(){var te=(0,S.Z)(function*(ke,...Ae){const Be=this.transaction(ke,B?"readwrite":"readonly");let it=Be.store;return M&&(it=it.index(Ae.shift())),(yield Promise.all([it[I](...Ae),B&&Be.done]))[0]});return function(Ae){return te.apply(this,arguments)}}();return vn.set(E,G),G}!function z(v){je=v(je)}(v=>({...v,get:(E,I,M)=>Qn(E,I)||v.get(E,I,M),has:(E,I)=>!!Qn(E,I)||v.has(E,I)}));const Jr="@firebase/installations",Vt="0.6.4",yr=1e4,Ni=`w:${Vt}`,ee="FIS_v2",re="https://firebaseinstallations.googleapis.com/v1",le=36e5,Fe=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(v){return v instanceof Y.ZR&&v.code.includes("request-failed")}function Mt({projectId:v}){return`${re}/projects/${v}/installations`}function Ye(v){return{token:v.token,requestStatus:2,expiresIn:rn(v.expiresIn),creationTime:Date.now()}}function Dt(v,E){return nt.apply(this,arguments)}function nt(){return(nt=(0,S.Z)(function*(v,E){const M=(yield E.json()).error;return Fe.create("request-failed",{requestName:v,serverCode:M.code,serverMessage:M.message,serverStatus:M.status})})).apply(this,arguments)}function Ot({apiKey:v}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v})}function jt(v){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,S.Z)(function*(v){const E=yield v();return E.status>=500&&E.status<600?v():E})).apply(this,arguments)}function rn(v){return Number(v.replace("s","000"))}function Rn(){return(Rn=(0,S.Z)(function*({appConfig:v,heartbeatServiceProvider:E},{fid:I}){const M=Mt(v),B=Ot(v),G=E.getImmediate({optional:!0});if(G){const Be=yield G.getHeartbeatsHeader();Be&&B.append("x-firebase-client",Be)}const ke={method:"POST",headers:B,body:JSON.stringify({fid:I,authVersion:ee,appId:v.appId,sdkVersion:Ni})},Ae=yield jt(()=>fetch(M,ke));if(Ae.ok){const Be=yield Ae.json();return{fid:Be.fid||I,registrationStatus:2,refreshToken:Be.refreshToken,authToken:Ye(Be.authToken)}}throw yield Dt("Create Installation",Ae)})).apply(this,arguments)}function Jt(v){return new Promise(E=>{setTimeout(E,v)})}const Xr=/^[cdef][\w-]{21}$/,Ge="";function st(){try{const v=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(v),v[0]=112+v[0]%16;const I=function et(v){return function Jn(v){return btoa(String.fromCharCode(...v)).replace(/\+/g,"-").replace(/\//g,"_")}(v).substr(0,22)}(v);return Xr.test(I)?I:Ge}catch{return Ge}}function mt(v){return`${v.appName}!${v.appId}`}const un=new Map;function or(v,E){const I=mt(v);Br(I,E),function St(v,E){const I=function rt(){return!ar&&"BroadcastChannel"in self&&(ar=new BroadcastChannel("[Firebase] FID Change"),ar.onmessage=v=>{Br(v.data.key,v.data.fid)}),ar}();I&&I.postMessage({key:v,fid:E}),function zt(){0===un.size&&ar&&(ar.close(),ar=null)}()}(I,E)}function Br(v,E){const I=un.get(v);if(I)for(const M of I)M(E)}let ar=null;const Mr="firebase-installations-database",Rr=1,Bn="firebase-installations-store";let cn=null;function dn(){return cn||(cn=function K(v,E,{blocked:I,upgrade:M,blocking:B,terminated:G}={}){const te=indexedDB.open(v,E),ke=de(te);return M&&te.addEventListener("upgradeneeded",Ae=>{M(de(te.result),Ae.oldVersion,Ae.newVersion,de(te.transaction))}),I&&te.addEventListener("blocked",()=>I()),ke.then(Ae=>{G&&Ae.addEventListener("close",()=>G()),B&&Ae.addEventListener("versionchange",()=>B())}).catch(()=>{}),ke}(Mr,Rr,{upgrade:(v,E)=>{0===E&&v.createObjectStore(Bn)}})),cn}function hn(v,E){return jn.apply(this,arguments)}function jn(){return(jn=(0,S.Z)(function*(v,E){const I=mt(v),B=(yield dn()).transaction(Bn,"readwrite"),G=B.objectStore(Bn),te=yield G.get(I);return yield G.put(E,I),yield B.done,(!te||te.fid!==E.fid)&&or(v,E.fid),E})).apply(this,arguments)}function Ht(v){return jr.apply(this,arguments)}function jr(){return(jr=(0,S.Z)(function*(v){const E=mt(v),M=(yield dn()).transaction(Bn,"readwrite");yield M.objectStore(Bn).delete(E),yield M.done})).apply(this,arguments)}function Nn(v,E){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,S.Z)(function*(v,E){const I=mt(v),B=(yield dn()).transaction(Bn,"readwrite"),G=B.objectStore(Bn),te=yield G.get(I),ke=E(te);return void 0===ke?yield G.delete(I):yield G.put(ke,I),yield B.done,ke&&(!te||te.fid!==ke.fid)&&or(v,ke.fid),ke})).apply(this,arguments)}function U(v){return F.apply(this,arguments)}function F(){return F=(0,S.Z)(function*(v){let E;const I=yield Nn(v.appConfig,M=>{const B=function A(v){return Le(v||{fid:st(),registrationStatus:0})}(M),G=function R(v,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(Fe.create("app-offline"))};const I={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},M=function b(v,E){return $.apply(this,arguments)}(v,I);return{installationEntry:I,registrationPromise:M}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:he(v)}:{installationEntry:E}}(v,B);return E=G.registrationPromise,G.installationEntry});return I.fid===Ge?{installationEntry:yield E}:{installationEntry:I,registrationPromise:E}}),F.apply(this,arguments)}function $(){return $=(0,S.Z)(function*(v,E){try{const I=yield function sr(v,E){return Rn.apply(this,arguments)}(v,E);return hn(v.appConfig,I)}catch(I){throw Me(I)&&409===I.customData.serverCode?yield Ht(v.appConfig):yield hn(v.appConfig,{fid:E.fid,registrationStatus:0}),I}}),$.apply(this,arguments)}function he(v){return be.apply(this,arguments)}function be(){return(be=(0,S.Z)(function*(v){let E=yield Qe(v.appConfig);for(;1===E.registrationStatus;)yield Jt(100),E=yield Qe(v.appConfig);if(0===E.registrationStatus){const{installationEntry:I,registrationPromise:M}=yield U(v);return M||I}return E})).apply(this,arguments)}function Qe(v){return Nn(v,E=>{if(!E)throw Fe.create("installation-not-found");return Le(E)})}function Le(v){return function wt(v){return 1===v.registrationStatus&&v.registrationTime+yr<Date.now()}(v)?{fid:v.fid,registrationStatus:0}:v}function Pt(){return(Pt=(0,S.Z)(function*({appConfig:v,heartbeatServiceProvider:E},I){const M=function ct(v,{fid:E}){return`${Mt(v)}/${E}/authTokens:generate`}(v,I),B=function Wt(v,{refreshToken:E}){const I=Ot(v);return I.append("Authorization",function Er(v){return`${ee} ${v}`}(E)),I}(v,I),G=E.getImmediate({optional:!0});if(G){const Be=yield G.getHeartbeatsHeader();Be&&B.append("x-firebase-client",Be)}const ke={method:"POST",headers:B,body:JSON.stringify({installation:{sdkVersion:Ni,appId:v.appId}})},Ae=yield jt(()=>fetch(M,ke));if(Ae.ok)return Ye(yield Ae.json());throw yield Dt("Generate Auth Token",Ae)})).apply(this,arguments)}function On(v){return pi.apply(this,arguments)}function pi(){return pi=(0,S.Z)(function*(v,E=!1){let I;const M=yield Nn(v.appConfig,G=>{if(!ot(G))throw Fe.create("not-registered");const te=G.authToken;if(!E&&function At(v){return 2===v.requestStatus&&!function yn(v){const E=Date.now();return E<v.creationTime||v.creationTime+v.expiresIn<E+le}(v)}(te))return G;if(1===te.requestStatus)return I=function ie(v,E){return q.apply(this,arguments)}(v,E),G;{if(!navigator.onLine)throw Fe.create("app-offline");const ke=function Xt(v){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},v),{authToken:E})}(G);return I=function Ve(v,E){return xe.apply(this,arguments)}(v,ke),ke}});return I?yield I:M.authToken}),pi.apply(this,arguments)}function q(){return(q=(0,S.Z)(function*(v,E){let I=yield ye(v.appConfig);for(;1===I.authToken.requestStatus;)yield Jt(100),I=yield ye(v.appConfig);const M=I.authToken;return 0===M.requestStatus?On(v,E):M})).apply(this,arguments)}function ye(v){return Nn(v,E=>{if(!ot(E))throw Fe.create("not-registered");return function Hn(v){return 1===v.requestStatus&&v.requestTime+yr<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function xe(){return xe=(0,S.Z)(function*(v,E){try{const I=yield function Je(v,E){return Pt.apply(this,arguments)}(v,E),M=Object.assign(Object.assign({},E),{authToken:I});return yield hn(v.appConfig,M),I}catch(I){if(!Me(I)||401!==I.customData.serverCode&&404!==I.customData.serverCode){const M=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield hn(v.appConfig,M)}else yield Ht(v.appConfig);throw I}}),xe.apply(this,arguments)}function ot(v){return void 0!==v&&2===v.registrationStatus}function Vs(){return(Vs=(0,S.Z)(function*(v){const E=v,{installationEntry:I,registrationPromise:M}=yield U(E);return M?M.catch(console.error):On(E).catch(console.error),I.fid})).apply(this,arguments)}function Us(){return Us=(0,S.Z)(function*(v,E=!1){const I=v;return yield function mi(v){return as.apply(this,arguments)}(I),(yield On(I,E)).token}),Us.apply(this,arguments)}function as(){return(as=(0,S.Z)(function*(v){const{registrationPromise:E}=yield U(v);E&&(yield E)})).apply(this,arguments)}function yo(v){return Fe.create("missing-app-config-values",{valueName:v})}const ra="installations",Eo=v=>{const E=v.getProvider("app").getImmediate(),I=function lr(v){if(!v||!v.options)throw yo("App Configuration");if(!v.name)throw yo("App Name");const E=["projectId","apiKey","appId"];for(const I of E)if(!v.options[I])throw yo(I);return{appName:v.name,projectId:v.options.projectId,apiKey:v.options.apiKey,appId:v.options.appId}}(E);return{app:E,appConfig:I,heartbeatServiceProvider:(0,W._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},fl=v=>{const E=v.getProvider("app").getImmediate(),I=(0,W._getProvider)(E,ra).getImmediate();return{getId:()=>function gi(v){return Vs.apply(this,arguments)}(I),getToken:B=>function hl(v){return Us.apply(this,arguments)}(I,B)}};(function Lu(){(0,W._registerComponent)(new oe.wA(ra,Eo,"PUBLIC")),(0,W._registerComponent)(new oe.wA("installations-internal",fl,"PRIVATE"))})(),(0,W.registerVersion)(Jr,Vt),(0,W.registerVersion)(Jr,Vt,"esm2017");const ia="@firebase/remote-config",$n=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ut{constructor(E,I,M,B){this.client=E,this.storage=I,this.storageCache=M,this.logger=B}isCachedDataFresh(E,I){if(!I)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const M=Date.now()-I,B=M<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${M}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${B}.`),B}fetch(E){var I=this;return(0,S.Z)(function*(){const[M,B]=yield Promise.all([I.storage.getLastSuccessfulFetchTimestampMillis(),I.storage.getLastSuccessfulFetchResponse()]);if(B&&I.isCachedDataFresh(E.cacheMaxAgeMillis,M))return B;E.eTag=B&&B.eTag;const G=yield I.client.fetch(E),te=[I.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===G.status&&te.push(I.storage.setLastSuccessfulFetchResponse(G)),yield Promise.all(te),G})()}}function Ft(v=navigator){return v.languages&&v.languages[0]||v.language}class Ir{constructor(E,I,M,B,G,te){this.firebaseInstallations=E,this.sdkVersion=I,this.namespace=M,this.projectId=B,this.apiKey=G,this.appId=te}fetch(E){var I=this;return(0,S.Z)(function*(){const[M,B]=yield Promise.all([I.firebaseInstallations.getId(),I.firebaseInstallations.getToken()]),te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${I.projectId}/namespaces/${I.namespace}:fetch?key=${I.apiKey}`,ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},Ae={sdk_version:I.sdkVersion,app_instance_id:M,app_instance_id_token:B,app_id:I.appId,language_code:Ft()},Be={method:"POST",headers:ke,body:JSON.stringify(Ae)},it=fetch(te,Be),tt=new Promise((Tn,Ii)=>{E.signal.addEventListener(()=>{const qn=new Error("The operation was aborted.");qn.name="AbortError",Ii(qn)})});let Kt;try{yield Promise.race([it,tt]),Kt=yield it}catch(Tn){let Ii="fetch-client-network";throw"AbortError"===Tn?.name&&(Ii="fetch-timeout"),$n.create(Ii,{originalErrorMessage:Tn?.message})}let _n=Kt.status;const Ts=Kt.headers.get("ETag")||void 0;let qt,Ss;if(200===Kt.status){let Tn;try{Tn=yield Kt.json()}catch(Ii){throw $n.create("fetch-client-parse",{originalErrorMessage:Ii?.message})}qt=Tn.entries,Ss=Tn.state}if("INSTANCE_STATE_UNSPECIFIED"===Ss?_n=500:"NO_CHANGE"===Ss?_n=304:("NO_TEMPLATE"===Ss||"EMPTY_CONFIG"===Ss)&&(qt={}),304!==_n&&200!==_n)throw $n.create("fetch-status",{httpStatus:_n});return{status:_n,eTag:Ts,config:qt}})()}}class cs{constructor(E,I){this.client=E,this.storage=I}fetch(E){var I=this;return(0,S.Z)(function*(){const M=(yield I.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return I.attemptFetch(E,M)})()}attemptFetch(E,{throttleEndTimeMillis:I,backoffCount:M}){var B=this;return(0,S.Z)(function*(){yield function _i(v,E){return new Promise((I,M)=>{const B=Math.max(E-Date.now(),0),G=setTimeout(I,B);v.addEventListener(()=>{clearTimeout(G),M($n.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,I);try{const G=yield B.client.fetch(E);return yield B.storage.deleteThrottleMetadata(),G}catch(G){if(!function Xn(v){if(!(v instanceof Y.ZR&&v.customData))return!1;const E=Number(v.customData.httpStatus);return 429===E||500===E||503===E||504===E}(G))throw G;const te={throttleEndTimeMillis:Date.now()+(0,Y.$s)(M),backoffCount:M+1};return yield B.storage.setThrottleMetadata(te),B.attemptFetch(E,te)}})()}}class Pi{constructor(E,I,M,B,G){this.app=E,this._client=I,this._storageCache=M,this._storage=B,this._logger=G,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ke(v,E){const I=v.target.error||void 0;return $n.create(E,{originalErrorMessage:I&&I?.message})}const Hr="app_namespace_store";class Hs{constructor(E,I,M,B=function Cn(){return new Promise((v,E)=>{try{const I=indexedDB.open("firebase_remote_config",1);I.onerror=M=>{E(Ke(M,"storage-open"))},I.onsuccess=M=>{v(M.target.result)},I.onupgradeneeded=M=>{0===M.oldVersion&&M.target.result.createObjectStore(Hr,{keyPath:"compositeKey"})}}catch(I){E($n.create("storage-open",{originalErrorMessage:I?.message}))}})}()){this.appId=E,this.appName=I,this.namespace=M,this.openDbPromise=B}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var I=this;return(0,S.Z)(function*(){const M=yield I.openDbPromise;return new Promise((B,G)=>{const ke=M.transaction([Hr],"readonly").objectStore(Hr),Ae=I.createCompositeKey(E);try{const Be=ke.get(Ae);Be.onerror=it=>{G(Ke(it,"storage-get"))},Be.onsuccess=it=>{const tt=it.target.result;B(tt?tt.value:void 0)}}catch(Be){G($n.create("storage-get",{originalErrorMessage:Be?.message}))}})})()}set(E,I){var M=this;return(0,S.Z)(function*(){const B=yield M.openDbPromise;return new Promise((G,te)=>{const Ae=B.transaction([Hr],"readwrite").objectStore(Hr),Be=M.createCompositeKey(E);try{const it=Ae.put({compositeKey:Be,value:I});it.onerror=tt=>{te(Ke(tt,"storage-set"))},it.onsuccess=()=>{G()}}catch(it){te($n.create("storage-set",{originalErrorMessage:it?.message}))}})})()}delete(E){var I=this;return(0,S.Z)(function*(){const M=yield I.openDbPromise;return new Promise((B,G)=>{const ke=M.transaction([Hr],"readwrite").objectStore(Hr),Ae=I.createCompositeKey(E);try{const Be=ke.delete(Ae);Be.onerror=it=>{G(Ke(it,"storage-delete"))},Be.onsuccess=()=>{B()}}catch(Be){G($n.create("storage-delete",{originalErrorMessage:Be?.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Dr{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,S.Z)(function*(){const I=E.storage.getLastFetchStatus(),M=E.storage.getLastSuccessfulFetchTimestampMillis(),B=E.storage.getActiveConfig(),G=yield I;G&&(E.lastFetchStatus=G);const te=yield M;te&&(E.lastSuccessfulFetchTimestampMillis=te);const ke=yield B;ke&&(E.activeConfig=ke)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function ds(){return $r.apply(this,arguments)}function $r(){return($r=(0,S.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}!function er(){(0,W._registerComponent)(new oe.wA("remote-config",function v(E,{instanceIdentifier:I}){const M=E.getProvider("app").getImmediate(),B=E.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!(0,Y.hl)())throw $n.create("indexed-db-unavailable");const{projectId:G,apiKey:te,appId:ke}=M.options;if(!G)throw $n.create("registration-project-id");if(!te)throw $n.create("registration-api-key");if(!ke)throw $n.create("registration-app-id");const Ae=new Hs(ke,M.name,I=I||"firebase"),Be=new Dr(Ae),it=new ae.Yd(ia);it.logLevel=ae.in.ERROR;const tt=new Ir(B,W.SDK_VERSION,I,G,te,ke),Kt=new cs(tt,Ae),_n=new ut(Kt,Ae,Be,it),Ts=new Pi(M,_n,Be,Ae,it);return function Pn(v){const E=(0,Y.m9)(v);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Ts),Ts},"PUBLIC").setMultipleInstances(!0)),(0,W.registerVersion)(ia,"0.4.4"),(0,W.registerVersion)(ia,"0.4.4","esm2017")}();const ca=(v,E)=>E.some(I=>v instanceof I);let wr,_t;const $s=new WeakMap,kn=new WeakMap,Gn=new WeakMap,ki=new WeakMap,hs=new WeakMap;let Wn={get(v,E,I){if(v instanceof IDBTransaction){if("done"===E)return kn.get(v);if("objectStoreNames"===E)return v.objectStoreNames||Gn.get(v);if("store"===E)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return br(v[E])},set:(v,E,I)=>(v[E]=I,!0),has:(v,E)=>v instanceof IDBTransaction&&("done"===E||"store"===E)||E in v};function yi(v){return"function"==typeof v?function Cl(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function El(){return _t||(_t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...E){return v.apply(cr(this),E),br($s.get(this))}:function(...E){return br(v.apply(cr(this),E))}:function(E,...I){const M=v.call(cr(this),E,...I);return Gn.set(M,E.sort?E.sort():[E]),br(M)}}(v):(v instanceof IDBTransaction&&function Vu(v){if(kn.has(v))return;const E=new Promise((I,M)=>{const B=()=>{v.removeEventListener("complete",G),v.removeEventListener("error",te),v.removeEventListener("abort",te)},G=()=>{I(),B()},te=()=>{M(v.error||new DOMException("AbortError","AbortError")),B()};v.addEventListener("complete",G),v.addEventListener("error",te),v.addEventListener("abort",te)});kn.set(v,E)}(v),ca(v,function yl(){return wr||(wr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,Wn):v)}function br(v){if(v instanceof IDBRequest)return function In(v){const E=new Promise((I,M)=>{const B=()=>{v.removeEventListener("success",G),v.removeEventListener("error",te)},G=()=>{I(br(v.result)),B()},te=()=>{M(v.error),B()};v.addEventListener("success",G),v.addEventListener("error",te)});return E.then(I=>{I instanceof IDBCursor&&$s.set(I,v)}).catch(()=>{}),hs.set(E,v),E}(v);if(ki.has(v))return ki.get(v);const E=yi(v);return E!==v&&(ki.set(v,E),hs.set(E,v)),E}const cr=v=>hs.get(v);function fs(v,E,{blocked:I,upgrade:M,blocking:B,terminated:G}={}){const te=indexedDB.open(v,E),ke=br(te);return M&&te.addEventListener("upgradeneeded",Ae=>{M(br(te.result),Ae.oldVersion,Ae.newVersion,br(te.transaction))}),I&&te.addEventListener("blocked",()=>I()),ke.then(Ae=>{G&&Ae.addEventListener("close",()=>G()),B&&Ae.addEventListener("versionchange",()=>B())}).catch(()=>{}),ke}function Co(v,{blocked:E}={}){const I=indexedDB.deleteDatabase(v);return E&&I.addEventListener("blocked",()=>E()),br(I).then(()=>{})}const Uu=["get","getKey","getAll","getAllKeys","count"],yd=["put","add","delete","clear"],Il=new Map;function da(v,E){if(!(v instanceof IDBDatabase)||E in v||"string"!=typeof E)return;if(Il.get(E))return Il.get(E);const I=E.replace(/FromIndex$/,""),M=E!==I,B=yd.includes(I);if(!(I in(M?IDBIndex:IDBObjectStore).prototype)||!B&&!Uu.includes(I))return;const G=function(){var te=(0,S.Z)(function*(ke,...Ae){const Be=this.transaction(ke,B?"readwrite":"readonly");let it=Be.store;return M&&(it=it.index(Ae.shift())),(yield Promise.all([it[I](...Ae),B&&Be.done]))[0]});return function(Ae){return te.apply(this,arguments)}}();return Il.set(E,G),G}!function zn(v){Wn=v(Wn)}(v=>({...v,get:(E,I,M)=>da(E,I)||v.get(E,I,M),has:(E,I)=>!!da(E,I)||v.has(E,I)}));const Dl="/firebase-messaging-sw.js",Bu="/firebase-cloud-messaging-push-scope",Ed="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Cd="https://fcmregistrations.googleapis.com/v1",Zt="google.c.a.c_id",Id="google.c.a.c_l",Rg="google.c.a.ts";var ha=function(v){return v.PUSH_RECEIVED="push-received",v.NOTIFICATION_CLICKED="notification-clicked",v}(ha||{});function Gr(v){const E=new Uint8Array(v);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wd(v){const I=(v+"=".repeat((4-v.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),M=atob(I),B=new Uint8Array(M.length);for(let G=0;G<M.length;++G)B[G]=M.charCodeAt(G);return B}const Gs="fcm_token_details_db",Ws=5,uf="fcm_token_object_Store";function wl(){return wl=(0,S.Z)(function*(v){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(G=>G.name).includes(Gs))return null;let E=null;return(yield fs(Gs,Ws,{upgrade:(M=(0,S.Z)(function*(B,G,te,ke){var Ae;if(G<2||!B.objectStoreNames.contains(uf))return;const Be=ke.objectStore(uf),it=yield Be.index("fcmSenderId").get(v);if(yield Be.clear(),it)if(2===G){const tt=it;if(!tt.auth||!tt.p256dh||!tt.endpoint)return;E={token:tt.fcmToken,createTime:null!==(Ae=tt.createTime)&&void 0!==Ae?Ae:Date.now(),subscriptionOptions:{auth:tt.auth,p256dh:tt.p256dh,endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:"string"==typeof tt.vapidKey?tt.vapidKey:Gr(tt.vapidKey)}}}else if(3===G){const tt=it;E={token:tt.fcmToken,createTime:tt.createTime,subscriptionOptions:{auth:Gr(tt.auth),p256dh:Gr(tt.p256dh),endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:Gr(tt.vapidKey)}}}else if(4===G){const tt=it;E={token:tt.fcmToken,createTime:tt.createTime,subscriptionOptions:{auth:Gr(tt.auth),p256dh:Gr(tt.p256dh),endpoint:tt.endpoint,swScope:tt.swScope,vapidKey:Gr(tt.vapidKey)}}}}),function(G,te,ke,Ae){return M.apply(this,arguments)})})).close(),yield Co(Gs),yield Co("fcm_vapid_details_db"),yield Co("undefined"),function Ei(v){if(!v||!v.subscriptionOptions)return!1;const{subscriptionOptions:E}=v;return"number"==typeof v.createTime&&v.createTime>0&&"string"==typeof v.token&&v.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}(E)?E:null;var M}),wl.apply(this,arguments)}const Fi="firebase-messaging-database",fa=1,Wr="firebase-messaging-store";let fn=null;function Io(){return fn||(fn=fs(Fi,fa,{upgrade:(v,E)=>{0===E&&v.createObjectStore(Wr)}})),fn}function Zn(v){return Do.apply(this,arguments)}function Do(){return Do=(0,S.Z)(function*(v){const E=Tl(v),M=yield(yield Io()).transaction(Wr).objectStore(Wr).get(E);if(M)return M;{const B=yield function bd(v){return wl.apply(this,arguments)}(v.appConfig.senderId);if(B)return yield wo(v,B),B}}),Do.apply(this,arguments)}function wo(v,E){return bl.apply(this,arguments)}function bl(){return(bl=(0,S.Z)(function*(v,E){const I=Tl(v),B=(yield Io()).transaction(Wr,"readwrite");return yield B.objectStore(Wr).put(E,I),yield B.done,E})).apply(this,arguments)}function Li(){return(Li=(0,S.Z)(function*(v){const E=Tl(v),M=(yield Io()).transaction(Wr,"readwrite");yield M.objectStore(Wr).delete(E),yield M.done})).apply(this,arguments)}function Tl({appConfig:v}){return v.appId}const pn=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Td(v,E){return bo.apply(this,arguments)}function bo(){return(bo=(0,S.Z)(function*(v,E){const I=yield pa(v),M=Gu(E),B={method:"POST",headers:I,body:JSON.stringify(M)};let G;try{G=yield(yield fetch(Sl(v.appConfig),B)).json()}catch(te){throw pn.create("token-subscribe-failed",{errorInfo:te?.toString()})}if(G.error)throw pn.create("token-subscribe-failed",{errorInfo:G.error.message});if(!G.token)throw pn.create("token-subscribe-no-token");return G.token})).apply(this,arguments)}function ps(){return(ps=(0,S.Z)(function*(v,E){const I=yield pa(v),M=Gu(E.subscriptionOptions),B={method:"PATCH",headers:I,body:JSON.stringify(M)};let G;try{G=yield(yield fetch(`${Sl(v.appConfig)}/${E.token}`,B)).json()}catch(te){throw pn.create("token-update-failed",{errorInfo:te?.toString()})}if(G.error)throw pn.create("token-update-failed",{errorInfo:G.error.message});if(!G.token)throw pn.create("token-update-no-token");return G.token})).apply(this,arguments)}function To(v,E){return ei.apply(this,arguments)}function ei(){return(ei=(0,S.Z)(function*(v,E){const M={method:"DELETE",headers:yield pa(v)};try{const G=yield(yield fetch(`${Sl(v.appConfig)}/${E}`,M)).json();if(G.error)throw pn.create("token-unsubscribe-failed",{errorInfo:G.error.message})}catch(B){throw pn.create("token-unsubscribe-failed",{errorInfo:B?.toString()})}})).apply(this,arguments)}function Sl({projectId:v}){return`${Cd}/projects/${v}/registrations`}function pa(v){return $u.apply(this,arguments)}function $u(){return($u=(0,S.Z)(function*({appConfig:v,installations:E}){const I=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v.apiKey,"x-goog-firebase-installations-auth":`FIS ${I}`})})).apply(this,arguments)}function Gu({p256dh:v,auth:E,endpoint:I,vapidKey:M}){const B={web:{endpoint:I,auth:E,p256dh:v}};return M!==Ed&&(B.web.applicationPubKey=M),B}const cf=6048e5;function Ad(){return Ad=(0,S.Z)(function*(v){const E=yield function ma(v,E){return Al.apply(this,arguments)}(v.swRegistration,v.vapidKey),I={vapidKey:v.vapidKey,swScope:v.swRegistration.scope,endpoint:E.endpoint,auth:Gr(E.getKey("auth")),p256dh:Gr(E.getKey("p256dh"))},M=yield Zn(v.firebaseDependencies);if(M){if(function qu(v,E){return E.vapidKey===v.vapidKey&&E.endpoint===v.endpoint&&E.auth===v.auth&&E.p256dh===v.p256dh}(M.subscriptionOptions,I))return Date.now()>=M.createTime+cf?function Zu(v,E){return ga.apply(this,arguments)}(v,{token:M.token,createTime:Date.now(),subscriptionOptions:I}):M.token;try{yield To(v.firebaseDependencies,M.token)}catch(B){console.warn(B)}return Ao(v.firebaseDependencies,I)}return Ao(v.firebaseDependencies,I)}),Ad.apply(this,arguments)}function So(){return So=(0,S.Z)(function*(v){const E=yield Zn(v.firebaseDependencies);E&&(yield To(v.firebaseDependencies,E.token),yield function ju(v){return Li.apply(this,arguments)}(v.firebaseDependencies));const I=yield v.swRegistration.pushManager.getSubscription();return!I||I.unsubscribe()}),So.apply(this,arguments)}function ga(){return ga=(0,S.Z)(function*(v,E){try{const I=yield function Sd(v,E){return ps.apply(this,arguments)}(v.firebaseDependencies,E),M=Object.assign(Object.assign({},E),{token:I,createTime:Date.now()});return yield wo(v.firebaseDependencies,M),I}catch(I){throw yield function zu(v){return So.apply(this,arguments)}(v),I}}),ga.apply(this,arguments)}function Ao(v,E){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,S.Z)(function*(v,E){const M={token:yield Td(v,E),createTime:Date.now(),subscriptionOptions:E};return yield wo(v,M),M.token})).apply(this,arguments)}function Al(){return(Al=(0,S.Z)(function*(v,E){return(yield v.pushManager.getSubscription())||v.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wd(E)})})).apply(this,arguments)}function _a(v){const E={from:v.from,collapseKey:v.collapse_key,messageId:v.fcmMessageId};return function Mo(v,E){if(!E.notification)return;v.notification={};const I=E.notification.title;I&&(v.notification.title=I);const M=E.notification.body;M&&(v.notification.body=M);const B=E.notification.image;B&&(v.notification.image=B);const G=E.notification.icon;G&&(v.notification.icon=G)}(E,v),function df(v,E){E.data&&(v.data=E.data)}(E,v),function Ml(v,E){var I,M,B,G,te;if(!(E.fcmOptions||null!==(I=E.notification)&&void 0!==I&&I.click_action))return;v.fcmOptions={};const ke=null!==(B=null===(M=E.fcmOptions)||void 0===M?void 0:M.link)&&void 0!==B?B:null===(G=E.notification)||void 0===G?void 0:G.click_action;ke&&(v.fcmOptions.link=ke);const Ae=null===(te=E.fcmOptions)||void 0===te?void 0:te.analytics_label;Ae&&(v.fcmOptions.analyticsLabel=Ae)}(E,v),E}function Rl(v,E){const I=[];for(let M=0;M<v.length;M++)I.push(v.charAt(M)),M<E.length&&I.push(E.charAt(M));return I.join("")}function Nl(v){return pn.create("missing-app-config-values",{valueName:v})}Rl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Rd{constructor(E,I,M){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const B=function hf(v){if(!v||!v.options)throw Nl("App Configuration Object");if(!v.name)throw Nl("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:I}=v;for(const M of E)if(!I[M])throw Nl(M);return{appName:v.name,projectId:I.projectId,apiKey:I.apiKey,appId:I.appId,senderId:I.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:B,installations:I,analyticsProvider:M}}_delete(){return Promise.resolve()}}function Ro(){return(Ro=(0,S.Z)(function*(v){try{v.swRegistration=yield navigator.serviceWorker.register(Dl,{scope:Bu}),v.swRegistration.update().catch(()=>{})}catch(E){throw pn.create("failed-service-worker-registration",{browserErrorMessage:E?.message})}})).apply(this,arguments)}function zr(){return(zr=(0,S.Z)(function*(v,E){if(!E&&!v.swRegistration&&(yield function va(v){return Ro.apply(this,arguments)}(v)),E||!v.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw pn.create("invalid-sw-registration");v.swRegistration=E}})).apply(this,arguments)}function No(){return(No=(0,S.Z)(function*(v,E){E?v.vapidKey=E:v.vapidKey||(v.vapidKey=Ed)})).apply(this,arguments)}function Oo(){return Oo=(0,S.Z)(function*(v,E){if(!navigator)throw pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pn.create("permission-blocked");return yield function zs(v,E){return No.apply(this,arguments)}(v,E?.vapidKey),yield function ya(v,E){return zr.apply(this,arguments)}(v,E?.serviceWorkerRegistration),function Wu(v){return Ad.apply(this,arguments)}(v)}),Oo.apply(this,arguments)}function Or(){return(Or=(0,S.Z)(function*(v,E,I){const M=function Qu(v){switch(v){case ha.NOTIFICATION_CLICKED:return"notification_open";case ha.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(E);(yield v.firebaseDependencies.analyticsProvider.get()).logEvent(M,{message_id:I[Zt],message_name:I[Id],message_time:I[Rg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nt(){return Nt=(0,S.Z)(function*(v,E){const I=E.data;if(!I.isFirebaseMessaging)return;v.onMessageHandler&&I.messageType===ha.PUSH_RECEIVED&&("function"==typeof v.onMessageHandler?v.onMessageHandler(_a(I)):v.onMessageHandler.next(_a(I)));const M=I.data;(function Md(v){return"object"==typeof v&&!!v&&Zt in v})(M)&&"1"===M["google.c.a.e"]&&(yield function ff(v,E,I){return Or.apply(this,arguments)}(v,I.messageType,M))}),Nt.apply(this,arguments)}const Po="@firebase/messaging",tr=v=>{const E=new Rd(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),v.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",I=>function Ea(v,E){return Nt.apply(this,arguments)}(E,I)),E},pf=v=>{const E=v.getProvider("messaging").getImmediate();return{getToken:M=>function Yu(v,E){return Oo.apply(this,arguments)}(E,M)}};function gs(){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,S.Z)(function*(){try{yield(0,Y.eu)()}catch{return!1}return typeof window<"u"&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ol(){(0,W._registerComponent)(new oe.wA("messaging",tr,"PUBLIC")),(0,W._registerComponent)(new oe.wA("messaging-internal",pf,"PRIVATE")),(0,W.registerVersion)(Po,"0.12.4"),(0,W.registerVersion)(Po,"0.12.4","esm2017")}();const Zs="analytics",Xu="firebase_id",Xe="origin",Ia=6e4,mf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Da="https://www.googletagmanager.com/gtag/js",wn=new ae.Yd("@firebase/analytics"),gn=new Y.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Vi(v){if(!v.startsWith(Da)){const E=gn.create("invalid-gtag-resource",{gtagURL:v});return wn.warn(E.message),""}return v}function Ks(v){return Promise.all(v.map(E=>E.catch(I=>I)))}function ge(){return(ge=(0,S.Z)(function*(v,E,I,M,B,G){const te=M[B];try{if(te)yield E[te];else{const Ae=(yield Ks(I)).find(Be=>Be.measurementId===B);Ae&&(yield E[Ae.appId])}}catch(ke){wn.error(ke)}v("config",B,G)})).apply(this,arguments)}function Tr(){return(Tr=(0,S.Z)(function*(v,E,I,M,B){try{let G=[];if(B&&B.send_to){let te=B.send_to;Array.isArray(te)||(te=[te]);const ke=yield Ks(I);for(const Ae of te){const Be=ke.find(tt=>tt.measurementId===Ae),it=Be&&E[Be.appId];if(!it){G=[];break}G.push(it)}}0===G.length&&(G=Object.values(E)),yield Promise.all(G),v("event",M,B||{})}catch(G){wn.error(G)}})).apply(this,arguments)}const xo=30,Fl=new class nc{constructor(E={},I=1e3){this.throttleMetadata=E,this.intervalMillis=I}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,I){this.throttleMetadata[E]=I}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function xd(v){return new Headers({Accept:"application/json","x-goog-api-key":v})}function Ll(){return(Ll=(0,S.Z)(function*(v){var E;const{appId:I,apiKey:M}=v,B={method:"GET",headers:xd(M)},G=mf.replace("{app-id}",I),te=yield fetch(G,B);if(200!==te.status&&304!==te.status){let ke="";try{const Ae=yield te.json();null!==(E=Ae.error)&&void 0!==E&&E.message&&(ke=Ae.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:te.status,responseMessage:ke})}return te.json()})).apply(this,arguments)}function ri(){return(ri=(0,S.Z)(function*(v,E=Fl,I){const{appId:M,apiKey:B,measurementId:G}=v.options;if(!M)throw gn.create("no-app-id");if(!B){if(G)return{measurementId:G,appId:M};throw gn.create("no-api-key")}const te=E.getThrottleMetadata(M)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ke=new ic;return setTimeout((0,S.Z)(function*(){ke.abort()}),void 0!==I?I:Ia),rc({appId:M,apiKey:B,measurementId:G},te,ke,E)})).apply(this,arguments)}function rc(v,E,I){return vs.apply(this,arguments)}function vs(){return vs=(0,S.Z)(function*(v,{throttleEndTimeMillis:E,backoffCount:I},M,B=Fl){var G;const{appId:te,measurementId:ke}=v;try{yield function ii(v,E){return new Promise((I,M)=>{const B=Math.max(E-Date.now(),0),G=setTimeout(I,B);v.addEventListener(()=>{clearTimeout(G),M(gn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(M,E)}catch(Ae){if(ke)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Ae?.message}]`),{appId:te,measurementId:ke};throw Ae}try{const Ae=yield function Og(v){return Ll.apply(this,arguments)}(v);return B.deleteThrottleMetadata(te),Ae}catch(Ae){const Be=Ae;if(!function _f(v){if(!(v instanceof Y.ZR&&v.customData))return!1;const E=Number(v.customData.httpStatus);return 429===E||500===E||503===E||504===E}(Be)){if(B.deleteThrottleMetadata(te),ke)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:te,measurementId:ke};throw Ae}const it=503===Number(null===(G=Be?.customData)||void 0===G?void 0:G.httpStatus)?(0,Y.$s)(I,B.intervalMillis,xo):(0,Y.$s)(I,B.intervalMillis),tt={throttleEndTimeMillis:Date.now()+it,backoffCount:I+1};return B.setThrottleMetadata(te,tt),wn.debug(`Calling attemptFetch again in ${it} millis`),rc(v,tt,M,B)}}),vs.apply(this,arguments)}class ic{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let ba,Vn;function Ta(){return(Ta=(0,S.Z)(function*(v,E,I,M,B){if(B&&B.global)v("event",I,M);else{const G=yield E;v("event",I,Object.assign(Object.assign({},M),{send_to:G}))}})).apply(this,arguments)}function Zr(){return(Zr=(0,S.Z)(function*(){if(!(0,Y.hl)())return wn.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eu)()}catch(v){return wn.warn(gn.create("indexeddb-unavailable",{errorInfo:v?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ci(){return Ci=(0,S.Z)(function*(v,E,I,M,B,G,te){var ke;const Ae=function Ln(v){return ri.apply(this,arguments)}(v);Ae.then(_n=>{I[_n.measurementId]=_n.appId,v.options.measurementId&&_n.measurementId!==v.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${v.options.measurementId}) does not match the measurement ID fetched from the server (${_n.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_n=>wn.error(_n)),E.push(Ae);const Be=function nr(){return Zr.apply(this,arguments)}().then(_n=>{if(_n)return M.getId()}),[it,tt]=yield Promise.all([Ae,Be]);(function wa(v){const E=window.document.getElementsByTagName("script");for(const I of Object.values(E))if(I.src&&I.src.includes(Da)&&I.src.includes(v))return I;return null})(G)||function Pd(v,E){const I=function xl(v,E){let I;return window.trustedTypes&&(I=window.trustedTypes.createPolicy(v,E)),I}("firebase-js-sdk-policy",{createScriptURL:Vi}),M=document.createElement("script"),B=`${Da}?l=${v}&id=${E}`;M.src=I?I?.createScriptURL(B):B,M.async=!0,document.head.appendChild(M)}(G,it.measurementId),Vn&&(B("consent","default",Vn),function ko(v){Vn=v}(void 0)),B("js",new Date);const Kt=null!==(ke=te?.config)&&void 0!==ke?ke:{};return Kt[Xe]="firebase",Kt.update=!0,null!=tt&&(Kt[Xu]=tt),B("config",it.measurementId,Kt),ba&&(B("set",ba),function Aa(v){ba=v}(void 0)),it.measurementId}),Ci.apply(this,arguments)}class ys{constructor(E){this.app=E}_delete(){return delete at[this.app.options.appId],Promise.resolve()}}let at={},ac=[];const jl={};let si,Gt,Bi="dataLayer",ji=!1;function Ma(v,E,I){!function qs(){const v=[];if((0,Y.ru)()&&v.push("This is a browser extension environment."),(0,Y.zI)()||v.push("Cookies are not available."),v.length>0){const E=v.map((M,B)=>`(${B+1}) ${M}`).join(" "),I=gn.create("invalid-analytics-context",{errorInfo:E});wn.warn(I.message)}}();const M=v.options.appId;if(!M)throw gn.create("no-app-id");if(!v.options.apiKey){if(!v.options.measurementId)throw gn.create("no-api-key");wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${v.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=at[M])throw gn.create("already-exists",{id:M});if(!ji){!function ec(v){let E=[];Array.isArray(window[v])?E=window[v]:window[v]=E}(Bi);const{wrappedGtag:G,gtagCore:te}=function Fn(v,E,I,M,B){let G=function(...te){window[M].push(arguments)};return window[B]&&"function"==typeof window[B]&&(G=window[B]),window[B]=function kl(v,E,I,M){function G(){return G=(0,S.Z)(function*(te,...ke){try{if("event"===te){const[Ae,Be]=ke;yield function Ct(v,E,I,M,B){return Tr.apply(this,arguments)}(v,E,I,Ae,Be)}else if("config"===te){const[Ae,Be]=ke;yield function tc(v,E,I,M,B,G){return ge.apply(this,arguments)}(v,E,I,M,Ae,Be)}else if("consent"===te){const[Ae]=ke;v("consent","update",Ae)}else if("get"===te){const[Ae,Be,it]=ke;v("get",Ae,Be,it)}else if("set"===te){const[Ae]=ke;v("set",Ae)}else v(te,...ke)}catch(Ae){wn.error(Ae)}}),G.apply(this,arguments)}return function B(te){return G.apply(this,arguments)}}(G,v,E,I),{gtagCore:G,wrappedGtag:window[B]}}(at,ac,jl,Bi,"gtag");Gt=G,si=te,ji=!0}return at[M]=function $t(v,E,I,M,B,G,te){return Ci.apply(this,arguments)}(v,ac,jl,E,si,Bi,I),new ys(v)}function Lo(){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,S.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch{return!1}})).apply(this,arguments)}const Bo="@firebase/analytics";!function mn(){(0,W._registerComponent)(new oe.wA(Zs,(E,{options:I})=>Ma(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),I),"PUBLIC")),(0,W._registerComponent)(new oe.wA("analytics-internal",function v(E){try{const I=E.getProvider(Zs).getImmediate();return{logEvent:(M,B,G)=>function dr(v,E,I,M){v=(0,Y.m9)(v),function vf(v,E,I,M,B){return Ta.apply(this,arguments)}(Gt,at[v.app.options.appId],E,I,M).catch(B=>wn.error(B))}(I,M,B,G)}}catch(I){throw gn.create("interop-component-reg-failed",{reason:I})}},"PRIVATE")),(0,W.registerVersion)(Bo,"0.10.0"),(0,W.registerVersion)(Bo,"0.10.0","esm2017")}();var oi=N(1954),fr=N(2631);const jo=new class pr extends fr.v{}(class Gl extends oi.o{constructor(E,I){super(E,I),this.scheduler=E,this.work=I}schedule(E,I=0){return I>0?super.schedule(E,I):(this.delay=I,this.state=E,this.scheduler.flush(this),this)}execute(E,I){return I>0||this.closed?super.execute(E,I):this._execute(E,I)}requestAsyncId(E,I,M=0){return null!=M&&M>0||null==M&&this.delay>0?super.requestAsyncId(E,I,M):(E.flush(this),0)}});var kd=N(6321),bn=N(9397),Is=N(5137),ln=N(3093);const ai=new d.GfV("7.6.1"),Qs="__angularfire_symbol__analyticsIsSupportedValue",Hi="__angularfire_symbol__analyticsIsSupported",$i="__angularfire_symbol__remoteConfigIsSupportedValue",Pa="__angularfire_symbol__remoteConfigIsSupported",Ho="__angularfire_symbol__messagingIsSupportedValue",Js="__angularfire_symbol__messagingIsSupported";function ws(v,E,I){if(E){if(1===E.length)return E[0];const G=E.filter(te=>te.app===I);if(1===G.length)return G[0]}return I.container.getProvider(v).getImmediate({optional:!0})}globalThis[Hi]||(globalThis[Hi]=Lo().then(v=>globalThis[Qs]=v).catch(()=>globalThis[Qs]=!1)),globalThis[Js]||(globalThis[Js]=gs().then(v=>globalThis[Ho]=v).catch(()=>globalThis[Ho]=!1)),globalThis[Pa]||(globalThis[Pa]=ds().then(v=>globalThis[$i]=v).catch(()=>globalThis[$i]=!1));const Gi=(v,E)=>{const I=E?[E]:(0,k.C6)(),M=[];return I.forEach(B=>{B.container.getProvider(v).instances.forEach(te=>{M.includes(te)||M.push(te)})}),M};function bs(){}class zl{constructor(E,I=jo){this.zone=E,this.delegate=I}now(){return this.delegate.now()}schedule(E,I,M){const B=this.zone;return this.delegate.schedule(function(te){B.runGuarded(()=>{E.apply(this,[te])})},I,M)}}class rr{constructor(E){this.zone=E,this.task=null}call(E,I){const M=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs)),I.pipe((0,bn.b)({next:M,complete:M,error:M})).subscribe(E).add(M)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uc=(()=>{class v{constructor(I){this.ngZone=I,this.outsideAngular=I.runOutsideAngular(()=>new zl(Zone.current)),this.insideAngular=I.run(()=>new zl(Zone.current,kd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return v.\u0275fac=function(I){return new(I||v)(d.LFG(d.R0b))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Ut(){const v=globalThis.\u0275AngularFireScheduler;if(!v)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return v}function Kl(v){return Ut(),function xa(v){return function(I){return(I=I.lift(new rr(v.ngZone))).pipe((0,Is.R)(v.outsideAngular),(0,ln.Q)(v.insideAngular))}}(Ut())(v)}},6878:(He,pe,N)=>{N.d(pe,{$:()=>Dl,A:()=>V,D:()=>_e,I:()=>Fu,J:()=>Eo,L:()=>Re,N:()=>Nn,P:()=>$t,Q:()=>Hs,R:()=>sc,U:()=>ua,V:()=>ds,W:()=>$r,X:()=>xi,Y:()=>yl,Z:()=>El,_:()=>hs,a:()=>Ca,a0:()=>Ed,a1:()=>Zt,a2:()=>Ng,a3:()=>uf,a4:()=>wl,a5:()=>Fi,a6:()=>Wr,a7:()=>Io,a8:()=>Do,a9:()=>bl,aA:()=>K,aB:()=>$i,aC:()=>Ht,aD:()=>Cr,aE:()=>Is,aF:()=>$l,aG:()=>Cs,aH:()=>en,aL:()=>_s,aO:()=>wr,aa:()=>ju,ab:()=>Tl,ac:()=>Hu,ad:()=>Sd,ae:()=>To,af:()=>Sl,ai:()=>cf,aj:()=>Ad,ak:()=>zu,an:()=>Cl,ao:()=>Mo,aq:()=>No,ar:()=>Po,as:()=>Ze,at:()=>Le,au:()=>he,av:()=>z,aw:()=>Kt,ax:()=>Xs,ay:()=>wt,az:()=>ce,b:()=>Pl,c:()=>Gt,d:()=>Ma,e:()=>Fo,f:()=>Bo,g:()=>pr,h:()=>oi,i:()=>ni,j:()=>kd,k:()=>Tn,l:()=>Sa,m:()=>ka,p:()=>me,r:()=>qe,s:()=>Sr,u:()=>nr});var d=N(5861),k=N(9058),S=N(534),W=N(7582),Y=N(7879),oe=N(4537);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const _e=function Z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ne=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new Y.Yd("@firebase/auth");function je(m,...h){Ce.logLevel<=Y.in.ERROR&&Ce.error(`Auth (${S.SDK_VERSION}): ${m}`,...h)}function z(m,...h){throw De(m,...h)}function ce(m,...h){return De(m,...h)}function Q(m,h,p){const y=Object.assign(Object.assign({},Ne()),{[h]:p});return new k.LL("auth","Firebase",y).create(h,{appName:m.name})}function de(m,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&z(m,"argument-error"),Q(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function De(m,...h){if("string"!=typeof m){const p=h[0],y=[...h.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(p,...y)}return ve.create(m,...h)}function K(m,h,...p){if(!m)throw De(h,...p)}function Ue(m){const h="INTERNAL ASSERTION FAILED: "+m;throw je(h),new Error(h)}function Ze(m,h){m||Ue(h)}function gt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function vn(){return"http:"===Qn()||"https:"===Qn()}function Qn(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class yr{constructor(h,p){this.shortDelay=h,this.longDelay=p,Ze(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Jr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(vn()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ni(m,h){Ze(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class ee{static initialize(h,p,y){this.fetchImpl=h,p&&(this.headersImpl=p),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const re={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=new yr(3e4,6e4);function J(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function fe(m,h,p,y){return we.apply(this,arguments)}function we(){return(we=(0,d.Z)(function*(m,h,p,y,D={}){return Fe(m,D,(0,d.Z)(function*(){let T={},H={};y&&("GET"===h?H=y:T={body:JSON.stringify(y)});const X=(0,k.xO)(Object.assign({key:m.config.apiKey},H)).slice(1),Se=yield m._getAdditionalHeaders();return Se["Content-Type"]="application/json",m.languageCode&&(Se["X-Firebase-Locale"]=m.languageCode),ee.fetch()(Dt(m,m.config.apiHost,p,X),Object.assign({method:h,headers:Se,referrerPolicy:"no-referrer"},T))}))})).apply(this,arguments)}function Fe(m,h,p){return Me.apply(this,arguments)}function Me(){return(Me=(0,d.Z)(function*(m,h,p){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},re),h);try{const D=new nt(m),T=yield Promise.race([p(),D.promise]);D.clearNetworkTimeout();const H=yield T.json();if("needConfirmation"in H)throw Ot(m,"account-exists-with-different-credential",H);if(T.ok&&!("errorMessage"in H))return H;{const X=T.ok?H.errorMessage:H.error.message,[Se,Pe]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Se)throw Ot(m,"credential-already-in-use",H);if("EMAIL_EXISTS"===Se)throw Ot(m,"email-already-in-use",H);if("USER_DISABLED"===Se)throw Ot(m,"user-disabled",H);const We=y[Se]||Se.toLowerCase().replace(/[_\s]+/g,"-");if(Pe)throw Q(m,We,Pe);z(m,We)}}catch(D){if(D instanceof k.ZR)throw D;z(m,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function Mt(m,h,p,y){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,d.Z)(function*(m,h,p,y,D={}){const T=yield fe(m,h,p,y,D);return"mfaPendingCredential"in T&&z(m,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function Dt(m,h,p,y){const D=`${h}${p}?${y}`;return m.config.emulator?Ni(m.config,D):`${m.config.apiScheme}://${D}`}class nt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,y)=>{this.timer=setTimeout(()=>y(ce(this.auth,"network-request-failed")),le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ot(m,h,p){const y={appName:m.name};p.email&&(y.email=p.email),p.phoneNumber&&(y.phoneNumber=p.phoneNumber);const D=ce(m,h,y);return D.customData._tokenResponse=p,D}function jt(){return(jt=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function rn(){return(rn=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Rn(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Xr(){return(Xr=(0,d.Z)(function*(m,h=!1){const p=(0,k.m9)(m),y=yield p.getIdToken(h),D=st(y);K(D&&D.exp&&D.auth_time&&D.iat,p.auth,"internal-error");const T="object"==typeof D.firebase?D.firebase:void 0,H=T?.sign_in_provider;return{claims:D,token:y,authTime:Rn(Ge(D.auth_time)),issuedAtTime:Rn(Ge(D.iat)),expirationTime:Rn(Ge(D.exp)),signInProvider:H||null,signInSecondFactor:T?.sign_in_second_factor||null}})).apply(this,arguments)}function Ge(m){return 1e3*Number(m)}function st(m){const[h,p,y]=m.split(".");if(void 0===h||void 0===p||void 0===y)return je("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,k.tV)(p);return D?JSON.parse(D):(je("Failed to decode base64 JWT payload"),null)}catch(D){return je("Caught error parsing JWT payload as JSON",D?.toString()),null}}function mt(m,h){return un.apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(m,h,p=!1){if(p)return h;try{return yield h}catch(y){throw y instanceof k.ZR&&function or({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}class ft{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const D=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const y=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield p.iteration()}),y)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class sn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rn(this.lastLoginAt),this.creationTime=Rn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Br(m){return St.apply(this,arguments)}function St(){return St=(0,d.Z)(function*(m){var h;const p=m.auth,y=yield m.getIdToken(),D=yield mt(m,function Er(m,h){return sr.apply(this,arguments)}(p,{idToken:y}));K(D?.users.length,p,"internal-error");const T=D.users[0];m._notifyReloadListener(T);const H=null!==(h=T.providerUserInfo)&&void 0!==h&&h.length?function Mr(m){return m.map(h=>{var{providerId:p}=h,y=(0,W._T)(h,["providerId"]);return{providerId:p,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(T.providerUserInfo):[],X=function zt(m,h){return[...m.filter(y=>!h.some(D=>D.providerId===y.providerId)),...h]}(m.providerData,H),We=!!m.isAnonymous&&!(m.email&&T.passwordHash||X?.length),yt={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:X,metadata:new sn(T.createdAt,T.lastLoginAt),isAnonymous:We};Object.assign(m,yt)}),St.apply(this,arguments)}function rt(){return(rt=(0,d.Z)(function*(m){const h=(0,k.m9)(m);yield Br(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(m,h){const p=yield Fe(m,{},(0,d.Z)(function*(){const y=(0,k.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:D,apiKey:T}=m.config,H=Dt(m,D,"/v1/token",`key=${T}`),X=yield m._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",ee.fetch()(H,{method:"POST",headers:X,body:y})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class cn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){K(h.idToken,"internal-error"),K(typeof h.idToken<"u","internal-error"),K(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function et(m){const h=st(m);return K(h,"internal-error"),K(typeof h.exp<"u","internal-error"),K(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var y=this;return(0,d.Z)(function*(){return K(!y.accessToken||y.refreshToken,h,"user-token-expired"),p||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(h,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var y=this;return(0,d.Z)(function*(){const{accessToken:D,refreshToken:T,expiresIn:H}=yield function Rr(m,h){return Bn.apply(this,arguments)}(h,p);y.updateTokensAndExpiration(D,T,Number(H))})()}updateTokensAndExpiration(h,p,y){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(h,p){const{refreshToken:y,accessToken:D,expirationTime:T}=p,H=new cn;return y&&(K("string"==typeof y,"internal-error",{appName:h}),H.refreshToken=y),D&&(K("string"==typeof D,"internal-error",{appName:h}),H.accessToken=D),T&&(K("number"==typeof T,"internal-error",{appName:h}),H.expirationTime=T),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new cn,this.toJSON())}_performRefresh(){return Ue("not implemented")}}function dn(m,h){K("string"==typeof m||typeof m>"u","internal-error",{appName:h})}class hn{constructor(h){var{uid:p,auth:y,stsTokenManager:D}=h,T=(0,W._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ft(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=y,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new sn(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,d.Z)(function*(){const y=yield mt(p,p.stsTokenManager.getToken(p.auth,h));return K(y,p.auth,"internal-error"),p.accessToken!==y&&(p.accessToken=y,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),y})()}getIdTokenResult(h){return function Jn(m){return Xr.apply(this,arguments)}(this,h)}reload(){return function ar(m){return rt.apply(this,arguments)}(this)}_assign(h){this!==h&&(K(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new hn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var y=this;return(0,d.Z)(function*(){let D=!1;h.idToken&&h.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(h),D=!0),p&&(yield Br(y)),yield y.auth._persistUserIfCurrent(y),D&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var h=this;return(0,d.Z)(function*(){const p=yield h.getIdToken();return yield mt(h,function Wt(m,h){return jt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var y,D,T,H,X,Se,Pe,We;const yt=null!==(y=p.displayName)&&void 0!==y?y:void 0,gr=null!==(D=p.email)&&void 0!==D?D:void 0,li=null!==(T=p.phoneNumber)&&void 0!==T?T:void 0,As=null!==(H=p.photoURL)&&void 0!==H?H:void 0,Ef=null!==(X=p.tenantId)&&void 0!==X?X:void 0,ql=null!==(Se=p._redirectEventId)&&void 0!==Se?Se:void 0,$o=null!==(Pe=p.createdAt)&&void 0!==Pe?Pe:void 0,Go=null!==(We=p.lastLoginAt)&&void 0!==We?We:void 0,{uid:hc,emailVerified:Yl,isAnonymous:ui,providerData:Ua,stsTokenManager:ro}=p;K(hc&&ro,h,"internal-error");const Ql=cn.fromJSON(this.name,ro);K("string"==typeof hc,h,"internal-error"),dn(yt,h.name),dn(gr,h.name),K("boolean"==typeof Yl,h,"internal-error"),K("boolean"==typeof ui,h,"internal-error"),dn(li,h.name),dn(As,h.name),dn(Ef,h.name),dn(ql,h.name),dn($o,h.name),dn(Go,h.name);const io=new hn({uid:hc,auth:h,email:gr,emailVerified:Yl,displayName:yt,isAnonymous:ui,photoURL:As,phoneNumber:li,tenantId:Ef,stsTokenManager:Ql,createdAt:$o,lastLoginAt:Go});return Ua&&Array.isArray(Ua)&&(io.providerData=Ua.map(fc=>Object.assign({},fc))),ql&&(io._redirectEventId=ql),io}static _fromIdTokenResponse(h,p,y=!1){return(0,d.Z)(function*(){const D=new cn;D.updateFromServerResponse(p);const T=new hn({uid:p.localId,auth:h,stsTokenManager:D,isAnonymous:y});return yield Br(T),T})()}}const jn=new Map;function Ht(m){Ze(m instanceof Function,"Expected a class definition");let h=jn.get(m);return h?(Ze(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,jn.set(m,h),h)}const Nn=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(p,y){var D=this;return(0,d.Z)(function*(){D.storage[p]=y})()}_get(p){var y=this;return(0,d.Z)(function*(){const D=y.storage[p];return void 0===D?null:D})()}_remove(p){var y=this;return(0,d.Z)(function*(){delete y.storage[p]})()}_addListener(p,y){}_removeListener(p,y){}}return m.type="NONE",m})();function Cr(m,h,p){return`firebase:${m}:${h}:${p}`}class U{constructor(h,p,y){this.persistence=h,this.auth=p,this.userKey=y;const{config:D,name:T}=this.auth;this.fullUserKey=Cr(this.userKey,D.apiKey,T),this.fullPersistenceKey=Cr("persistence",D.apiKey,T),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?hn._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,d.Z)(function*(){if(p.persistence===h)return;const y=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,y?p.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,y="authUser"){return(0,d.Z)(function*(){if(!p.length)return new U(Ht(Nn),h,y);const D=(yield Promise.all(p.map(function(){var Pe=(0,d.Z)(function*(We){if(yield We._isAvailable())return We});return function(We){return Pe.apply(this,arguments)}}()))).filter(Pe=>Pe);let T=D[0]||Ht(Nn);const H=Cr(y,h.config.apiKey,h.name);let X=null;for(const Pe of p)try{const We=yield Pe._get(H);if(We){const yt=hn._fromJSON(h,We);Pe!==T&&(X=yt),T=Pe;break}}catch{}const Se=D.filter(Pe=>Pe._shouldAllowMigration);return T._shouldAllowMigration&&Se.length?(T=Se[0],X&&(yield T._set(H,X.toJSON())),yield Promise.all(p.map(function(){var Pe=(0,d.Z)(function*(We){if(We!==T)try{yield We._remove(H)}catch{}});return function(We){return Pe.apply(this,arguments)}}())),new U(T,h,y)):new U(T,h,y)})()}}function F(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if($(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(A(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(be(h))return"Blackberry";if(Qe(h))return"Webos";if(R(h))return"Safari";if((h.includes("chrome/")||b(h))&&!h.includes("edge/"))return"Chrome";if(he(h))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function A(m=(0,k.z$)()){return/firefox\//i.test(m)}function R(m=(0,k.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function b(m=(0,k.z$)()){return/crios\//i.test(m)}function $(m=(0,k.z$)()){return/iemobile/i.test(m)}function he(m=(0,k.z$)()){return/android/i.test(m)}function be(m=(0,k.z$)()){return/blackberry/i.test(m)}function Qe(m=(0,k.z$)()){return/webos/i.test(m)}function Le(m=(0,k.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function wt(m=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function ct(m=(0,k.z$)()){return Le(m)||he(m)||Qe(m)||be(m)||/windows phone/i.test(m)||$(m)}function pi(m,h=[]){let p;switch(m){case"Browser":p=F((0,k.z$)());break;case"Worker":p=`${F((0,k.z$)())}-${m}`;break;default:p=m}const y=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${S.SDK_VERSION}/${y}`}function q(){return(q=(0,d.Z)(function*(m){return(yield fe(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ye(m,h){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,d.Z)(function*(m,h){return fe(m,"GET","/v2/recaptchaConfig",J(m,h))})).apply(this,arguments)}function xe(m){return void 0!==m&&void 0!==m.getResponse}function ot(m){return void 0!==m&&void 0!==m.enterprise}class At{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Xt(m){return new Promise((h,p)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=h,y.onerror=D=>{const T=ce("internal-error");T.customData=D,p(T)},y.type="text/javascript",y.charset="UTF-8",function yn(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(y)})}function Hn(m){return`__${m}${Math.floor(1e6*Math.random())}`}class Us{constructor(h){this.type="recaptcha-enterprise",this.auth=en(h)}verify(h="verify",p=!1){var y=this;return(0,d.Z)(function*(){function T(){return T=(0,d.Z)(function*(X){if(!p){if(null==X.tenantId&&null!=X._agentRecaptchaConfig)return X._agentRecaptchaConfig.siteKey;if(null!=X.tenantId&&void 0!==X._tenantRecaptchaConfigs[X.tenantId])return X._tenantRecaptchaConfigs[X.tenantId].siteKey}return new Promise(function(){var Se=(0,d.Z)(function*(Pe,We){ye(X,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yt=>{if(void 0!==yt.recaptchaKey){const gr=new At(yt);return null==X.tenantId?X._agentRecaptchaConfig=gr:X._tenantRecaptchaConfigs[X.tenantId]=gr,Pe(gr.siteKey)}We(new Error("recaptcha Enterprise site key undefined"))}).catch(yt=>{We(yt)})});return function(Pe,We){return Se.apply(this,arguments)}}())}),T.apply(this,arguments)}function H(X,Se,Pe){const We=window.grecaptcha;ot(We)?We.enterprise.ready(()=>{We.enterprise.execute(X,{action:h}).then(yt=>{Se(yt)}).catch(()=>{Se("NO_RECAPTCHA")})}):Pe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((X,Se)=>{(function D(X){return T.apply(this,arguments)})(y.auth).then(Pe=>{if(!p&&ot(window.grecaptcha))H(Pe,X,Se);else{if(typeof window>"u")return void Se(new Error("RecaptchaVerifier is only supported in browser"));Xt("https://www.google.com/recaptcha/enterprise.js?render="+Pe).then(()=>{H(Pe,X,Se)}).catch(We=>{Se(We)})}}).catch(Pe=>{Se(Pe)})})})()}}function mi(m,h,p){return as.apply(this,arguments)}function as(){return(as=(0,d.Z)(function*(m,h,p,y=!1){const D=new Us(m);let T;try{T=yield D.verify(p)}catch{T=yield D.verify(p,!0)}const H=Object.assign({},h);return Object.assign(H,y?{captchaResp:T}:{captchaResponse:T}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class mo{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const y=T=>new Promise((H,X)=>{try{H(h(T))}catch(Se){X(Se)}});y.onAbort=p,this.queue.push(y);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,d.Z)(function*(){if(p.auth.currentUser===h)return;const y=[];try{for(const D of p.queue)yield D(h),D.onAbort&&y.push(D.onAbort)}catch(D){y.reverse();for(const T of y)try{T()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class _o{constructor(h,p,y,D){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=y,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sf(this),this.idTokenSubscription=new sf(this),this.beforeStateQueue=new mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(h,p){var y=this;return p&&(this._popupRedirectResolver=Ht(p)),this._initializationPromise=this.queue((0,d.Z)(function*(){var D,T;if(!y._deleted&&(y.persistenceManager=yield U.create(y,h),!y._deleted)){if(null!==(D=y._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(p),y.lastNotifiedUid=(null===(T=y.currentUser)||void 0===T?void 0:T.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,d.Z)(function*(){var y;const D=yield p.assertedPersistence.getCurrentUser();let T=D,H=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const X=null===(y=p.redirectUser)||void 0===y?void 0:y._redirectEventId,Se=T?._redirectEventId,Pe=yield p.tryRedirectSignIn(h);(!X||X===Se)&&Pe?.user&&(T=Pe.user,H=!0)}if(!T)return p.directlySetCurrentUser(null);if(!T._redirectEventId){if(H)try{yield p.beforeStateQueue.runMiddleware(T)}catch(X){T=D,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(X))}return T?p.reloadAndSetCurrentUserOrClear(T):p.directlySetCurrentUser(null)}return K(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===T._redirectEventId?p.directlySetCurrentUser(T):p.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(h){var p=this;return(0,d.Z)(function*(){let y=null;try{y=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,d.Z)(function*(){try{yield Br(h)}catch(y){if("auth/network-request-failed"!==y?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Vt(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,d.Z)(function*(){const y=h?(0,k.m9)(h):null;return y&&K(y.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(y&&y._clone(p))})()}_updateCurrentUser(h,p=!1){var y=this;return(0,d.Z)(function*(){if(!y._deleted)return h&&K(y.tenantId===h.tenantId,y,"tenant-id-mismatch"),p||(yield y.beforeStateQueue.runMiddleware(h)),y.queue((0,d.Z)(function*(){yield y.directlySetCurrentUser(h),y.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,d.Z)(function*(){yield p.assertedPersistence.setPersistence(Ht(h))}))}initializeRecaptchaConfig(){var h=this;return(0,d.Z)(function*(){const p=yield ye(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new At(p);null==h.tenantId?h._agentRecaptchaConfig=y:h._tenantRecaptchaConfigs[h.tenantId]=y,y.emailPasswordEnabled&&new Us(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new k.LL("auth","Firebase",h())}onAuthStateChanged(h,p,y){return this.registerStateListener(this.authStateSubscription,h,p,y)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,y){return this.registerStateListener(this.idTokenSubscription,h,p,y)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var y=this;return(0,d.Z)(function*(){const D=yield y.getOrInitRedirectPersistenceManager(p);return null===h?D.removeCurrentUser():D.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,d.Z)(function*(){if(!p.redirectPersistenceManager){const y=h&&Ht(h)||p._popupRedirectResolver;K(y,p,"argument-error"),p.redirectPersistenceManager=yield U.create(p,[Ht(y._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,d.Z)(function*(){var y,D;return p._isInitialized&&(yield p.queue((0,d.Z)(function*(){}))),(null===(y=p._currentUser)||void 0===y?void 0:y._redirectEventId)===h?p._currentUser:(null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,d.Z)(function*(){if(h===p.currentUser)return p.queue((0,d.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,y,D){if(this._deleted)return()=>{};const T="function"==typeof p?p:p.next.bind(p),H=this._isInitialized?Promise.resolve():this._initializationPromise;return K(H,this,"internal-error"),H.then(()=>T(this.currentUser)),"function"==typeof p?h.addObserver(p,y,D):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,d.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=pi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){var p;const y={"X-Client-Version":h.clientVersion};h.app.options.appId&&(y["X-Firebase-gmpid"]=h.app.options.appId);const D=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();D&&(y["X-Firebase-Client"]=D);const T=yield h._getAppCheckToken();return T&&(y["X-Firebase-AppCheck"]=T),y})()}_getAppCheckToken(){var h=this;return(0,d.Z)(function*(){var p;const y=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return y?.error&&function ze(m,...h){Ce.logLevel<=Y.in.WARN&&Ce.warn(`Auth (${S.SDK_VERSION}): ${m}`,...h)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function en(m){return(0,k.m9)(m)}class sf{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,k.ne)(p=>this.observer=p)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fu(m,h,p){const y=en(m);K(y._canInitEmulator,y,"emulator-config-failed"),K(/^https?:\/\//.test(h),y,"invalid-emulator-scheme");const D=!!p?.disableWarnings,T=lr(h),{host:H,port:X}=function yo(m){const h=lr(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!p)return{host:"",port:null};const y=p[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(y);if(D){const T=D[1];return{host:T,port:ra(y.substr(T.length+1))}}{const[T,H]=y.split(":");return{host:T,port:ra(H)}}}(h);y.config.emulator={url:`${T}//${H}${null===X?"":`:${X}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:H,port:X,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function md(){function m(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function lr(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function ra(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class Eo{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ue("not implemented")}_getIdTokenResponse(h){return Ue("not implemented")}_linkToIdToken(h,p){return Ue("not implemented")}_getReauthenticationResolver(h){return Ue("not implemented")}}function fl(m,h){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:resetPassword",J(m,h))})).apply(this,arguments)}function ia(m,h){return pl.apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:update",J(m,h))})).apply(this,arguments)}function sa(m,h){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(m,h){return Mt(m,"POST","/v1/accounts:signInWithPassword",J(m,h))})).apply(this,arguments)}function oa(m,h){return gl.apply(this,arguments)}function gl(){return(gl=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:sendOobCode",J(m,h))})).apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(m,h){return oa(m,h)})).apply(this,arguments)}function la(m,h){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(m,h){return oa(m,h)})).apply(this,arguments)}function _l(m,h){return vt.apply(this,arguments)}function vt(){return(vt=(0,d.Z)(function*(m,h){return oa(m,h)})).apply(this,arguments)}function Pn(){return(Pn=(0,d.Z)(function*(m,h){return oa(m,h)})).apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(m,h){return Mt(m,"POST","/v1/accounts:signInWithEmailLink",J(m,h))})).apply(this,arguments)}function vl(){return(vl=(0,d.Z)(function*(m,h){return Mt(m,"POST","/v1/accounts:signInWithEmailLink",J(m,h))})).apply(this,arguments)}class ls extends Eo{constructor(h,p,y,D=null){super("password",y),this._email=h,this._password=p,this._tenantId=D}static _fromEmailAndPassword(h,p){return new ls(h,p,"password")}static _fromEmailAndCode(h,p,y=null){return new ls(h,p,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,d.Z)(function*(){var y;switch(p.signInMethod){case"password":const D={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=h._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const T=yield mi(h,D,"signInWithPassword");return sa(h,T)}return sa(h,D).catch(function(){var T=(0,d.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const X=yield mi(h,D,"signInWithPassword");return sa(h,X)}return Promise.reject(H)});return function(H){return T.apply(this,arguments)}}());case"emailLink":return function js(m,h){return xn.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:z(h,"internal-error")}})()}_linkToIdToken(h,p){var y=this;return(0,d.Z)(function*(){switch(y.signInMethod){case"password":return ia(h,{idToken:p,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function _d(m,h){return vl.apply(this,arguments)}(h,{idToken:p,email:y._email,oobCode:y._password});default:z(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Oi(m,h){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(m,h){return Mt(m,"POST","/v1/accounts:signInWithIdp",J(m,h))})).apply(this,arguments)}class Re extends Eo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Re(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):z("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:D}=p,T=(0,W._T)(p,["providerId","signInMethod"]);if(!y||!D)return null;const H=new Re(y,D);return H.idToken=T.idToken||void 0,H.accessToken=T.accessToken||void 0,H.secret=T.secret,H.nonce=T.nonce,H.pendingToken=T.pendingToken||null,H}_getIdTokenResponse(h){return Oi(h,this.buildRequest())}_linkToIdToken(h,p){const y=this.buildRequest();return y.idToken=p,Oi(h,y)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Oi(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,k.xO)(p)}return h}}function Ft(){return(Ft=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:sendVerificationCode",J(m,h))})).apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(m,h){return Mt(m,"POST","/v1/accounts:signInWithPhoneNumber",J(m,h))})).apply(this,arguments)}function cs(){return(cs=(0,d.Z)(function*(m,h){const p=yield Mt(m,"POST","/v1/accounts:signInWithPhoneNumber",J(m,h));if(p.temporaryProof)throw Ot(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const on={USER_NOT_FOUND:"user-not-found"};function Pi(){return(Pi=(0,d.Z)(function*(m,h){return Mt(m,"POST","/v1/accounts:signInWithPhoneNumber",J(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),on)})).apply(this,arguments)}class Ke extends Eo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Ke({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Ke({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Ir(m,h){return _i.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Xn(m,h){return cs.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function vi(m,h){return Pi.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:y,verificationCode:D}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:y,code:D}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:y,phoneNumber:D,temporaryProof:T}=h;return y||p||D||T?new Ke({verificationId:p,verificationCode:y,phoneNumber:D,temporaryProof:T}):null}}class Nr{constructor(h){var p,y,D,T,H,X;const Se=(0,k.zd)((0,k.pd)(h)),Pe=null!==(p=Se.apiKey)&&void 0!==p?p:null,We=null!==(y=Se.oobCode)&&void 0!==y?y:null,yt=function Hr(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Se.mode)&&void 0!==D?D:null);K(Pe&&We&&yt,"argument-error"),this.apiKey=Pe,this.operation=yt,this.code=We,this.continueUrl=null!==(T=Se.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(H=Se.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(X=Se.tenantId)&&void 0!==X?X:null}static parseLink(h){const p=function vd(m){const h=(0,k.zd)((0,k.pd)(m)).link,p=h?(0,k.zd)((0,k.pd)(h)).deep_link_id:null,y=(0,k.zd)((0,k.pd)(m)).deep_link_id;return(y?(0,k.zd)((0,k.pd)(y)).link:null)||y||p||h||m}(h);try{return new Nr(p)}catch{return null}}}let Hs=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,y){return ls._fromEmailAndPassword(p,y)}static credentialWithLink(p,y){const D=Nr.parseLink(y);return K(D,"argument-error"),ls._fromEmailAndCode(p,D.code,D.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Dr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class er extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class xi extends er{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return K("providerId"in p&&"signInMethod"in p,"argument-error"),Re._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return K(h.idToken||h.accessToken,"argument-error"),Re._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return xi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return xi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:y,oauthTokenSecret:D,pendingToken:T,nonce:H,providerId:X}=h;if(!y&&!D&&!p&&!T||!X)return null;try{return new xi(X)._credential({idToken:p,accessToken:y,nonce:H,pendingToken:T})}catch{return null}}}let ua=(()=>{class m extends er{constructor(){super("facebook.com")}static credential(p){return Re._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),ds=(()=>{class m extends er{constructor(){super("google.com"),this.addScope("profile")}static credential(p,y){return Re._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:D}=p;if(!y&&!D)return null;try{return m.credential(y,D)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),$r=(()=>{class m extends er{constructor(){super("github.com")}static credential(p){return Re._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class wr extends Eo{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Oi(h,this.buildRequest())}_linkToIdToken(h,p){const y=this.buildRequest();return y.idToken=p,Oi(h,y)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Oi(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:D,pendingToken:T}=p;return y&&D&&T&&y===D?new wr(y,T):null}static _create(h,p){return new wr(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yl extends Dr{constructor(h){K(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return yl.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return yl.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=wr.fromJSON(h);return K(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:y}=h;if(!p||!y)return null;try{return wr._create(y,p)}catch{return null}}}let El=(()=>{class m extends er{constructor(){super("twitter.com")}static credential(p,y){return Re._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:y,oauthTokenSecret:D}=p;if(!y||!D)return null;try{return m.credential(y,D)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function $s(m,h){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(m,h){return Mt(m,"POST","/v1/accounts:signUp",J(m,h))})).apply(this,arguments)}class Gn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,y,D=!1){return(0,d.Z)(function*(){const T=yield hn._fromIdTokenResponse(h,y,D),H=ki(y);return new Gn({user:T,providerId:H,_tokenResponse:y,operationType:p})})()}static _forOperation(h,p,y){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(y,!0);const D=ki(y);return new Gn({user:h,providerId:D,_tokenResponse:y,operationType:p})})()}}function ki(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function hs(m){return In.apply(this,arguments)}function In(){return(In=(0,d.Z)(function*(m){var h;const p=en(m);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new Gn({user:p.currentUser,providerId:null,operationType:"signIn"});const y=yield $s(p,{returnSecureToken:!0}),D=yield Gn._fromIdTokenResponse(p,"signIn",y,!0);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class Vu extends k.ZR{constructor(h,p,y,D){var T;super(p.code,p.message),this.operationType=y,this.user=D,Object.setPrototypeOf(this,Vu.prototype),this.customData={appName:h.name,tenantId:null!==(T=h.tenantId)&&void 0!==T?T:void 0,_serverResponse:p.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(h,p,y,D){return new Vu(h,p,y,D)}}function Wn(m,h,p,y){return("reauthenticate"===h?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?Vu._fromErrorAndOperation(m,T,h,y):T})}function zn(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Cl(m,h){return yi.apply(this,arguments)}function yi(){return yi=(0,d.Z)(function*(m,h){const p=(0,k.m9)(m);yield fs(!0,p,h);const{providerUserInfo:y}=yield function Rt(m,h){return rn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),D=zn(y||[]);return p.providerData=p.providerData.filter(T=>D.has(T.providerId)),D.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),yi.apply(this,arguments)}function br(m,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(m,h,p=!1){const y=yield mt(m,h._linkToIdToken(m.auth,yield m.getIdToken()),p);return Gn._forOperation(m,"link",y)})).apply(this,arguments)}function fs(m,h,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(m,h,p){yield Br(h);const D=!1===m?"provider-already-linked":"no-such-provider";K(zn(h.providerData).has(p)===m,h.auth,D)})).apply(this,arguments)}function Uu(m,h){return yd.apply(this,arguments)}function yd(){return(yd=(0,d.Z)(function*(m,h,p=!1){const{auth:y}=m,D="reauthenticate";try{const T=yield mt(m,Wn(y,D,h,m),p);K(T.idToken,y,"internal-error");const H=st(T.idToken);K(H,y,"internal-error");const{sub:X}=H;return K(m.uid===X,y,"user-mismatch"),Gn._forOperation(m,D,T)}catch(T){throw"auth/user-not-found"===T?.code&&z(y,"user-mismatch"),T}})).apply(this,arguments)}function Il(m,h){return da.apply(this,arguments)}function da(){return(da=(0,d.Z)(function*(m,h,p=!1){const y="signIn",D=yield Wn(m,y,h),T=yield Gn._fromIdTokenResponse(m,y,D);return p||(yield m._updateCurrentUser(T.user)),T})).apply(this,arguments)}function Dl(m,h){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,d.Z)(function*(m,h){return Il(en(m),h)})).apply(this,arguments)}function Ed(m,h){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,d.Z)(function*(m,h){const p=(0,k.m9)(m);return yield fs(!1,p,h.providerId),br(p,h)})).apply(this,arguments)}function Zt(m,h){return Id.apply(this,arguments)}function Id(){return(Id=(0,d.Z)(function*(m,h){return Uu((0,k.m9)(m),h)})).apply(this,arguments)}function Dd(){return(Dd=(0,d.Z)(function*(m,h){return Mt(m,"POST","/v1/accounts:signInWithCustomToken",J(m,h))})).apply(this,arguments)}function Ng(m,h){return ha.apply(this,arguments)}function ha(){return ha=(0,d.Z)(function*(m,h){const p=en(m),y=yield function Rg(m,h){return Dd.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),D=yield Gn._fromIdTokenResponse(p,"signIn",y);return yield p._updateCurrentUser(D.user),D}),ha.apply(this,arguments)}class Gr{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?wd._fromServerResponse(h,p):"totpInfo"in p?Gs._fromServerResponse(h,p):z(h,"internal-error")}}class wd extends Gr{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new wd(p)}}class Gs extends Gr{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Gs(p)}}function Ws(m,h,p){var y;K((null===(y=p.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),K(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(K(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(K(p.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function uf(m,h,p){return bd.apply(this,arguments)}function bd(){return bd=(0,d.Z)(function*(m,h,p){var y;const D=en(m),T={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=D._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const H=yield mi(D,T,"getOobCode",!0);p&&Ws(D,H,p),yield la(D,H)}else p&&Ws(D,T,p),yield la(D,T).catch(function(){var H=(0,d.Z)(function*(X){if("auth/missing-recaptcha-token"!==X.code)return Promise.reject(X);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Se=yield mi(D,T,"getOobCode",!0);p&&Ws(D,Se,p),yield la(D,Se)}});return function(X){return H.apply(this,arguments)}}())}),bd.apply(this,arguments)}function wl(m,h,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,d.Z)(function*(m,h,p){yield fl((0,k.m9)(m),{oobCode:h,newPassword:p})})).apply(this,arguments)}function Fi(m,h){return fa.apply(this,arguments)}function fa(){return fa=(0,d.Z)(function*(m,h){yield function lf(m,h){return ur.apply(this,arguments)}((0,k.m9)(m),{oobCode:h})}),fa.apply(this,arguments)}function Wr(m,h){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(m,h){const p=(0,k.m9)(m),y=yield fl(p,{oobCode:h}),D=y.requestType;switch(K(D,p,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(y.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(y.mfaInfo,p,"internal-error");default:K(y.email,p,"internal-error")}let T=null;return y.mfaInfo&&(T=Gr._fromServerResponse(en(p),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:T},operation:D}})).apply(this,arguments)}function Io(m,h){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(m,h){const{data:p}=yield Wr((0,k.m9)(m),h);return p.email})).apply(this,arguments)}function Do(m,h,p){return wo.apply(this,arguments)}function wo(){return wo=(0,d.Z)(function*(m,h,p){var y;const D=en(m),T={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(y=D._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const Pe=yield mi(D,T,"signUpPassword");H=$s(D,Pe)}else H=$s(D,T).catch(function(){var Pe=(0,d.Z)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const yt=yield mi(D,T,"signUpPassword");return $s(D,yt)}return Promise.reject(We)});return function(We){return Pe.apply(this,arguments)}}());const X=yield H.catch(Pe=>Promise.reject(Pe)),Se=yield Gn._fromIdTokenResponse(D,"signIn",X);return yield D._updateCurrentUser(Se.user),Se}),wo.apply(this,arguments)}function bl(m,h,p){return Dl((0,k.m9)(m),Hs.credential(h,p))}function ju(m,h,p){return Li.apply(this,arguments)}function Li(){return Li=(0,d.Z)(function*(m,h,p){var y;const D=en(m),T={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function H(X,Se){K(Se.handleCodeInApp,D,"argument-error"),Se&&Ws(D,X,Se)}if(null!==(y=D._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const X=yield mi(D,T,"getOobCode",!0);H(X,p),yield _l(D,X)}else H(T,p),yield _l(D,T).catch(function(){var X=(0,d.Z)(function*(Se){if("auth/missing-recaptcha-token"!==Se.code)return Promise.reject(Se);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pe=yield mi(D,T,"getOobCode",!0);H(Pe,p),yield _l(D,Pe)}});return function(Se){return X.apply(this,arguments)}}())}),Li.apply(this,arguments)}function Tl(m,h){const p=Nr.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}function Hu(m,h,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.Z)(function*(m,h,p){const y=(0,k.m9)(m),D=Hs.credentialWithLink(h,p||gt());return K(D._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Dl(y,D)})).apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:createAuthUri",J(m,h))})).apply(this,arguments)}function Sd(m,h){return ps.apply(this,arguments)}function ps(){return ps=(0,d.Z)(function*(m,h){const y={identifier:h,continueUri:vn()?gt():"http://localhost"},{signinMethods:D}=yield function Td(m,h){return bo.apply(this,arguments)}((0,k.m9)(m),y);return D||[]}),ps.apply(this,arguments)}function To(m,h){return ei.apply(this,arguments)}function ei(){return ei=(0,d.Z)(function*(m,h){const p=(0,k.m9)(m),D={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&Ws(p.auth,D,h);const{email:T}=yield function ml(m,h){return aa.apply(this,arguments)}(p.auth,D);T!==m.email&&(yield m.reload())}),ei.apply(this,arguments)}function Sl(m,h,p){return pa.apply(this,arguments)}function pa(){return pa=(0,d.Z)(function*(m,h,p){const y=(0,k.m9)(m),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};p&&Ws(y.auth,T,p);const{email:H}=yield function En(m,h){return Pn.apply(this,arguments)}(y.auth,T);H!==m.email&&(yield m.reload())}),pa.apply(this,arguments)}function Gu(){return(Gu=(0,d.Z)(function*(m,h){return fe(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function cf(m,h){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,d.Z)(function*(m,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const y=(0,k.m9)(m),T={idToken:yield y.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},H=yield mt(y,function $u(m,h){return Gu.apply(this,arguments)}(y.auth,T));y.displayName=H.displayName||null,y.photoURL=H.photoUrl||null;const X=y.providerData.find(({providerId:Se})=>"password"===Se);X&&(X.displayName=y.displayName,X.photoURL=y.photoURL),yield y._updateTokensIfNecessary(H)}),Wu.apply(this,arguments)}function Ad(m,h){return So((0,k.m9)(m),h,null)}function zu(m,h){return So((0,k.m9)(m),null,h)}function So(m,h,p){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,d.Z)(function*(m,h,p){const{auth:y}=m,T={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(T.email=h),p&&(T.password=p);const H=yield mt(m,ia(y,T));yield m._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Ao{constructor(h,p,y={}){this.isNewUser=h,this.providerId=p,this.profile=y}}class Ku extends Ao{constructor(h,p,y,D){super(h,p,y),this.username=D}}class ma extends Ao{constructor(h,p){super(h,"facebook.com",p)}}class Al extends Ku{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class qu extends Ao{constructor(h,p){super(h,"google.com",p)}}class _a extends Ku{constructor(h,p,y){super(h,"twitter.com",p,y)}}function Mo(m){const{user:h,_tokenResponse:p}=m;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function ga(m){var h,p;if(!m)return null;const{providerId:y}=m,D=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},T=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&m?.idToken){const H=null===(p=null===(h=st(m.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(H)return new Ao(T,"anonymous"!==H&&"custom"!==H?H:null)}if(!y)return null;switch(y){case"facebook.com":return new ma(T,D);case"github.com":return new Al(T,D);case"google.com":return new qu(T,D);case"twitter.com":return new _a(T,D,m.screenName||null);case"custom":case"anonymous":return new Ao(T,null);default:return new Ao(T,y,D)}}(p)}class zr{constructor(h,p,y){this.type=h,this.credential=p,this.auth=y}static _fromIdtoken(h,p){return new zr("enroll",h,p)}static _fromMfaPendingCredential(h){return new zr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,y;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return zr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(y=h.multiFactorSession)&&void 0!==y&&y.idToken)return zr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class zs{constructor(h,p,y){this.session=h,this.hints=p,this.signInResolver=y}static _fromError(h,p){const y=en(h),D=p.customData._serverResponse,T=(D.mfaInfo||[]).map(X=>Gr._fromServerResponse(y,X));K(D.mfaPendingCredential,y,"internal-error");const H=zr._fromMfaPendingCredential(D.mfaPendingCredential);return new zs(H,T,function(){var X=(0,d.Z)(function*(Se){const Pe=yield Se._process(y,H);delete D.mfaInfo,delete D.mfaPendingCredential;const We=Object.assign(Object.assign({},D),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(p.operationType){case"signIn":const yt=yield Gn._fromIdTokenResponse(y,p.operationType,We);return yield y._updateCurrentUser(yt.user),yt;case"reauthenticate":return K(p.user,y,"internal-error"),Gn._forOperation(p.user,p.operationType,We);default:z(y,"internal-error")}});return function(Se){return X.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,d.Z)(function*(){return p.signInResolver(h)})()}}function No(m,h){var p;const y=(0,k.m9)(m),D=h;return K(h.customData.operationType,y,"argument-error"),K(null===(p=D.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,y,"argument-error"),zs._fromError(y,D)}class Ea{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(y=>Gr._fromServerResponse(h.auth,y)))})}static _fromUser(h){return new Ea(h)}getSession(){var h=this;return(0,d.Z)(function*(){return zr._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var y=this;return(0,d.Z)(function*(){const D=h,T=yield y.getSession(),H=yield mt(y.user,D._process(y.user.auth,T,p));return yield y.user._updateTokensIfNecessary(H),y.user.reload()})()}unenroll(h){var p=this;return(0,d.Z)(function*(){const y="string"==typeof h?h:h.uid,D=yield p.user.getIdToken();try{const T=yield mt(p.user,function Qu(m,h){return fe(m,"POST","/v2/accounts/mfaEnrollment:withdraw",J(m,h))}(p.user.auth,{idToken:D,mfaEnrollmentId:y}));p.enrolledFactors=p.enrolledFactors.filter(({uid:H})=>H!==y),yield p.user._updateTokensIfNecessary(T),yield p.user.reload()}catch(T){throw T}})()}}const Nt=new WeakMap;function Po(m){const h=(0,k.m9)(m);return Nt.has(h)||Nt.set(h,Ea._fromUser(h)),Nt.get(h)}const ti="__sak";class tr{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ti,"1"),this.storage.removeItem(ti),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pl=(()=>{class m extends tr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,y)=>this.onStorageEvent(p,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pf(){const m=(0,k.z$)();return R(m)||Le(m)}()&&function On(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ct(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const y of Object.keys(this.listeners)){const D=this.storage.getItem(y),T=this.localCache[y];D!==T&&p(y,T,D)}}onStorageEvent(p,y=!1){if(!p.key)return void this.forAllChangedKeys((X,Se,Pe)=>{this.notifyListeners(X,Pe)});const D=p.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(D);if(p.newValue!==X)null!==p.newValue?this.storage.setItem(D,p.newValue):this.storage.removeItem(D);else if(this.localCache[D]===p.newValue&&!y)return}const T=()=>{const X=this.storage.getItem(D);!y&&this.localCache[D]===X||this.notifyListeners(D,X)},H=this.storage.getItem(D);!function Pt(){return(0,k.w1)()&&10===document.documentMode}()||H===p.newValue||p.newValue===p.oldValue?T():setTimeout(T,10)}notifyListeners(p,y){this.localCache[p]=y;const D=this.listeners[p];if(D)for(const T of Array.from(D))T(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,y,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:y,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,y){var D=()=>super._set,T=this;return(0,d.Z)(function*(){yield D().call(T,p,y),T.localCache[p]=JSON.stringify(y)})()}_get(p){var y=()=>super._get,D=this;return(0,d.Z)(function*(){const T=yield y().call(D,p);return D.localCache[p]=JSON.stringify(T),T})()}_remove(p){var y=()=>super._remove,D=this;return(0,d.Z)(function*(){yield y().call(D,p),delete D.localCache[p]})()}}return m.type="LOCAL",m})(),Ca=(()=>{class m extends tr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,y){}_removeListener(p,y){}}return m.type="SESSION",m})();let Nd=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const y=this.receivers.find(T=>T.isListeningto(p));if(y)return y;const D=new m(p);return this.receivers.push(D),D}isListeningto(p){return this.eventTarget===p}handleEvent(p){var y=this;return(0,d.Z)(function*(){const D=p,{eventId:T,eventType:H,data:X}=D.data,Se=y.handlersMap[H];if(!Se?.size)return;D.ports[0].postMessage({status:"ack",eventId:T,eventType:H});const Pe=Array.from(Se).map(function(){var yt=(0,d.Z)(function*(gr){return gr(D.origin,X)});return function(gr){return yt.apply(this,arguments)}}()),We=yield function ms(m){return Promise.all(m.map(function(){var h=(0,d.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(y){return{fulfilled:!1,reason:y}}});return function(p){return h.apply(this,arguments)}}()))}(Pe);D.ports[0].postMessage({status:"done",eventId:T,eventType:H,response:We})})()}_subscribe(p,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(y)}_unsubscribe(p,y){this.handlersMap[p]&&y&&this.handlersMap[p].delete(y),(!y||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function _s(m="",h=10){let p="";for(let y=0;y<h;y++)p+=Math.floor(10*Math.random());return m+p}class gf{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,y=50){var D=this;return(0,d.Z)(function*(){const T=typeof MessageChannel<"u"?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let H,X;return new Promise((Se,Pe)=>{const We=_s("",20);T.port1.start();const yt=setTimeout(()=>{Pe(new Error("unsupported_event"))},y);X={messageChannel:T,onMessage(gr){const li=gr;if(li.data.eventId===We)switch(li.data.status){case"ack":clearTimeout(yt),H=setTimeout(()=>{Pe(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Se(li.data.response);break;default:clearTimeout(yt),clearTimeout(H),Pe(new Error("invalid_response"))}}},D.handlers.add(X),T.port1.addEventListener("message",X.onMessage),D.target.postMessage({eventType:h,eventId:We,data:p},[T.port2])}).finally(()=>{X&&D.removeMessageHandler(X)})})()}}function Dn(){return window}function Xu(){return typeof Dn().WorkerGlobalScope<"u"&&"function"==typeof Dn().importScripts}function Ia(){return(Ia=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wn="firebaseLocalStorageDb",gn="firebaseLocalStorage",Vi="fbase_key";class Ks{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function xl(m,h){return m.transaction([gn],h?"readwrite":"readonly").objectStore(gn)}function ec(){const m=indexedDB.open(wn,1);return new Promise((h,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(gn,{keyPath:Vi})}catch(D){p(D)}}),m.addEventListener("success",(0,d.Z)(function*(){const y=m.result;y.objectStoreNames.contains(gn)?h(y):(y.close(),yield function Pd(){const m=indexedDB.deleteDatabase(wn);return new Ks(m).toPromise()}(),h(yield ec()))}))})}function tc(m,h,p){return ge.apply(this,arguments)}function ge(){return(ge=(0,d.Z)(function*(m,h,p){const y=xl(m,!0).put({[Vi]:h,value:p});return new Ks(y).toPromise()})).apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(m,h){const p=xl(m,!1).get(h),y=yield new Ks(p).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function kl(m,h){const p=xl(m,!0).delete(h);return new Ks(p).toPromise()}const ni=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,d.Z)(function*(){return p.db||(p.db=yield ec()),p.db})()}_withRetries(p){var y=this;return(0,d.Z)(function*(){let D=0;for(;;)try{const T=yield y._openDb();return yield p(T)}catch(T){if(D++>3)throw T;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,d.Z)(function*(){return Xu()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,d.Z)(function*(){p.receiver=Nd._getInstance(function Da(){return Xu()?self:null}()),p.receiver._subscribe("keyChanged",function(){var y=(0,d.Z)(function*(D,T){return{keyProcessed:(yield p._poll()).includes(T.key)}});return function(D,T){return y.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var y=(0,d.Z)(function*(D,T){return["keyChanged"]});return function(D,T){return y.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,d.Z)(function*(){var y,D;if(p.activeServiceWorker=yield function Xe(){return Ia.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new gf(p.activeServiceWorker);const T=yield p.sender._send("ping",{},800);T&&null!==(y=T[0])&&void 0!==y&&y.fulfilled&&null!==(D=T[0])&&void 0!==D&&D.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var y=this;return(0,d.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function mf(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:p},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ec();return yield tc(p,ti,"1"),yield kl(p,ti),!0}catch{}return!1})()}_withPendingWrite(p){var y=this;return(0,d.Z)(function*(){y.pendingWrites++;try{yield p()}finally{y.pendingWrites--}})()}_set(p,y){var D=this;return(0,d.Z)(function*(){return D._withPendingWrite((0,d.Z)(function*(){return yield D._withRetries(T=>tc(T,p,y)),D.localCache[p]=y,D.notifyServiceWorker(p)}))})()}_get(p){var y=this;return(0,d.Z)(function*(){const D=yield y._withRetries(T=>function Ct(m,h){return Tr.apply(this,arguments)}(T,p));return y.localCache[p]=D,D})()}_remove(p){var y=this;return(0,d.Z)(function*(){return y._withPendingWrite((0,d.Z)(function*(){return yield y._withRetries(D=>kl(D,p)),delete y.localCache[p],y.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,d.Z)(function*(){const y=yield p._withRetries(H=>{const X=xl(H,!1).getAll();return new Ks(X).toPromise()});if(!y)return[];if(0!==p.pendingWrites)return[];const D=[],T=new Set;for(const{fbase_key:H,value:X}of y)T.add(H),JSON.stringify(p.localCache[H])!==JSON.stringify(X)&&(p.notifyListeners(H,X),D.push(H));for(const H of Object.keys(p.localCache))p.localCache[H]&&!T.has(H)&&(p.notifyListeners(H,null),D.push(H));return D})()}notifyListeners(p,y){this.localCache[p]=y;const D=this.listeners[p];if(D)for(const T of Array.from(D))T(y)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),Ln=1e12;class ri{constructor(h){this.auth=h,this.counter=Ln,this._widgets=new Map}render(h,p){const y=this.counter;return this._widgets.set(y,new rc(h,this.auth.name,p||{})),this.counter++,y}reset(h){var p;const y=h||Ln;null===(p=this._widgets.get(y))||void 0===p||p.delete(),this._widgets.delete(y)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Ln))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,d.Z)(function*(){var y;return null===(y=p._widgets.get(h||Ln))||void 0===y||y.execute(),""})()}}class rc{constructor(h,p,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof h?document.getElementById(h):h;K(D,"argument-error",{appName:p}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function vs(m){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ii=Hn("rcb"),_f=new yr(3e4,6e4);class ba{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Dn().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return K(function vf(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&xe(Dn().grecaptcha)?Promise.resolve(Dn().grecaptcha):new Promise((y,D)=>{const T=Dn().setTimeout(()=>{D(ce(h,"network-request-failed"))},_f.get());Dn()[ii]=()=>{Dn().clearTimeout(T),delete Dn()[ii];const X=Dn().grecaptcha;if(!X||!xe(X))return void D(ce(h,"internal-error"));const Se=X.render;X.render=(Pe,We)=>{const yt=Se(Pe,We);return this.counter++,yt},this.hostLanguage=p,y(X)},Xt(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:ii,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(T),D(ce(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Dn().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ta{load(h){return(0,d.Z)(function*(){return new ri(h)})()}clearedOneInstance(){}}const Vl="recaptcha",Ul={theme:"light",type:"image"};class sc{constructor(h,p=Object.assign({},Ul),y){this.parameters=p,this.type=Vl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=en(y),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof h?document.getElementById(h):h;K(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ta:new ba,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),y=h.getAssertedRecaptcha();return y.getResponse(p)||new Promise(T=>{const H=X=>{X&&(h.tokenChangeListeners.delete(H),T(X))};h.tokenChangeListeners.add(H),h.isInvisible&&y.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(y=>y(p)),"function"==typeof h)h(p);else if("string"==typeof h){const y=Dn()[h];"function"==typeof y&&y(p)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const y=document.createElement("div");p.appendChild(y),p=y}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){K(vn()&&!Xu(),h.auth,"internal-error"),yield function oc(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function ie(m){return q.apply(this,arguments)}(h.auth);K(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bl{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Ke._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Sr(m,h,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,d.Z)(function*(m,h,p){const y=en(m),D=yield ko(y,h,(0,k.m9)(p));return new Bl(D,T=>Dl(y,T))})).apply(this,arguments)}function Sa(m,h,p){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(m,h,p){const y=(0,k.m9)(m);yield fs(!1,y,"phone");const D=yield ko(y.auth,h,(0,k.m9)(p));return new Bl(D,T=>Ed(y,T))})).apply(this,arguments)}function qe(m,h,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(m,h,p){const y=(0,k.m9)(m),D=yield ko(y.auth,h,(0,k.m9)(p));return new Bl(D,T=>Zt(y,T))})).apply(this,arguments)}function ko(m,h,p){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,d.Z)(function*(m,h,p){var y;const D=yield p.verify();try{let T;if(K("string"==typeof D,m,"argument-error"),K(p.type===Vl,m,"argument-error"),T="string"==typeof h?{phoneNumber:h}:h,"session"in T){const H=T.session;if("phoneNumber"in T)return K("enroll"===H.type,m,"internal-error"),(yield function Yu(m,h){return fe(m,"POST","/v2/accounts/mfaEnrollment:start",J(m,h))}(m,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{K("signin"===H.type,m,"internal-error");const X=(null===(y=T.multiFactorHint)||void 0===y?void 0:y.uid)||T.multiFactorUid;return K(X,m,"missing-multi-factor-info"),(yield function nc(m,h){return fe(m,"POST","/v2/accounts/mfaSignIn:start",J(m,h))}(m,{mfaPendingCredential:H.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function ut(m,h){return Ft.apply(this,arguments)}(m,{phoneNumber:T.phoneNumber,recaptchaToken:D});return H}}finally{p._reset()}}),Aa.apply(this,arguments)}function nr(m,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)(function*(m,h){yield br((0,k.m9)(m),h)})).apply(this,arguments)}let $t=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=en(p)}verifyPhoneNumber(p,y){return ko(this.auth,p,(0,k.m9)(y))}static credential(p,y){return Ke._fromVerification(p,y)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:y,temporaryProof:D}=p;return y&&D?Ke._fromTokenResponse(y,D):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Ci(m,h){return h?Ht(h):(K(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class ys extends Eo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Oi(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Oi(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Oi(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function at(m){return Il(m.auth,new ys(m),m.bypassAuthState)}function ac(m){const{auth:h,user:p}=m;return K(p,h,"internal-error"),Uu(p,new ys(m),m.bypassAuthState)}function jl(m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,d.Z)(function*(m){const{auth:h,user:p}=m;return K(p,h,"internal-error"),br(p,new ys(m),m.bypassAuthState)})).apply(this,arguments)}class Kr{constructor(h,p,y,D,T=!1){this.auth=h,this.resolver=y,this.user=D,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,d.Z)(function*(y,D){h.pendingPromise={resolve:y,reject:D};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(T){h.reject(T)}});return function(y,D){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,d.Z)(function*(){const{urlResponse:y,sessionId:D,postBody:T,tenantId:H,error:X,type:Se}=h;if(X)return void p.reject(X);const Pe={auth:p.auth,requestUri:y,sessionId:D,tenantId:H||void 0,postBody:T||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Se)(Pe))}catch(We){p.reject(We)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return at;case"linkViaPopup":case"linkViaRedirect":return jl;case"reauthViaPopup":case"reauthViaRedirect":return ac;default:z(this.auth,"internal-error")}}resolve(h){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const si=new yr(2e3,1e4);function Gt(m,h,p){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(m,h,p){const y=en(m);de(m,h,Dr);const D=Ci(y,p);return new Es(y,"signInViaPopup",h,D).executeNotNull()})).apply(this,arguments)}function Fo(m,h,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,d.Z)(function*(m,h,p){const y=(0,k.m9)(m);de(y.auth,h,Dr);const D=Ci(y.auth,p);return new Es(y.auth,"reauthViaPopup",h,D,y).executeNotNull()})).apply(this,arguments)}function Ma(m,h,p){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,d.Z)(function*(m,h,p){const y=(0,k.m9)(m);de(y.auth,h,Dr);const D=Ci(y.auth,p);return new Es(y.auth,"linkViaPopup",h,D,y).executeNotNull()})).apply(this,arguments)}let Es=(()=>{class m extends Kr{constructor(p,y,D,T,H){super(p,y,T,H),this.provider=D,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,d.Z)(function*(){const y=yield p.execute();return K(y,p.auth,"internal-error"),y})()}onExecution(){var p=this;return(0,d.Z)(function*(){Ze(1===p.filter.length,"Popup operations only handle one event");const y=_s();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],y),p.authWindow.associatedEvent=y,p.resolver._originValidation(p.auth).catch(D=>{p.reject(D)}),p.resolver._isIframeWebStorageSupported(p.auth,D=>{D||p.reject(ce(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var y,D;this.pollId=null!==(D=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,si.get())};p()}}return m.currentPopupAction=null,m})();const Lo="pendingRedirect",Pr=new Map;class Ys extends Kr{constructor(h,p,y=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,y),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,d.Z)(function*(){let y=Pr.get(p.auth._key());if(!y){try{const T=(yield function Ra(m,h){return Vo.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;y=()=>Promise.resolve(T)}catch(D){y=()=>Promise.reject(D)}Pr.set(p.auth._key(),y)}return p.bypassAuthState||Pr.set(p.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,y=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(y,h);if("unknown"!==h.type){if(h.eventId){const D=yield y.auth._redirectUserForId(h.eventId);if(D)return y.user=D,p().call(y,h);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Vo(){return(Vo=(0,d.Z)(function*(m,h){const p=lc(h),y=dr(m);if(!(yield y._isAvailable()))return!1;const D="true"===(yield y._get(p));return yield y._remove(p),D})).apply(this,arguments)}function Na(m,h){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(m,h){return dr(m)._set(lc(h),"true")})).apply(this,arguments)}function Cs(){Pr.clear()}function $l(m,h){Pr.set(m._key(),h)}function dr(m){return Ht(m._redirectPersistence)}function lc(m){return Cr(Lo,m.config.apiKey,m.name)}function Bo(m,h,p){return function hr(m,h,p){return mn.apply(this,arguments)}(m,h,p)}function mn(){return(mn=(0,d.Z)(function*(m,h,p){const y=en(m);de(m,h,Dr),yield y._initializationPromise;const D=Ci(y,p);return yield Na(D,y),D._openRedirect(y,h,"signInViaRedirect")})).apply(this,arguments)}function oi(m,h,p){return function Gl(m,h,p){return fr.apply(this,arguments)}(m,h,p)}function fr(){return(fr=(0,d.Z)(function*(m,h,p){const y=(0,k.m9)(m);de(y.auth,h,Dr),yield y.auth._initializationPromise;const D=Ci(y.auth,p);yield Na(D,y.auth);const T=yield ai(y);return D._openRedirect(y.auth,h,"reauthViaRedirect",T)})).apply(this,arguments)}function pr(m,h,p){return function jo(m,h,p){return Oa.apply(this,arguments)}(m,h,p)}function Oa(){return(Oa=(0,d.Z)(function*(m,h,p){const y=(0,k.m9)(m);de(y.auth,h,Dr),yield y.auth._initializationPromise;const D=Ci(y.auth,p);yield fs(!1,y,h.providerId),yield Na(D,y.auth);const T=yield ai(y);return D._openRedirect(y.auth,h,"linkViaRedirect",T)})).apply(this,arguments)}function kd(m,h){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(m,h){return yield en(m)._initializationPromise,Is(m,h,!1)})).apply(this,arguments)}function Is(m,h){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(m,h,p=!1){const y=en(m),D=Ci(y,h),H=yield new Ys(y,D,p).execute();return H&&!p&&(delete H.user._redirectEventId,yield y._persistUserIfCurrent(H.user),yield y._setRedirectUser(null,h)),H})).apply(this,arguments)}function ai(m){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(m){const h=_s(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class $i{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(h,y)&&(p=!0,this.sendToConsumer(h,y),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Js(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ho(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var y;if(h.error&&!Ho(h)){const D=(null===(y=h.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";p.onError(ce(this.auth,D))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const y=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&y}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pa(h))}saveEventToCache(h){this.cachedEventUids.add(Pa(h)),this.lastProcessedEventTime=Date.now()}}function Pa(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Ho({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===h?.code}function Xs(m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,d.Z)(function*(m,h={}){return fe(m,"GET","/v1/projects",h)})).apply(this,arguments)}const dt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ds=/^https?/;function Gi(){return(Gi=(0,d.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield Xs(m);for(const p of h)try{if(bs(p))return}catch{}z(m,"unauthorized-domain")})).apply(this,arguments)}function bs(m){const h=gt(),{protocol:p,hostname:y}=new URL(h);if(m.startsWith("chrome-extension://")){const H=new URL(m);return""===H.hostname&&""===y?"chrome-extension:"===p&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&H.hostname===y}if(!Ds.test(p))return!1;if(dt.test(m))return y===m;const D=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(y)}const zl=new yr(3e4,6e4);function rr(){const m=Dn().___jsl;if(m?.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let Ut=null;const zi=new yr(5e3,15e3),Zl="__/auth/iframe",Fd="emulator/auth/iframe",Kl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eo(m){const h=m.config;K(h.authDomain,m,"auth-domain-config-required");const p=h.emulator?Ni(h,Fd):`https://${m.config.authDomain}/${Zl}`,y={apiKey:h.apiKey,appName:m.name,v:S.SDK_VERSION},D=xa.get(m.config.apiHost);D&&(y.eid=D);const T=m._getFrameworks();return T.length&&(y.fw=T.join(",")),`${p}?${(0,k.xO)(y).slice(1)}`}function v(){return v=(0,d.Z)(function*(m){const h=yield function Wi(m){return Ut=Ut||function uc(m){return new Promise((h,p)=>{var y,D,T;function H(){rr(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{rr(),p(ce(m,"network-request-failed"))},timeout:zl.get()})}if(null!==(D=null===(y=Dn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==D&&D.Iframe)h(gapi.iframes.getContext());else{if(null===(T=Dn().gapi)||void 0===T||!T.load){const X=Hn("iframefcb");return Dn()[X]=()=>{gapi.load?H():p(ce(m,"network-request-failed"))},Xt(`https://apis.google.com/js/api.js?onload=${X}`).catch(Se=>p(Se))}H()}}).catch(h=>{throw Ut=null,h})}(m),Ut}(m),p=Dn().gapi;return K(p,m,"internal-error"),h.open({where:document.body,url:eo(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kl,dontclear:!0},y=>new Promise(function(){var D=(0,d.Z)(function*(T,H){yield y.restyle({setHideOnLeave:!1});const X=ce(m,"network-request-failed"),Se=Dn().setTimeout(()=>{H(X)},zi.get());function Pe(){Dn().clearTimeout(Se),T(y)}y.ping(Pe).then(Pe,()=>{H(X)})});return function(T,H){return D.apply(this,arguments)}}()))}),v.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class te{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Be="__/auth/handler",it="emulator/auth/handler",tt=encodeURIComponent("fac");function Kt(m,h,p,y,D,T){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.Z)(function*(m,h,p,y,D,T){K(m.config.authDomain,m,"auth-domain-config-required"),K(m.config.apiKey,m,"invalid-api-key");const H={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:y,v:S.SDK_VERSION,eventId:D};if(h instanceof Dr){h.setDefaultLanguage(m.languageCode),H.providerId=h.providerId||"",(0,k.xb)(h.getCustomParameters())||(H.customParameters=JSON.stringify(h.getCustomParameters()));for(const[We,yt]of Object.entries(T||{}))H[We]=yt}if(h instanceof er){const We=h.getScopes().filter(yt=>""!==yt);We.length>0&&(H.scopes=We.join(","))}m.tenantId&&(H.tid=m.tenantId);const X=H;for(const We of Object.keys(X))void 0===X[We]&&delete X[We];const Se=yield m._getAppCheckToken(),Pe=Se?`#${tt}=${encodeURIComponent(Se)}`:"";return`${function Ts({config:m}){return m.emulator?Ni(m,it):`https://${m.authDomain}/${Be}`}(m)}?${(0,k.xO)(X).slice(1)}${Pe}`})).apply(this,arguments)}const qt="webStorageSupport",Tn=class Ss{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ca,this._completeRedirectFn=Is,this._overrideRedirectResult=$l}_openPopup(h,p,y,D){var T=this;return(0,d.Z)(function*(){var H;Ze(null===(H=T.eventManagers[h._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const X=yield Kt(h,p,y,gt(),D);return function ke(m,h,p,y=500,D=600){const T=Math.max((window.screen.availHeight-D)/2,0).toString(),H=Math.max((window.screen.availWidth-y)/2,0).toString();let X="";const Se=Object.assign(Object.assign({},E),{width:y.toString(),height:D.toString(),top:T,left:H}),Pe=(0,k.z$)().toLowerCase();p&&(X=b(Pe)?"_blank":p),A(Pe)&&(h=h||"http://localhost",Se.scrollbars="yes");const We=Object.entries(Se).reduce((gr,[li,As])=>`${gr}${li}=${As},`,"");if(function Je(m=(0,k.z$)()){var h;return Le(m)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Pe)&&"_self"!==X)return function Ae(m,h){const p=document.createElement("a");p.href=m,p.target=h;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(y)}(h||"",X),new te(null);const yt=window.open(h||"",X,We);K(yt,m,"popup-blocked");try{yt.focus()}catch{}return new te(yt)}(h,X,_s())})()}_openRedirect(h,p,y,D){var T=this;return(0,d.Z)(function*(){return yield T._originValidation(h),function Zs(m){Dn().location.href=m}(yield Kt(h,p,y,gt(),D)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:D,promise:T}=this.eventManagers[p];return D?Promise.resolve(D):(Ze(T,"If manager is not set, promise should be"),T)}const y=this.initAndGetManager(h);return this.eventManagers[p]={promise:y},y.catch(()=>{delete this.eventManagers[p]}),y}initAndGetManager(h){var p=this;return(0,d.Z)(function*(){const y=yield function to(m){return v.apply(this,arguments)}(h),D=new $i(h);return y.register("authEvent",T=>(K(T?.authEvent,h,"invalid-auth-event"),{status:D.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:D},p.iframes[h._key()]=y,D})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(qt,{type:qt},D=>{var T;const H=null===(T=D?.[0])||void 0===T?void 0:T[qt];void 0!==H&&p(!!H),z(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ws(m){return Gi.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ct()||R()||Le()}};class Ii{constructor(h){this.factorId=h}_process(h,p,y){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,y);case"signin":return this._finalizeSignIn(h,p.credential);default:return Ue("unexpected MultiFactorSessionType")}}}class qn extends Ii{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new qn(h)}_finalizeEnroll(h,p,y){return function Oo(m,h){return fe(m,"POST","/v2/accounts/mfaEnrollment:finalize",J(m,h))}(h,{idToken:p,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Fl(m,h){return fe(m,"POST","/v2/accounts/mfaSignIn:finalize",J(m,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ka=(()=>{class m{constructor(){}static assertion(p){return qn._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var xg="@firebase/auth";class Xv{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,d.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(y=>{h(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,k.Pz)("authIdTokenMaxAge"),function Ld(m){(0,S._registerComponent)(new oe.wA("auth",(h,{options:p})=>{const y=h.getProvider("app").getImmediate(),D=h.getProvider("heartbeat"),T=h.getProvider("app-check-internal"),{apiKey:H,authDomain:X}=y.options;K(H&&!H.includes(":"),"invalid-api-key",{appName:y.name});const Se={apiKey:H,authDomain:X,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pi(m)},Pe=new _o(y,D,T,Se);return function af(m,h){const p=h?.persistence||[],y=(Array.isArray(p)?p:[p]).map(Ht);h?.errorMap&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(y,h?.popupRedirectResolver)}(Pe,p),Pe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,y)=>{h.getProvider("auth-internal").initialize()})),(0,S._registerComponent)(new oe.wA("auth-internal",h=>{const p=en(h.getProvider("auth").getImmediate());return new Xv(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,S.registerVersion)(xg,"0.23.2",function qr(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,S.registerVersion)(xg,"0.23.2","esm2017")}("Browser")},9058:(He,pe,N)=>{N.d(pe,{$s:()=>Ht,BH:()=>Q,DV:()=>rn,Dv:()=>Br,GJ:()=>jt,L:()=>se,LL:()=>we,Pz:()=>ce,Sg:()=>de,UG:()=>Ue,UI:()=>sr,US:()=>oe,Wj:()=>rt,Wl:()=>Ye,Yr:()=>yr,ZB:()=>Z,ZR:()=>fe,aH:()=>z,b$:()=>vn,cI:()=>Mt,dS:()=>Mr,eu:()=>re,g5:()=>S,gK:()=>St,gQ:()=>et,h$:()=>me,hl:()=>ee,hu:()=>k,jU:()=>Ze,lb:()=>zt,m9:()=>Cr,ne:()=>mt,p$:()=>V,pd:()=>st,r3:()=>Rt,ru:()=>gt,tV:()=>x,uI:()=>K,ug:()=>Rr,vZ:()=>Rn,w1:()=>Jr,w9:()=>Wt,xO:()=>Xr,xb:()=>Er,z$:()=>De,zI:()=>le,zd:()=>Ge});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},k=function(U,F){if(!U)throw S(F)},S=function(U){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+U)},W=function(U){const F=[];let A=0;for(let R=0;R<U.length;R++){let b=U.charCodeAt(R);b<128?F[A++]=b:b<2048?(F[A++]=b>>6|192,F[A++]=63&b|128):55296==(64512&b)&&R+1<U.length&&56320==(64512&U.charCodeAt(R+1))?(b=65536+((1023&b)<<10)+(1023&U.charCodeAt(++R)),F[A++]=b>>18|240,F[A++]=b>>12&63|128,F[A++]=b>>6&63|128,F[A++]=63&b|128):(F[A++]=b>>12|224,F[A++]=b>>6&63|128,F[A++]=63&b|128)}return F},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const A=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let b=0;b<U.length;b+=3){const $=U[b],he=b+1<U.length,be=he?U[b+1]:0,Qe=b+2<U.length,Le=Qe?U[b+2]:0;let Pt=(15&be)<<2|Le>>6,ct=63&Le;Qe||(ct=64,he||(Pt=64)),R.push(A[$>>2],A[(3&$)<<4|be>>4],A[Pt],A[ct])}return R.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(W(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let A=0,R=0;for(;A<U.length;){const b=U[A++];if(b<128)F[R++]=String.fromCharCode(b);else if(b>191&&b<224){const $=U[A++];F[R++]=String.fromCharCode((31&b)<<6|63&$)}else if(b>239&&b<365){const Qe=((7&b)<<18|(63&U[A++])<<12|(63&U[A++])<<6|63&U[A++])-65536;F[R++]=String.fromCharCode(55296+(Qe>>10)),F[R++]=String.fromCharCode(56320+(1023&Qe))}else{const $=U[A++],he=U[A++];F[R++]=String.fromCharCode((15&b)<<12|(63&$)<<6|63&he)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const A=F?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let b=0;b<U.length;){const $=A[U.charAt(b++)],be=b<U.length?A[U.charAt(b)]:0;++b;const Le=b<U.length?A[U.charAt(b)]:64;++b;const Je=b<U.length?A[U.charAt(b)]:64;if(++b,null==$||null==be||null==Le||null==Je)throw new ae;R.push($<<2|be>>4),64!==Le&&(R.push(be<<4&240|Le>>2),64!==Je&&R.push(Le<<6&192|Je))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const me=function(U){const F=W(U);return oe.encodeByteArray(F,!0)},se=function(U){return me(U).replace(/\./g,"")},x=function(U){try{return oe.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function V(U){return Z(void 0,U)}function Z(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const A in F)!F.hasOwnProperty(A)||!Ie(A)||(U[A]=Z(U[A],F[A]));return U}function Ie(U){return"__proto__"!==U}const Ce=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&x(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},z=()=>{var U;return null===(U=Ce())||void 0===U?void 0:U.config},ce=U=>{var F;return null===(F=Ce())||void 0===F?void 0:F[`_${U}`]};class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,A)=>{this.resolve=F,this.reject=A})}wrapCallback(F){return(A,R)=>{A?this.reject(A):this.resolve(R),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(A):F(A,R))}}}function de(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=F||"demo-project",b=U.iat||0,$=U.sub||U.user_id;if(!$)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const he=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:b,exp:b+3600,auth_time:b,sub:$,user_id:$,firebase:{sign_in_provider:"custom",identities:{}}},U);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(he)),""].join(".")}function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function Ue(){var U;const F=null===(U=Ce())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function gt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function vn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Jr(){const U=De();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function yr(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function ee(){try{return"object"==typeof indexedDB}catch{return!1}}function re(){return new Promise((U,F)=>{try{let A=!0;const R="validate-browser-context-for-indexeddb-analytics-module",b=self.indexedDB.open(R);b.onsuccess=()=>{b.result.close(),A||self.indexedDB.deleteDatabase(R),U(!0)},b.onupgradeneeded=()=>{A=!1},b.onerror=()=>{var $;F((null===($=b.error)||void 0===$?void 0:$.message)||"")}}catch(A){F(A)}})}function le(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class fe extends Error{constructor(F,A,R){super(A),this.code=F,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,we.prototype.create)}}class we{constructor(F,A,R){this.service=F,this.serviceName=A,this.errors=R}create(F,...A){const R=A[0]||{},b=`${this.service}/${F}`,$=this.errors[F],he=$?function Fe(U,F){return U.replace(Me,(A,R)=>{const b=F[R];return null!=b?String(b):`<${R}?>`})}($,R):"Error";return new fe(b,`${this.serviceName}: ${he} (${b}).`,R)}}const Me=/\{\$([^}]+)}/g;function Mt(U){return JSON.parse(U)}function Ye(U){return JSON.stringify(U)}const Dt=function(U){let F={},A={},R={},b="";try{const $=U.split(".");F=Mt(x($[0])||""),A=Mt(x($[1])||""),b=$[2],R=A.d||{},delete A.d}catch{}return{header:F,claims:A,data:R,signature:b}},Wt=function(U){const A=Dt(U).claims;return!!A&&"object"==typeof A&&A.hasOwnProperty("iat")},jt=function(U){const F=Dt(U).claims;return"object"==typeof F&&!0===F.admin};function Rt(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function rn(U,F){if(Object.prototype.hasOwnProperty.call(U,F))return U[F]}function Er(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function sr(U,F,A){const R={};for(const b in U)Object.prototype.hasOwnProperty.call(U,b)&&(R[b]=F.call(A,U[b],b,U));return R}function Rn(U,F){if(U===F)return!0;const A=Object.keys(U),R=Object.keys(F);for(const b of A){if(!R.includes(b))return!1;const $=U[b],he=F[b];if(Jt($)&&Jt(he)){if(!Rn($,he))return!1}else if($!==he)return!1}for(const b of R)if(!A.includes(b))return!1;return!0}function Jt(U){return null!==U&&"object"==typeof U}function Xr(U){const F=[];for(const[A,R]of Object.entries(U))Array.isArray(R)?R.forEach(b=>{F.push(encodeURIComponent(A)+"="+encodeURIComponent(b))}):F.push(encodeURIComponent(A)+"="+encodeURIComponent(R));return F.length?"&"+F.join("&"):""}function Ge(U){const F={};return U.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[b,$]=R.split("=");F[decodeURIComponent(b)]=decodeURIComponent($)}}),F}function st(U){const F=U.indexOf("?");if(!F)return"";const A=U.indexOf("#",F);return U.substring(F,A>0?A:void 0)}class et{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,A){A||(A=0);const R=this.W_;if("string"==typeof F)for(let Je=0;Je<16;Je++)R[Je]=F.charCodeAt(A)<<24|F.charCodeAt(A+1)<<16|F.charCodeAt(A+2)<<8|F.charCodeAt(A+3),A+=4;else for(let Je=0;Je<16;Je++)R[Je]=F[A]<<24|F[A+1]<<16|F[A+2]<<8|F[A+3],A+=4;for(let Je=16;Je<80;Je++){const Pt=R[Je-3]^R[Je-8]^R[Je-14]^R[Je-16];R[Je]=4294967295&(Pt<<1|Pt>>>31)}let Le,wt,b=this.chain_[0],$=this.chain_[1],he=this.chain_[2],be=this.chain_[3],Qe=this.chain_[4];for(let Je=0;Je<80;Je++){Je<40?Je<20?(Le=be^$&(he^be),wt=1518500249):(Le=$^he^be,wt=1859775393):Je<60?(Le=$&he|be&($|he),wt=2400959708):(Le=$^he^be,wt=3395469782);const Pt=(b<<5|b>>>27)+Le+Qe+wt+R[Je]&4294967295;Qe=be,be=he,he=4294967295&($<<30|$>>>2),$=b,b=Pt}this.chain_[0]=this.chain_[0]+b&4294967295,this.chain_[1]=this.chain_[1]+$&4294967295,this.chain_[2]=this.chain_[2]+he&4294967295,this.chain_[3]=this.chain_[3]+be&4294967295,this.chain_[4]=this.chain_[4]+Qe&4294967295}update(F,A){if(null==F)return;void 0===A&&(A=F.length);const R=A-this.blockSize;let b=0;const $=this.buf_;let he=this.inbuf_;for(;b<A;){if(0===he)for(;b<=R;)this.compress_(F,b),b+=this.blockSize;if("string"==typeof F){for(;b<A;)if($[he]=F.charCodeAt(b),++he,++b,he===this.blockSize){this.compress_($),he=0;break}}else for(;b<A;)if($[he]=F[b],++he,++b,he===this.blockSize){this.compress_($),he=0;break}}this.inbuf_=he,this.total_+=A}digest(){const F=[];let A=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let b=this.blockSize-1;b>=56;b--)this.buf_[b]=255&A,A/=256;this.compress_(this.buf_);let R=0;for(let b=0;b<5;b++)for(let $=24;$>=0;$-=8)F[R]=this.chain_[b]>>$&255,++R;return F}}function mt(U,F){const A=new un(U,F);return A.subscribe.bind(A)}class un{constructor(F,A){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=A,this.task.then(()=>{F(this)}).catch(R=>{this.error(R)})}next(F){this.forEachObserver(A=>{A.next(F)})}error(F){this.forEachObserver(A=>{A.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,A,R){let b;if(void 0===F&&void 0===A&&void 0===R)throw new Error("Missing Observer.");b=function ft(U,F){if("object"!=typeof U||null===U)return!1;for(const A of F)if(A in U&&"function"==typeof U[A])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:A,complete:R},void 0===b.next&&(b.next=sn),void 0===b.error&&(b.error=sn),void 0===b.complete&&(b.complete=sn);const $=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?b.error(this.finalError):b.complete()}catch{}}),this.observers.push(b),$}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let A=0;A<this.observers.length;A++)this.sendOne(A,F)}sendOne(F,A){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{A(this.observers[F])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sn(){}const Br=function(U,F,A,R){let b;if(R<F?b="at least "+F:R>A&&(b=0===A?"none":"no more than "+A),b)throw new Error(U+" failed: Was called with "+R+(1===R?" argument.":" arguments.")+" Expects "+b+".")};function St(U,F){return`${U} failed: ${F} argument `}function rt(U,F,A,R){if((!R||A)&&"function"!=typeof A)throw new Error(St(U,F)+"must be a valid function.")}function zt(U,F,A,R){if((!R||A)&&("object"!=typeof A||null===A))throw new Error(St(U,F)+"must be a valid context object.")}const Mr=function(U){const F=[];let A=0;for(let R=0;R<U.length;R++){let b=U.charCodeAt(R);if(b>=55296&&b<=56319){const $=b-55296;R++,k(R<U.length,"Surrogate pair missing trail surrogate."),b=65536+($<<10)+(U.charCodeAt(R)-56320)}b<128?F[A++]=b:b<2048?(F[A++]=b>>6|192,F[A++]=63&b|128):b<65536?(F[A++]=b>>12|224,F[A++]=b>>6&63|128,F[A++]=63&b|128):(F[A++]=b>>18|240,F[A++]=b>>12&63|128,F[A++]=b>>6&63|128,F[A++]=63&b|128)}return F},Rr=function(U){let F=0;for(let A=0;A<U.length;A++){const R=U.charCodeAt(A);R<128?F++:R<2048?F+=2:R>=55296&&R<=56319?(F+=4,A++):F+=3}return F},cn=1e3,dn=2,hn=144e5,jn=.5;function Ht(U,F=cn,A=dn){const R=F*Math.pow(A,U),b=Math.round(jn*R*(Math.random()-.5)*2);return Math.min(hn,R+b)}function Cr(U){return U&&U._delegate?U._delegate:U}},4509:(He,pe,N)=>{var d=N(5879);let k=null;function S(){return k}class Y{}const oe=new d.OlP("DocumentToken");let ae=(()=>{class r{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(se)},providedIn:"platform"})}return r})();const me=new d.OlP("Location Initialized");let se=(()=>{class r extends ae{constructor(){super(),this._doc=(0,d.f3M)(oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(n){const o=S().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=S().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,l){this._history.pushState(n,o,l)}replaceState(n,o,l){this._history.replaceState(n,o,l)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:function(){return new r},providedIn:"platform"})}return r})();function x(r,i){if(0==r.length)return i;if(0==i.length)return r;let n=0;return r.endsWith("/")&&n++,i.startsWith("/")&&n++,2==n?r+i.substring(1):1==n?r+i:r+"/"+i}function V(r){const i=r.match(/#|\?|$/),n=i&&i.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function Z(r){return r&&"?"!==r[0]?"?"+r:r}let Ie=(()=>{class r{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(Ne)},providedIn:"root"})}return r})();const _e=new d.OlP("appBaseHref");let Ne=(()=>{class r extends Ie{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return x(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Z(this._platformLocation.search),l=this._platformLocation.hash;return l&&n?`${o}${l}`:o}pushState(n,o,l,e){const t=this.prepareExternalUrl(l+Z(e));this._platformLocation.pushState(n,o,t)}replaceState(n,o,l,e){const t=this.prepareExternalUrl(l+Z(e));this._platformLocation.replaceState(n,o,t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(ae),d.LFG(_e,8))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ve=(()=>{class r extends Ie{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=x(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,l,e){let t=this.prepareExternalUrl(l+Z(e));0==t.length&&(t=this._platformLocation.pathname),this._platformLocation.pushState(n,o,t)}replaceState(n,o,l,e){let t=this.prepareExternalUrl(l+Z(e));0==t.length&&(t=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(ae),d.LFG(_e,8))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})(),Oe=(()=>{class r{constructor(n){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function z(r){if(new RegExp("^(https?:)?//").test(r)){const[,n]=r.split(/\/\/[^\/]+/);return n}return r}(V(je(o))),this._locationStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Z(o))}normalize(n){return r.stripTrailingSlash(function ze(r,i){if(!r||!i.startsWith(r))return i;const n=i.substring(r.length);return""===n||["/",";","?","#"].includes(n[0])?n:i}(this._basePath,je(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",l=null){this._locationStrategy.pushState(l,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Z(o)),l)}replaceState(n,o="",l=null){this._locationStrategy.replaceState(l,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Z(o)),l)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(l=>l(n,o))}subscribe(n,o,l){return this._subject.subscribe({next:n,error:o,complete:l})}static#e=this.normalizeQueryParams=Z;static#t=this.joinWithSlash=x;static#n=this.stripTrailingSlash=V;static#r=this.\u0275fac=function(o){return new(o||r)(d.LFG(Ie))};static#i=this.\u0275prov=d.Yz7({token:r,factory:function(){return function Ce(){return new Oe((0,d.LFG)(Ie))}()},providedIn:"root"})}return r})();function je(r){return r.replace(/\/index.html$/,"")}class mo{constructor(i,n,o,l){this.$implicit=i,this.ngForOf=n,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _o=(()=>{class r{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,l){this._viewContainer=n,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((l,e,t)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new mo(l.item,this._ngForOf,-1,-1),null===t?void 0:t);else if(null==t)o.remove(null===e?void 0:e);else if(null!==e){const s=o.get(e);o.move(s,t),en(s,l)}});for(let l=0,e=o.length;l<e;l++){const s=o.get(l).context;s.index=l,s.count=e,s.ngForOf=this._ngForOf}n.forEachIdentityChange(l=>{en(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(n,o){return!0}static#e=this.\u0275fac=function(o){return new(o||r)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))};static#t=this.\u0275dir=d.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return r})();function en(r,i){r.context.$implicit=i.item}let vo=(()=>{class r{constructor(n,o){this._viewContainer=n,this._context=new af,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Fu("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Fu("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}static#e=this.\u0275fac=function(o){return new(o||r)(d.Y36(d.s_b),d.Y36(d.Rgc))};static#t=this.\u0275dir=d.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return r})();class af{constructor(){this.$implicit=null,this.ngIf=null}}function Fu(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,d.AaK)(i)}'.`)}let us=(()=>{class r{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=tn}transform(n,o=tn){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ||(this.differ=this.differs.find(n).create());const l=this.differ.diff(n),e=o!==this.compareFn;return l&&(this.keyValues=[],l.forEachItem(t=>{this.keyValues.push(function Oi(r,i){return{key:r,value:i}}(t.key,t.currentValue))})),(l||e)&&(this.keyValues.sort(o),this.compareFn=o),this.keyValues}static#e=this.\u0275fac=function(o){return new(o||r)(d.Y36(d.aQg,16))};static#t=this.\u0275pipe=d.Yjl({name:"keyvalue",type:r,pure:!1,standalone:!0})}return r})();function tn(r,i){const n=r.key,o=i.key;if(n===o)return 0;if(void 0===n)return 1;if(void 0===o)return-1;if(null===n)return 1;if(null===o)return-1;if("string"==typeof n&&"string"==typeof o)return n<o?-1:1;if("number"==typeof n&&"number"==typeof o)return n-o;if("boolean"==typeof n&&"boolean"==typeof o)return n<o?-1:1;const l=String(n),e=String(o);return l==e?0:l<e?-1:1}let on=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=d.oAB({type:r});static#n=this.\u0275inj=d.cJS({})}return r})();function Nr(r){return"server"===r}let er=(()=>{class r{static#e=this.\u0275prov=(0,d.Yz7)({token:r,providedIn:"root",factory:()=>new xi((0,d.LFG)(oe),window)})}return r})();class xi{constructor(i,n){this.document=i,this.window=n,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const n=function ua(r,i){const n=r.getElementById(i)||r.getElementsByName(i)[0];if(n)return n;if("function"==typeof r.createTreeWalker&&r.body&&"function"==typeof r.body.attachShadow){const o=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const e=l.shadowRoot;if(e){const t=e.getElementById(i)||e.querySelector(`[name="${i}"]`);if(t)return t}l=o.nextNode()}}return null}(this.document,i);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(i){this.supportsScrolling()&&(this.window.history.scrollRestoration=i)}scrollToElement(i){const n=i.getBoundingClientRect(),o=n.left+this.window.pageXOffset,l=n.top+this.window.pageYOffset,e=this.offset();this.window.scrollTo(o-e[0],l-e[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qu extends Y{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _a extends qu{static makeCurrent(){!function W(r){k||(k=r)}(new _a)}onAndCancel(i,n,o){return i.addEventListener(n,o),()=>{i.removeEventListener(n,o)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=function df(){return Mo=Mo||document.querySelector("base"),Mo?Mo.getAttribute("href"):null}();return null==n?null:function Md(r){Ml=Ml||document.createElement("a"),Ml.setAttribute("href",r);const i=Ml.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){Mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function gi(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const o=n.indexOf("="),[l,e]=-1==o?[n,""]:[n.slice(0,o),n.slice(o+1)];if(l.trim()===i)return decodeURIComponent(e)}return null}(document.cookie,i)}}let Ml,Mo=null,hf=(()=>{class r{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})();const Nl=new d.OlP("EventManagerPlugins");let Rd=(()=>{class r{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(l=>{l.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,l){return this._findPluginFor(o).addEventListener(n,o,l)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(e=>e.supports(n)),!o)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(n,o),o}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(Nl),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})();class va{constructor(i){this._doc=i}}const Ro="ng-app-id";let ya=(()=>{class r{constructor(n,o,l,e={}){this.doc=n,this.appId=o,this.nonce=l,this.platformId=e,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Nr(e),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(l=>l.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Ro}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(l=>{null!=l.textContent&&o.set(l.textContent,l)}),o}return null}changeUsageCount(n,o){const l=this.styleRef;if(l.has(n)){const e=l.get(n);return e.usage+=o,e.usage}return l.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const l=this.styleNodesInDOM,e=l?.get(o);if(e?.parentNode===n)return l.delete(o),e.removeAttribute(Ro),e;{const t=this.doc.createElement("style");return this.nonce&&t.setAttribute("nonce",this.nonce),t.textContent=o,this.platformIsServer&&t.setAttribute(Ro,this.appId),t}}addStyleToHost(n,o){const l=this.getStyleElement(n,o);n.appendChild(l);const e=this.styleRef,t=e.get(o)?.elements;t?t.push(l):e.set(o,{elements:[l],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(oe),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})();const zr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zs=/%COMP%/g,Or=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Nt(r,i){return i.map(n=>n.replace(zs,r))}let Po=(()=>{class r{constructor(n,o,l,e,t,s,a,u=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=l,this.removeStylesOnCompDestroy=e,this.doc=t,this.platformId=s,this.ngZone=a,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Nr(s),this.defaultRenderer=new ti(n,t,a,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===d.ifc.ShadowDom&&(o={...o,encapsulation:d.ifc.Emulated});const l=this.getOrCreateRenderer(n,o);return l instanceof Pl?l.applyToHost(n):l instanceof Kn&&l.applyStyles(),l}getOrCreateRenderer(n,o){const l=this.rendererByCompId;let e=l.get(o.id);if(!e){const t=this.doc,s=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(o.encapsulation){case d.ifc.Emulated:e=new Pl(a,u,o,this.appId,c,t,s,f);break;case d.ifc.ShadowDom:return new gs(a,u,n,o,t,s,this.nonce,f);default:e=new Kn(a,u,o,c,t,s,f)}l.set(o.id,e)}return e}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(Rd),d.LFG(ya),d.LFG(d.AFp),d.LFG(Or),d.LFG(oe),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})();class ti{constructor(i,n,o,l){this.eventManager=i,this.doc=n,this.ngZone=o,this.platformIsServer=l,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,n){return n?this.doc.createElementNS(zr[n]||n,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,n){(Ol(i)?i.content:i).appendChild(n)}insertBefore(i,n,o){i&&(Ol(i)?i.content:i).insertBefore(n,o)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let o="string"==typeof i?this.doc.querySelector(i):i;if(!o)throw new d.vHH(-5104,!1);return n||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,o,l){if(l){n=l+":"+n;const e=zr[l];e?i.setAttributeNS(e,n,o):i.setAttribute(n,o)}else i.setAttribute(n,o)}removeAttribute(i,n,o){if(o){const l=zr[o];l?i.removeAttributeNS(l,n):i.removeAttribute(`${o}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,o,l){l&(d.JOm.DashCase|d.JOm.Important)?i.style.setProperty(n,o,l&d.JOm.Important?"important":""):i.style[n]=o}removeStyle(i,n,o){o&d.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,o){i[n]=o}setValue(i,n){i.nodeValue=n}listen(i,n,o){if("string"==typeof i&&!(i=S().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${n}`);return this.eventManager.addEventListener(i,n,this.decoratePreventDefault(o))}decoratePreventDefault(i){return n=>{if("__ngUnwrap__"===n)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(n)):i(n))&&n.preventDefault()}}}function Ol(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class gs extends ti{constructor(i,n,o,l,e,t,s,a){super(i,e,t,a),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Nt(l.id,l.styles);for(const c of u){const f=document.createElement("style");s&&f.setAttribute("nonce",s),f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,o){return super.insertBefore(this.nodeOrShadowRoot(i),n,o)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Kn extends ti{constructor(i,n,o,l,e,t,s,a){super(i,e,t,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=l,this.styles=a?Nt(a,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Pl extends Kn{constructor(i,n,o,l,e,t,s,a){const u=l+"-"+o.id;super(i,n,o,e,t,s,a,u),this.contentAttr=function Qu(r){return"_ngcontent-%COMP%".replace(zs,r)}(u),this.hostAttr=function Ea(r){return"_nghost-%COMP%".replace(zs,r)}(u)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,n){const o=super.createElement(i,n);return super.setAttribute(o,this.contentAttr,""),o}}let Ju=(()=>{class r extends va{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,l){return n.addEventListener(o,l,!1),()=>this.removeEventListener(n,o,l)}removeEventListener(n,o,l){return n.removeEventListener(o,l)}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(oe))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})();const Ca=["alt","control","meta","shift"],ms={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nd={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let _s=(()=>{class r extends va{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,o,l){const e=r.parseEventName(o),t=r.eventCallback(e.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>S().onAndCancel(n,e.domEventName,t))}static parseEventName(n){const o=n.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const e=r._normalizeKey(o.pop());let t="",s=o.indexOf("code");if(s>-1&&(o.splice(s,1),t="code."),Ca.forEach(u=>{const c=o.indexOf(u);c>-1&&(o.splice(c,1),t+=u+".")}),t+=e,0!=o.length||0===e.length)return null;const a={};return a.domEventName=l,a.fullKey=t,a}static matchEventFullKeyCode(n,o){let l=ms[n.key]||n.key,e="";return o.indexOf("code.")>-1&&(l=n.code,e="code."),!(null==l||!l)&&(l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Ca.forEach(t=>{t!==l&&(0,Nd[t])(n)&&(e+=t+".")}),e+=l,e===o)}static eventCallback(n,o,l){return e=>{r.matchEventFullKeyCode(e,n)&&l.runGuarded(()=>o(e))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(oe))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})();const wn=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Xe(){_a.makeCurrent()},multi:!0},{provide:oe,useFactory:function mf(){return(0,d.RDi)(document),document},deps:[]}]),Od=new d.OlP(""),gn=[{provide:d.rWj,useClass:class Rl{addToWindow(i){d.dqk.getAngularTestability=(o,l=!0)=>{const e=i.findTestabilityInTree(o,l);if(null==e)throw new d.vHH(5103,!1);return e},d.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(o=>{const l=d.dqk.getAllAngularTestabilities();let e=l.length,t=!1;const s=function(a){t=t||a,e--,0==e&&o(t)};l.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(i,n,o){return null==n?null:i.getTestability(n)??(o?S().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Vi=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Ia(){return new d.qLn},deps:[]},{provide:Nl,useClass:Ju,multi:!0,deps:[oe,d.R0b,d.Lbi]},{provide:Nl,useClass:_s,multi:!0,deps:[oe]},Po,ya,Rd,{provide:d.FYo,useExisting:Po},{provide:class $r{},useClass:hf,deps:[]},[]];let Ks=(()=>{class r{constructor(n){}static withServerTransition(n){return{ngModule:r,providers:[{provide:d.AFp,useValue:n.appId}]}}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(Od,12))};static#t=this.\u0275mod=d.oAB({type:r});static#n=this.\u0275inj=d.cJS({providers:[...Vi,...gn],imports:[on,d.hGG]})}return r})(),ge=(()=>{class r{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(oe))};static#t=this.\u0275prov=d.Yz7({token:r,factory:function(o){let l=null;return l=o?new o:function tc(){return new ge((0,d.LFG)(oe))}(),l},providedIn:"root"})}return r})();typeof window<"u"&&window;var Sr=N(5592),Ui=N(4674),an=N(2459),qe=N(2096),Vn=N(5619);const{isArray:ko}=Array,{getPrototypeOf:Aa,prototype:nr,keys:Zr}=Object;function $t(r){if(1===r.length){const i=r[0];if(ko(i))return{args:i,keys:null};if(function Ci(r){return r&&"object"==typeof r&&Aa(r)===nr}(i)){const n=Zr(i);return{args:n.map(o=>i[o]),keys:n}}}return{args:r,keys:null}}var ys=N(2737),at=N(7398);const{isArray:ac}=Array;function Bi(r){return(0,at.U)(i=>function jl(r,i){return ac(i)?r(...i):r(i)}(r,i))}var Kr=N(4564);function si(r,i){return r.reduce((n,o,l)=>(n[o]=i[l],n),{})}var Gt=N(8251),ji=N(7103);function Fo(...r){const i=(0,Kr.yG)(r),n=(0,Kr.jO)(r),{args:o,keys:l}=$t(r);if(0===o.length)return(0,an.D)([],i);const e=new Sr.y(function qs(r,i,n=ys.y){return o=>{Ma(i,()=>{const{length:l}=r,e=new Array(l);let t=l,s=l;for(let a=0;a<l;a++)Ma(i,()=>{const u=(0,an.D)(r[a],i);let c=!1;u.subscribe((0,Gt.x)(o,f=>{e[a]=f,c||(c=!0,s--),s||o.next(n(e.slice()))},()=>{--t||o.complete()}))},o)},o)}}(o,i,l?t=>si(l,t):ys.y));return n?e.pipe(Bi(n)):e}function Ma(r,i,n){r?(0,ji.f)(n,r,i):i()}const Es=(0,N(2306).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var Lo=N(7537);function Ys(...r){return function Pr(){return(0,Lo.J)(1)}()((0,an.D)(r,(0,Kr.yG)(r)))}var Ra=N(4829);function Vo(r){return new Sr.y(i=>{(0,Ra.Xf)(r()).subscribe(i)})}var Na=N(8407);function Uo(r,i){const n=(0,Ui.m)(r)?r:()=>r,o=l=>l.error(n());return new Sr.y(i?l=>i.schedule(o,0,l):o)}var Cs=N(6232),$l=N(7394),dr=N(9360);function lc(){return(0,dr.e)((r,i)=>{let n=null;r._refCount++;const o=(0,Gt.x)(i,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(n=null);const l=r._connection,e=n;n=null,l&&(!e||l===e)&&l.unsubscribe(),i.unsubscribe()});r.subscribe(o),o.closed||(n=r.connect())})}class Bo extends Sr.y{constructor(i,n){super(),this.source=i,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,dr.A)(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new $l.w0;const n=this.getSubject();i.add(this.source.subscribe((0,Gt.x)(n,void 0,()=>{this._teardown(),n.complete()},o=>{this._teardown(),n.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=$l.w0.EMPTY)}return i}refCount(){return lc()(this)}}var hr=N(8645),mn=N(4664);function oi(r){return r<=0?()=>Cs.E:(0,dr.e)((i,n)=>{let o=0;i.subscribe((0,Gt.x)(n,l=>{++o<=r&&(n.next(l),r<=o&&n.complete())}))})}function fr(r,i){return(0,dr.e)((n,o)=>{let l=0;n.subscribe((0,Gt.x)(o,e=>r.call(i,e,l++)&&o.next(e)))})}var pr=N(1631);function jo(r){return(0,dr.e)((i,n)=>{let o=!1;i.subscribe((0,Gt.x)(n,l=>{o=!0,n.next(l)},()=>{o||n.next(r),n.complete()}))})}function Oa(r=kd){return(0,dr.e)((i,n)=>{let o=!1;i.subscribe((0,Gt.x)(n,l=>{o=!0,n.next(l)},()=>o?n.complete():n.error(r())))})}function kd(){return new Es}function bn(r,i){const n=arguments.length>=2;return o=>o.pipe(r?fr((l,e)=>r(l,e,o)):ys.y,oi(1),n?jo(i):Oa(()=>new Es))}function Is(r,i){return(0,Ui.m)(i)?(0,pr.z)(r,i,1):(0,pr.z)(r,1)}var ln=N(9397);function ai(r){return(0,dr.e)((i,n)=>{let e,o=null,l=!1;o=i.subscribe((0,Gt.x)(n,void 0,void 0,t=>{e=(0,Ra.Xf)(r(t,ai(r)(i))),o?(o.unsubscribe(),o=null,e.subscribe(n)):l=!0})),l&&(o.unsubscribe(),o=null,e.subscribe(n))})}function Hi(r,i){return(0,dr.e)(function Qs(r,i,n,o,l){return(e,t)=>{let s=n,a=i,u=0;e.subscribe((0,Gt.x)(t,c=>{const f=u++;a=s?r(a,c,f):(s=!0,c),o&&t.next(a)},l&&(()=>{s&&t.next(a),t.complete()})))}}(r,i,arguments.length>=2,!0))}function $i(r){return r<=0?()=>Cs.E:(0,dr.e)((i,n)=>{let o=[];i.subscribe((0,Gt.x)(n,l=>{o.push(l),r<o.length&&o.shift()},()=>{for(const l of o)n.next(l);n.complete()},void 0,()=>{o=null}))})}function Js(r){return(0,dr.e)((i,n)=>{try{i.subscribe(n)}finally{n.add(r)}})}var Xs=N(2420);const dt="primary",Ds=Symbol("RouteTitle");class ws{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Gi(r){return new ws(r)}function bs(r,i,n){const o=n.path.split("/");if(o.length>r.length||"full"===n.pathMatch&&(i.hasChildren()||o.length<r.length))return null;const l={};for(let e=0;e<o.length;e++){const t=o[e],s=r[e];if(t.startsWith(":"))l[t.substring(1)]=s;else if(t!==s.path)return null}return{consumed:r.slice(0,o.length),posParams:l}}function rr(r,i){const n=r?Object.keys(r):void 0,o=i?Object.keys(i):void 0;if(!n||!o||n.length!=o.length)return!1;let l;for(let e=0;e<n.length;e++)if(l=n[e],!uc(r[l],i[l]))return!1;return!0}function uc(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const n=[...r].sort(),o=[...i].sort();return n.every((l,e)=>o[e]===l)}return r===i}function Ut(r){return r.length>0?r[r.length-1]:null}function Wi(r){return function Sa(r){return!!r&&(r instanceof Sr.y||(0,Ui.m)(r.lift)&&(0,Ui.m)(r.subscribe))}(r)?r:(0,d.QGY)(r)?(0,an.D)(Promise.resolve(r)):(0,qe.of)(r)}const zi={exact:function xa(r,i,n){if(!te(r.segments,i.segments)||!E(r.segments,i.segments,n)||r.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!r.children[o]||!xa(r.children[o],i.children[o],n))return!1;return!0},subset:to},Zl={exact:function Kl(r,i){return rr(r,i)},subset:function eo(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(n=>uc(r[n],i[n]))},ignored:()=>!0};function Fd(r,i,n){return zi[n.paths](r.root,i.root,n.matrixParams)&&Zl[n.queryParams](r.queryParams,i.queryParams)&&!("exact"===n.fragment&&r.fragment!==i.fragment)}function to(r,i,n){return v(r,i,i.segments,n)}function v(r,i,n,o){if(r.segments.length>n.length){const l=r.segments.slice(0,n.length);return!(!te(l,n)||i.hasChildren()||!E(l,n,o))}if(r.segments.length===n.length){if(!te(r.segments,n)||!E(r.segments,n,o))return!1;for(const l in i.children)if(!r.children[l]||!to(r.children[l],i.children[l],o))return!1;return!0}{const l=n.slice(0,r.segments.length),e=n.slice(r.segments.length);return!!(te(r.segments,l)&&E(r.segments,l,o)&&r.children[dt])&&v(r.children[dt],i,e,o)}}function E(r,i,n){return i.every((o,l)=>Zl[n](r[l].parameters,o.parameters))}class I{constructor(i=new M([],{}),n={},o=null){this.root=i,this.queryParams=n,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gi(this.queryParams)),this._queryParamMap}toString(){return it.serialize(this)}}class M{constructor(i,n){this.segments=i,this.children=n,this.parent=null,Object.values(n).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tt(this)}}class B{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Gi(this.parameters)),this._parameterMap}toString(){return qn(this)}}function te(r,i){return r.length===i.length&&r.every((n,o)=>n.path===i[o].path)}let Ae=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:function(){return new Be},providedIn:"root"})}return r})();class Be{parse(i){const n=new La(i);return new I(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){const n=`/${Kt(i.root,!0)}`,o=function Pg(r){const i=Object.keys(r).map(n=>{const o=r[n];return Array.isArray(o)?o.map(l=>`${Ts(n)}=${Ts(l)}`).join("&"):`${Ts(n)}=${Ts(o)}`}).filter(n=>!!n);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${n}${o}${"string"==typeof i.fragment?`#${function qt(r){return encodeURI(r)}(i.fragment)}`:""}`}}const it=new Be;function tt(r){return r.segments.map(i=>qn(i)).join("/")}function Kt(r,i){if(!r.hasChildren())return tt(r);if(i){const n=r.children[dt]?Kt(r.children[dt],!1):"",o=[];return Object.entries(r.children).forEach(([l,e])=>{l!==dt&&o.push(`${l}:${Kt(e,!1)}`)}),o.length>0?`${n}(${o.join("//")})`:n}{const n=function ke(r,i){let n=[];return Object.entries(r.children).forEach(([o,l])=>{o===dt&&(n=n.concat(i(l,o)))}),Object.entries(r.children).forEach(([o,l])=>{o!==dt&&(n=n.concat(i(l,o)))}),n}(r,(o,l)=>l===dt?[Kt(r.children[dt],!1)]:[`${l}:${Kt(o,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[dt]?`${tt(r)}/${n[0]}`:`${tt(r)}/(${n.join("//")})`}}function _n(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ts(r){return _n(r).replace(/%3B/gi,";")}function Ss(r){return _n(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tn(r){return decodeURIComponent(r)}function Ii(r){return Tn(r.replace(/\+/g,"%20"))}function qn(r){return`${Ss(r.path)}${function ka(r){return Object.keys(r).map(i=>`;${Ss(i)}=${Ss(r[i])}`).join("")}(r.parameters)}`}const Fa=/^[^\/()?;#]+/;function no(r){const i=r.match(Fa);return i?i[0]:""}const cc=/^[^\/()?;=#]+/,yf=/^[^=?&#]+/,qr=/^[^&#]+/;class La{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new M([],{}):new M([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(o[dt]=new M(i,n)),o}parseSegment(){const i=no(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(i),new B(Tn(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const n=function xg(r){const i=r.match(cc);return i?i[0]:""}(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){const l=no(this.remaining);l&&(o=l,this.capture(o))}i[Tn(n)]=Tn(o)}parseQueryParam(i){const n=function Xv(r){const i=r.match(yf);return i?i[0]:""}(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){const t=function Ld(r){const i=r.match(qr);return i?i[0]:""}(this.remaining);t&&(o=t,this.capture(o))}const l=Ii(n),e=Ii(o);if(i.hasOwnProperty(l)){let t=i[l];Array.isArray(t)||(t=[t],i[l]=t),t.push(e)}else i[l]=e}parseParens(i){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=no(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new d.vHH(4010,!1);let e;o.indexOf(":")>-1?(e=o.slice(0,o.indexOf(":")),this.capture(e),this.capture(":")):i&&(e=dt);const t=this.parseChildren();n[e]=1===Object.keys(t).length?t[dt]:new M([],t),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new d.vHH(4011,!1)}}function kg(r){return r.segments.length>0?new M([],{[dt]:r}):r}function dc(r){const i={};for(const o of Object.keys(r.children)){const e=dc(r.children[o]);if(o===dt&&0===e.segments.length&&e.hasChildren())for(const[t,s]of Object.entries(e.children))i[t]=s;else(e.segments.length>0||e.hasChildren())&&(i[o]=e)}return function Fg(r){if(1===r.numberOfChildren&&r.children[dt]){const i=r.children[dt];return new M(r.segments.concat(i.segments),i.children)}return r}(new M(r.segments,i))}function Va(r){return r instanceof I}function h(r){let i;const l=kg(function n(e){const t={};for(const a of e.children){const u=n(a);t[a.outlet]=u}const s=new M(e.url,t);return e===r&&(i=s),s}(r.root));return i??l}function p(r,i,n,o){let l=r;for(;l.parent;)l=l.parent;if(0===i.length)return T(l,l,l,n,o);const e=function Se(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new X(!0,0,r);let i=0,n=!1;const o=r.reduce((l,e,t)=>{if("object"==typeof e&&null!=e){if(e.outlets){const s={};return Object.entries(e.outlets).forEach(([a,u])=>{s[a]="string"==typeof u?u.split("/"):u}),[...l,{outlets:s}]}if(e.segmentPath)return[...l,e.segmentPath]}return"string"!=typeof e?[...l,e]:0===t?(e.split("/").forEach((s,a)=>{0==a&&"."===s||(0==a&&""===s?n=!0:".."===s?i++:""!=s&&l.push(s))}),l):[...l,e]},[]);return new X(n,i,o)}(i);if(e.toRoot())return T(l,l,new M([],{}),n,o);const t=function We(r,i,n){if(r.isAbsolute)return new Pe(i,!0,0);if(!n)return new Pe(i,!1,NaN);if(null===n.parent)return new Pe(n,!0,0);const o=y(r.commands[0])?0:1;return function yt(r,i,n){let o=r,l=i,e=n;for(;e>l;){if(e-=l,o=o.parent,!o)throw new d.vHH(4005,!1);l=o.segments.length}return new Pe(o,!1,l-e)}(n,n.segments.length-1+o,r.numberOfDoubleDots)}(e,l,r),s=t.processChildren?As(t.segmentGroup,t.index,e.commands):li(t.segmentGroup,t.index,e.commands);return T(l,t.segmentGroup,s,n,o)}function y(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function D(r){return"object"==typeof r&&null!=r&&r.outlets}function T(r,i,n,o,l){let t,e={};o&&Object.entries(o).forEach(([a,u])=>{e[a]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),t=r===i?n:H(r,i,n);const s=kg(dc(t));return new I(s,e,l)}function H(r,i,n){const o={};return Object.entries(r.children).forEach(([l,e])=>{o[l]=e===i?n:H(e,i,n)}),new M(r.segments,o)}class X{constructor(i,n,o){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=o,i&&o.length>0&&y(o[0]))throw new d.vHH(4003,!1);const l=o.find(D);if(l&&l!==Ut(o))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pe{constructor(i,n,o){this.segmentGroup=i,this.processChildren=n,this.index=o}}function li(r,i,n){if(r||(r=new M([],{})),0===r.segments.length&&r.hasChildren())return As(r,i,n);const o=function Ef(r,i,n){let o=0,l=i;const e={match:!1,pathIndex:0,commandIndex:0};for(;l<r.segments.length;){if(o>=n.length)return e;const t=r.segments[l],s=n[o];if(D(s))break;const a=`${s}`,u=o<n.length-1?n[o+1]:null;if(l>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!hc(a,u,t))return e;o+=2}else{if(!hc(a,{},t))return e;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(r,i,n),l=n.slice(o.commandIndex);if(o.match&&o.pathIndex<r.segments.length){const e=new M(r.segments.slice(0,o.pathIndex),{});return e.children[dt]=new M(r.segments.slice(o.pathIndex),r.children),As(e,0,l)}return o.match&&0===l.length?new M(r.segments,{}):o.match&&!r.hasChildren()?ql(r,i,n):o.match?As(r,0,l):ql(r,i,n)}function As(r,i,n){if(0===n.length)return new M(r.segments,{});{const o=function gr(r){return D(r[0])?r[0].outlets:{[dt]:r}}(n),l={};if(Object.keys(o).some(e=>e!==dt)&&r.children[dt]&&1===r.numberOfChildren&&0===r.children[dt].segments.length){const e=As(r.children[dt],i,n);return new M(r.segments,e.children)}return Object.entries(o).forEach(([e,t])=>{"string"==typeof t&&(t=[t]),null!==t&&(l[e]=li(r.children[e],i,t))}),Object.entries(r.children).forEach(([e,t])=>{void 0===o[e]&&(l[e]=t)}),new M(r.segments,l)}}function ql(r,i,n){const o=r.segments.slice(0,i);let l=0;for(;l<n.length;){const e=n[l];if(D(e)){const a=$o(e.outlets);return new M(o,a)}if(0===l&&y(n[0])){o.push(new B(r.segments[i].path,Go(n[0]))),l++;continue}const t=D(e)?e.outlets[dt]:`${e}`,s=l<n.length-1?n[l+1]:null;t&&s&&y(s)?(o.push(new B(t,Go(s))),l+=2):(o.push(new B(t,{})),l++)}return new M(o,{})}function $o(r){const i={};return Object.entries(r).forEach(([n,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[n]=ql(new M([],{}),0,o))}),i}function Go(r){const i={};return Object.entries(r).forEach(([n,o])=>i[n]=`${o}`),i}function hc(r,i,n){return r==n.path&&rr(i,n.parameters)}const Yl="imperative";class ui{constructor(i,n){this.id=i,this.url=n}}class Ua extends ui{constructor(i,n,o="imperative",l=null){super(i,n),this.type=0,this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ro extends ui{constructor(i,n,o){super(i,n),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ql extends ui{constructor(i,n,o,l){super(i,n),this.reason=o,this.code=l,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class io extends ui{constructor(i,n,o,l){super(i,n),this.reason=o,this.code=l,this.type=16}}class fc extends ui{constructor(i,n,o,l){super(i,n),this.error=o,this.target=l,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vd extends ui{constructor(i,n,o,l){super(i,n),this.urlAfterRedirects=o,this.state=l,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ey extends ui{constructor(i,n,o,l){super(i,n),this.urlAfterRedirects=o,this.state=l,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cD extends ui{constructor(i,n,o,l,e){super(i,n),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=e,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ty extends ui{constructor(i,n,o,l){super(i,n),this.urlAfterRedirects=o,this.state=l,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dT extends ui{constructor(i,n,o,l){super(i,n),this.urlAfterRedirects=o,this.state=l,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ny{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hT{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dD{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hD{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lg{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fT{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fD{constructor(i,n,o){this.routerEvent=i,this.position=n,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ud{}class ry{constructor(i){this.url=i}}class pT{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cf,this.attachRef=null}}let Cf=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const l=this.getOrCreateContext(n);l.outlet=o,this.contexts.set(n,l)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new pT,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class pD{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){const n=Vg(i,this._root);return n?n.children.map(o=>o.value):[]}firstChild(i){const n=Vg(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){const n=pc(i,this._root);return n.length<2?[]:n[n.length-2].children.map(l=>l.value).filter(l=>l!==i)}pathFromRoot(i){return pc(i,this._root).map(n=>n.value)}}function Vg(r,i){if(r===i.value)return i;for(const n of i.children){const o=Vg(r,n);if(o)return o}return null}function pc(r,i){if(r===i.value)return[i];for(const n of i.children){const o=pc(r,n);if(o.length)return o.unshift(i),o}return[]}class Zi{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}}function Jl(r){const i={};return r&&r.children.forEach(n=>i[n.value.outlet]=n),i}class Ug extends pD{constructor(i,n){super(i),this.snapshot=n,Hg(this,i)}toString(){return this.snapshot.toString()}}function Bg(r,i){const n=function gc(r,i){const t=new eu([],{},{},"",{},dt,i,null,{});return new Bd("",new Zi(t,[]))}(0,i),o=new Vn.X([new B("",{})]),l=new Vn.X({}),e=new Vn.X({}),t=new Vn.X({}),s=new Vn.X(""),a=new Xl(o,l,t,s,e,dt,i,n.root);return a.snapshot=n.root,new Ug(new Zi(a,[]),n)}class Xl{constructor(i,n,o,l,e,t,s,a){this.urlSubject=i,this.paramsSubject=n,this.queryParamsSubject=o,this.fragmentSubject=l,this.dataSubject=e,this.outlet=t,this.component=s,this._futureSnapshot=a,this.title=this.dataSubject?.pipe((0,at.U)(u=>u[Ds]))??(0,qe.of)(void 0),this.url=i,this.params=n,this.queryParams=o,this.fragment=l,this.data=e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.U)(i=>Gi(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.U)(i=>Gi(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jg(r,i="emptyOnly"){const n=r.pathFromRoot;let o=0;if("always"!==i)for(o=n.length-1;o>=1;){const l=n[o],e=n[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(e.component)break;o--}}return function If(r){return r.reduce((i,n)=>({params:{...i.params,...n.params},data:{...i.data,...n.data},resolve:{...n.data,...i.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(o))}class eu{get title(){return this.data?.[Ds]}constructor(i,n,o,l,e,t,s,a,u){this.url=i,this.params=n,this.queryParams=o,this.fragment=l,this.data=e,this.outlet=t,this.component=s,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bd extends pD{constructor(i,n){super(n),this.url=i,Hg(this,n)}toString(){return iy(this._root)}}function Hg(r,i){i.value._routerState=r,i.children.forEach(n=>Hg(r,n))}function iy(r){const i=r.children.length>0?` { ${r.children.map(iy).join(", ")} } `:"";return`${r.value}${i}`}function $g(r){if(r.snapshot){const i=r.snapshot,n=r._futureSnapshot;r.snapshot=n,rr(i.queryParams,n.queryParams)||r.queryParamsSubject.next(n.queryParams),i.fragment!==n.fragment&&r.fragmentSubject.next(n.fragment),rr(i.params,n.params)||r.paramsSubject.next(n.params),function zl(r,i){if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(!rr(r[n],i[n]))return!1;return!0}(i.url,n.url)||r.urlSubject.next(n.url),rr(i.data,n.data)||r.dataSubject.next(n.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Df(r,i){const n=rr(r.params,i.params)&&function G(r,i){return te(r,i)&&r.every((n,o)=>rr(n.parameters,i[o].parameters))}(r.url,i.url);return n&&!(!r.parent!=!i.parent)&&(!r.parent||Df(r.parent,i.parent))}let wf=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=dt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Cf),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(bf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:l}=n.name;if(o)return;this.isTrackedInParentContexts(l)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(l)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=n;const l=this.location,t=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,a=new gD(n,s,l.injector);this.activated=l.createComponent(t,{index:l.length,injector:a,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275dir=d.lG2({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]})}return r})();class gD{constructor(i,n,o){this.route=i,this.childContexts=n,this.parent=o}get(i,n){return i===Xl?this.route:i===Cf?this.childContexts:this.parent.get(i,n)}}const bf=new d.OlP("");let sy=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,l=Fo([o.queryParams,o.params,o.data]).pipe((0,mn.w)(([e,t,s],a)=>(s={...e,...t,...s},0===a?(0,qe.of)(s):Promise.resolve(s)))).subscribe(e=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const t=(0,d.qFp)(o.component);if(t)for(const{templateName:s}of t.inputs)n.activatedComponentRef.setInput(s,e[s]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,l)}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})();function jd(r,i,n){if(n&&r.shouldReuseRoute(i.value,n.value.snapshot)){const o=n.value;o._futureSnapshot=i.value;const l=function mD(r,i,n){return i.children.map(o=>{for(const l of n.children)if(r.shouldReuseRoute(o.value,l.value.snapshot))return jd(r,o,l);return jd(r,o)})}(r,i,n);return new Zi(o,l)}{if(r.shouldAttach(i.value)){const e=r.retrieve(i.value);if(null!==e){const t=e.route;return t.value._futureSnapshot=i.value,t.children=i.children.map(s=>jd(r,s)),t}}const o=function ci(r){return new Xl(new Vn.X(r.url),new Vn.X(r.params),new Vn.X(r.queryParams),new Vn.X(r.fragment),new Vn.X(r.data),r.outlet,r.component,r)}(i.value),l=i.children.map(e=>jd(r,e));return new Zi(o,l)}}const Hd="ngNavigationCancelingError";function Gg(r,i){const{redirectTo:n,navigationBehaviorOptions:o}=Va(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,l=Tf(!1,0,i);return l.url=n,l.navigationBehaviorOptions=o,l}function Tf(r,i,n){const o=new Error("NavigationCancelingError: "+(r||""));return o[Hd]=!0,o.cancellationCode=i,n&&(o.url=n),o}function mc(r){return r&&r[Hd]}let Wg=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275cmp=d.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(o,l){1&o&&d._UZ(0,"router-outlet")},dependencies:[wf],encapsulation:2})}return r})();function $d(r){const i=r.children&&r.children.map($d),n=i?{...r,children:i}:{...r};return!n.component&&!n.loadComponent&&(i||n.loadChildren)&&n.outlet&&n.outlet!==dt&&(n.component=Wg),n}function Di(r){return r.outlet||dt}function Wo(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ly{constructor(i,n,o,l,e){this.routeReuseStrategy=i,this.futureState=n,this.currState=o,this.forwardEvent=l,this.inputBindingEnabled=e}activate(i){const n=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,o,i),$g(this.futureState.root),this.activateChildRoutes(n,o,i)}deactivateChildRoutes(i,n,o){const l=Jl(n);i.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,l[t],o),delete l[t]}),Object.values(l).forEach(e=>{this.deactivateRouteAndItsChildren(e,o)})}deactivateRoutes(i,n,o){const l=i.value,e=n?n.value:null;if(l===e)if(l.component){const t=o.getContext(l.outlet);t&&this.deactivateChildRoutes(i,n,t.children)}else this.deactivateChildRoutes(i,n,o);else e&&this.deactivateRouteAndItsChildren(n,o)}deactivateRouteAndItsChildren(i,n){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){const o=n.getContext(i.value.outlet),l=o&&i.value.component?o.children:n,e=Jl(i);for(const t of Object.keys(e))this.deactivateRouteAndItsChildren(e[t],l);if(o&&o.outlet){const t=o.outlet.detach(),s=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:t,route:i,contexts:s})}}deactivateRouteAndOutlet(i,n){const o=n.getContext(i.value.outlet),l=o&&i.value.component?o.children:n,e=Jl(i);for(const t of Object.keys(e))this.deactivateRouteAndItsChildren(e[t],l);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(i,n,o){const l=Jl(n);i.children.forEach(e=>{this.activateRoutes(e,l[e.value.outlet],o),this.forwardEvent(new fT(e.value.snapshot))}),i.children.length&&this.forwardEvent(new hD(i.value.snapshot))}activateRoutes(i,n,o){const l=i.value,e=n?n.value:null;if($g(l),l===e)if(l.component){const t=o.getOrCreateContext(l.outlet);this.activateChildRoutes(i,n,t.children)}else this.activateChildRoutes(i,n,o);else if(l.component){const t=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const s=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),t.children.onOutletReAttached(s.contexts),t.attachRef=s.componentRef,t.route=s.route.value,t.outlet&&t.outlet.attach(s.componentRef,s.route.value),$g(s.route.value),this.activateChildRoutes(i,null,t.children)}else{const s=Wo(l.snapshot);t.attachRef=null,t.route=l,t.injector=s,t.outlet&&t.outlet.activateWith(l,t.injector),this.activateChildRoutes(i,null,t.children)}}else this.activateChildRoutes(i,null,o)}}class zg{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Gd{constructor(i,n){this.component=i,this.route=n}}function _c(r,i,n){const o=r._root;return nu(o,i?i._root:null,n,[o.value])}function tu(r,i){const n=Symbol(),o=i.get(r,n);return o===n?"function"!=typeof r||(0,d.Z0I)(r)?i.get(r):r:o}function nu(r,i,n,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const e=Jl(i);return r.children.forEach(t=>{(function Af(r,i,n,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const e=r.value,t=i?i.value:null,s=n?n.getContext(r.value.outlet):null;if(t&&e.routeConfig===t.routeConfig){const a=function bD(r,i,n){if("function"==typeof n)return n(r,i);switch(n){case"pathParamsChange":return!te(r.url,i.url);case"pathParamsOrQueryParamsChange":return!te(r.url,i.url)||!rr(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Df(r,i)||!rr(r.queryParams,i.queryParams);default:return!Df(r,i)}}(t,e,e.routeConfig.runGuardsAndResolvers);a?l.canActivateChecks.push(new zg(o)):(e.data=t.data,e._resolvedData=t._resolvedData),nu(r,i,e.component?s?s.children:null:n,o,l),a&&s&&s.outlet&&s.outlet.isActivated&&l.canDeactivateChecks.push(new Gd(s.outlet.component,t))}else t&&Wd(i,s,l),l.canActivateChecks.push(new zg(o)),nu(r,null,e.component?s?s.children:null:n,o,l)})(t,e[t.value.outlet],n,o.concat([t.value]),l),delete e[t.value.outlet]}),Object.entries(e).forEach(([t,s])=>Wd(s,n.getContext(t),l)),l}function Wd(r,i,n){const o=Jl(r),l=r.value;Object.entries(o).forEach(([e,t])=>{Wd(t,l.component?i?i.children.getContext(e):null:i,n)}),n.canDeactivateChecks.push(new Gd(l.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,l))}function zd(r){return"function"==typeof r}function dy(r){return r instanceof Es||"EmptyError"===r?.name}const vc=Symbol("INITIAL_VALUE");function ru(){return(0,mn.w)(r=>Fo(r.map(i=>i.pipe(oi(1),function Gl(...r){const i=(0,Kr.yG)(r);return(0,dr.e)((n,o)=>{(i?Ys(r,n,i):Ys(r,n)).subscribe(o)})}(vc)))).pipe((0,at.U)(i=>{for(const n of i)if(!0!==n){if(n===vc)return vc;if(!1===n||n instanceof I)return n}return!0}),fr(i=>i!==vc),oi(1)))}function Kg(r){return(0,Na.z)((0,ln.b)(i=>{if(Va(i))throw Gg(0,i)}),(0,at.U)(i=>!0===i))}class Zd{constructor(i){this.segmentGroup=i||null}}class Kd{constructor(i){this.urlTree=i}}function so(r){return Uo(new Zd(r))}function Yg(r){return Uo(new Kd(r))}class my{constructor(i,n){this.urlSerializer=i,this.urlTree=n}noMatchError(i){return new d.vHH(4002,!1)}lineralizeSegments(i,n){let o=[],l=n.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return(0,qe.of)(o);if(l.numberOfChildren>1||!l.children[dt])return Uo(new d.vHH(4e3,!1));l=l.children[dt]}}applyRedirectCommands(i,n,o){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),i,o)}applyRedirectCreateUrlTree(i,n,o,l){const e=this.createSegmentGroup(i,n.root,o,l);return new I(e,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){const o={};return Object.entries(i).forEach(([l,e])=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);o[l]=n[s]}else o[l]=e}),o}createSegmentGroup(i,n,o,l){const e=this.createSegments(i,n.segments,o,l);let t={};return Object.entries(n.children).forEach(([s,a])=>{t[s]=this.createSegmentGroup(i,a,o,l)}),new M(e,t)}createSegments(i,n,o,l){return n.map(e=>e.path.startsWith(":")?this.findPosParam(i,e,l):this.findOrReturn(e,o))}findPosParam(i,n,o){const l=o[n.path.substring(1)];if(!l)throw new d.vHH(4001,!1);return l}findOrReturn(i,n){let o=0;for(const l of n){if(l.path===i.path)return n.splice(o),l;o++}return i}}const qd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yd(r,i,n,o,l){const e=Jg(r,i,n);return e.matched?(o=function ay(r,i){return r.providers&&!r._injector&&(r._injector=(0,d.MMx)(r.providers,i,`Route: ${r.path}`)),r._injector??i}(i,o),function qg(r,i,n,o){const l=i.canMatch;if(!l||0===l.length)return(0,qe.of)(!0);const e=l.map(t=>{const s=tu(t,r);return Wi(function Zg(r){return r&&zd(r.canMatch)}(s)?s.canMatch(i,n):r.runInContext(()=>s(i,n)))});return(0,qe.of)(e).pipe(ru(),Kg())}(o,i,n).pipe((0,at.U)(t=>!0===t?e:{...qd}))):(0,qe.of)(e)}function Jg(r,i,n){if(""===i.path)return"full"===i.pathMatch&&(r.hasChildren()||n.length>0)?{...qd}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const l=(i.matcher||bs)(n,r,i);if(!l)return{...qd};const e={};Object.entries(l.posParams??{}).forEach(([s,a])=>{e[s]=a.path});const t=l.consumed.length>0?{...e,...l.consumed[l.consumed.length-1].parameters}:e;return{matched:!0,consumedSegments:l.consumed,remainingSegments:n.slice(l.consumed.length),parameters:t,positionalParamSegments:l.posParams??{}}}function Xg(r,i,n,o){return n.length>0&&function xD(r,i,n){return n.some(o=>Qd(r,i,o)&&Di(o)!==dt)}(r,n,o)?{segmentGroup:new M(i,PD(o,new M(n,r.children))),slicedSegments:[]}:0===n.length&&function _y(r,i,n){return n.some(o=>Qd(r,i,o))}(r,n,o)?{segmentGroup:new M(r.segments,OD(r,0,n,o,r.children)),slicedSegments:n}:{segmentGroup:new M(r.segments,r.children),slicedSegments:n}}function OD(r,i,n,o,l){const e={};for(const t of o)if(Qd(r,n,t)&&!l[Di(t)]){const s=new M([],{});e[Di(t)]=s}return{...l,...e}}function PD(r,i){const n={};n[dt]=i;for(const o of r)if(""===o.path&&Di(o)!==dt){const l=new M([],{});n[Di(o)]=l}return n}function Qd(r,i,n){return(!(r.hasChildren()||i.length>0)||"full"!==n.pathMatch)&&""===n.path}class kD{constructor(i,n,o,l,e,t,s){this.injector=i,this.configLoader=n,this.rootComponentType=o,this.config=l,this.urlTree=e,this.paramsInheritanceStrategy=t,this.urlSerializer=s,this.allowRedirects=!0,this.applyRedirects=new my(this.urlSerializer,this.urlTree)}noMatchError(i){return new d.vHH(4002,!1)}recognize(){const i=Xg(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,dt).pipe(ai(n=>{if(n instanceof Kd)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Zd?this.noMatchError(n):n}),(0,at.U)(n=>{const o=new eu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dt,this.rootComponentType,null,{}),l=new Zi(o,n),e=new Bd("",l),t=function m(r,i,n=null,o=null){return p(h(r),i,n,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return t.queryParams=this.urlTree.queryParams,e.url=this.urlSerializer.serialize(t),this.inheritParamsAndData(e._root),{state:e,tree:t}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i.root,dt).pipe(ai(o=>{throw o instanceof Zd?this.noMatchError(o):o}))}inheritParamsAndData(i){const n=i.value,o=jg(n,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),i.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(i,n,o,l){return 0===o.segments.length&&o.hasChildren()?this.processChildren(i,n,o):this.processSegment(i,n,o,o.segments,l,!0)}processChildren(i,n,o){const l=[];for(const e of Object.keys(o.children))"primary"===e?l.unshift(e):l.push(e);return(0,an.D)(l).pipe(Is(e=>{const t=o.children[e],s=function DD(r,i){const n=r.filter(o=>Di(o)===i);return n.push(...r.filter(o=>Di(o)!==i)),n}(n,e);return this.processSegmentGroup(i,s,t,e)}),Hi((e,t)=>(e.push(...t),e)),jo(null),function Pa(r,i){const n=arguments.length>=2;return o=>o.pipe(r?fr((l,e)=>r(l,e,o)):ys.y,$i(1),n?jo(i):Oa(()=>new Es))}(),(0,pr.z)(e=>{if(null===e)return so(o);const t=vy(e);return function FD(r){r.sort((i,n)=>i.value.outlet===dt?-1:n.value.outlet===dt?1:i.value.outlet.localeCompare(n.value.outlet))}(t),(0,qe.of)(t)}))}processSegment(i,n,o,l,e,t){return(0,an.D)(n).pipe(Is(s=>this.processSegmentAgainstRoute(s._injector??i,n,s,o,l,e,t).pipe(ai(a=>{if(a instanceof Zd)return(0,qe.of)(null);throw a}))),bn(s=>!!s),ai(s=>{if(dy(s))return function em(r,i,n){return 0===i.length&&!r.children[n]}(o,l,e)?(0,qe.of)([]):so(o);throw s}))}processSegmentAgainstRoute(i,n,o,l,e,t,s){return function Of(r,i,n,o){return!!(Di(r)===o||o!==dt&&Qd(i,n,r))&&("**"===r.path||Jg(i,r,n).matched)}(o,l,e,t)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,l,o,e,t,s):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,l,n,o,e,t):so(l):so(l)}expandSegmentAgainstRouteUsingRedirect(i,n,o,l,e,t){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,l,t):this.expandRegularSegmentAgainstRouteUsingRedirect(i,n,o,l,e,t)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,o,l){const e=this.applyRedirects.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Yg(e):this.applyRedirects.lineralizeSegments(o,e).pipe((0,pr.z)(t=>{const s=new M(t,{});return this.processSegment(i,n,s,t,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,n,o,l,e,t){const{matched:s,consumedSegments:a,remainingSegments:u,positionalParamSegments:c}=Jg(n,l,e);if(!s)return so(n);const f=this.applyRedirects.applyRedirectCommands(a,l.redirectTo,c);return l.redirectTo.startsWith("/")?Yg(f):this.applyRedirects.lineralizeSegments(l,f).pipe((0,pr.z)(g=>this.processSegment(i,o,n,g.concat(u),t,!1)))}matchSegmentAgainstRoute(i,n,o,l,e,t){let s;if("**"===o.path){const a=l.length>0?Ut(l).parameters:{},u=new eu(l,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ey(o),Di(o),o.component??o._loadedComponent??null,o,su(o));s=(0,qe.of)({snapshot:u,consumedSegments:[],remainingSegments:[]}),n.children={}}else s=Yd(n,o,l,i).pipe((0,at.U)(({matched:a,consumedSegments:u,remainingSegments:c,parameters:f})=>a?{snapshot:new eu(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ey(o),Di(o),o.component??o._loadedComponent??null,o,su(o)),consumedSegments:u,remainingSegments:c}:null));return s.pipe((0,mn.w)(a=>null===a?so(n):this.getChildConfig(i=o._injector??i,o,l).pipe((0,mn.w)(({routes:u})=>{const c=o._loadedInjector??i,{snapshot:f,consumedSegments:g,remainingSegments:_}=a,{segmentGroup:C,slicedSegments:w}=Xg(n,g,_,u);if(0===w.length&&C.hasChildren())return this.processChildren(c,u,C).pipe((0,at.U)(L=>null===L?null:[new Zi(f,L)]));if(0===u.length&&0===w.length)return(0,qe.of)([new Zi(f,[])]);const O=Di(o)===e;return this.processSegment(c,u,C,w,O?dt:e,!0).pipe((0,at.U)(L=>[new Zi(f,L)]))}))))}getChildConfig(i,n,o){return n.children?(0,qe.of)({routes:n.children,injector:i}):n.loadChildren?void 0!==n._loadedRoutes?(0,qe.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function gy(r,i,n,o){const l=i.canLoad;if(void 0===l||0===l.length)return(0,qe.of)(!0);const e=l.map(t=>{const s=tu(t,r);return Wi(function SD(r){return r&&zd(r.canLoad)}(s)?s.canLoad(i,n):r.runInContext(()=>s(i,n)))});return(0,qe.of)(e).pipe(ru(),Kg())}(i,n,o).pipe((0,pr.z)(l=>l?this.configLoader.loadChildren(i,n).pipe((0,ln.b)(e=>{n._loadedRoutes=e.routes,n._loadedInjector=e.injector})):function Nf(r){return Uo(Tf(!1,3))}())):(0,qe.of)({routes:[],injector:i})}}function yT(r){const i=r.value.routeConfig;return i&&""===i.path}function vy(r){const i=[],n=new Set;for(const o of r){if(!yT(o)){i.push(o);continue}const l=i.find(e=>o.value.routeConfig===e.value.routeConfig);void 0!==l?(l.children.push(...o.children),n.add(l)):i.push(o)}for(const o of n){const l=vy(o.children);i.push(new Zi(o.value,l))}return i.filter(o=>!n.has(o))}function Ey(r){return r.data||{}}function su(r){return r.resolve||{}}function by(r){return"string"==typeof r.title||null===r.title}function nm(r){return(0,mn.w)(i=>{const n=r(i);return n?(0,an.D)(n).pipe((0,at.U)(()=>i)):(0,qe.of)(i)})}const Ec=new d.OlP("ROUTES");let rm=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return(0,qe.of)(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=Wi(n.loadComponent()).pipe((0,at.U)(Cc),(0,ln.b)(e=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=e}),Js(()=>{this.componentLoaders.delete(n)})),l=new Bo(o,()=>new hr.x).pipe(lc());return this.componentLoaders.set(n,l),l}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return(0,qe.of)({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const e=function LD(r,i,n,o){return Wi(r.loadChildren()).pipe((0,at.U)(Cc),(0,pr.z)(l=>l instanceof d.YKP||Array.isArray(l)?(0,qe.of)(l):(0,an.D)(i.compileModuleAsync(l))),(0,at.U)(l=>{o&&o(r);let e,t,s=!1;return Array.isArray(l)?(t=l,!0):(e=l.create(n).injector,t=e.get(Ec,[],{optional:!0,self:!0}).flat()),{routes:t.map($d),injector:e}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(Js(()=>{this.childrenLoaders.delete(o)})),t=new Bo(e,()=>new hr.x).pipe(lc());return this.childrenLoaders.set(o,t),t}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Cc(r){return function Ba(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let xf=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new hr.x,this.transitionAbortSubject=new hr.x,this.configLoader=(0,d.f3M)(rm),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Ae),this.rootContexts=(0,d.f3M)(Cf),this.inputBindingEnabled=null!==(0,d.f3M)(bf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,qe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=l=>this.events.next(new hT(l)),this.configLoader.onLoadStartListener=l=>this.events.next(new ny(l))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,l){return this.transitions=new Vn.X({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:n.urlHandlingStrategy.extract(o),urlAfterRedirects:n.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Yl,restoredState:null,currentSnapshot:l.snapshot,targetSnapshot:null,currentRouterState:l,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fr(e=>0!==e.id),(0,at.U)(e=>({...e,extractedUrl:n.urlHandlingStrategy.extract(e.rawUrl)})),(0,mn.w)(e=>{this.currentTransition=e;let t=!1,s=!1;return(0,qe.of)(e).pipe((0,ln.b)(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mn.w)(a=>{const u=a.currentBrowserUrl.toString(),c=!n.navigated||a.extractedUrl.toString()!==u||u!==a.currentUrlTree.toString();if(!c&&"reload"!==(a.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new io(a.id,this.urlSerializer.serialize(a.rawUrl),g,0)),a.resolve(null),Cs.E}if(n.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return(0,qe.of)(a).pipe((0,mn.w)(g=>{const _=this.transitions?.getValue();return this.events.next(new Ua(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Cs.E:Promise.resolve(g)}),function Pf(r,i,n,o,l,e){return(0,pr.z)(t=>function yc(r,i,n,o,l,e,t="emptyOnly"){return new kD(r,i,n,o,l,t,e).recognize()}(r,i,n,o,t.extractedUrl,l,e).pipe((0,at.U)(({state:s,tree:a})=>({...t,targetSnapshot:s,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),(0,ln.b)(g=>{e.targetSnapshot=g.targetSnapshot,e.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const _=new Vd(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){const{id:g,extractedUrl:_,source:C,restoredState:w,extras:O}=a,L=new Ua(g,this.urlSerializer.serialize(_),C,w);this.events.next(L);const j=Bg(0,this.rootComponentType).snapshot;return this.currentTransition=e={...a,targetSnapshot:j,urlAfterRedirects:_,extras:{...O,skipLocationChange:!1,replaceUrl:!1}},(0,qe.of)(e)}{const g="";return this.events.next(new io(a.id,this.urlSerializer.serialize(a.extractedUrl),g,1)),a.resolve(null),Cs.E}}),(0,ln.b)(a=>{const u=new ey(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),(0,at.U)(a=>(this.currentTransition=e={...a,guards:_c(a.targetSnapshot,a.currentSnapshot,this.rootContexts)},e)),function iu(r,i){return(0,pr.z)(n=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:e,canDeactivateChecks:t}}=n;return 0===t.length&&0===e.length?(0,qe.of)({...n,guardsResult:!0}):function hy(r,i,n,o){return(0,an.D)(r).pipe((0,pr.z)(l=>function py(r,i,n,o,l){const e=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!e||0===e.length)return(0,qe.of)(!0);const t=e.map(s=>{const a=Wo(i)??l,u=tu(s,a);return Wi(function Mf(r){return r&&zd(r.canDeactivate)}(u)?u.canDeactivate(r,i,n,o):a.runInContext(()=>u(r,i,n,o))).pipe(bn())});return(0,qe.of)(t).pipe(ru())}(l.component,l.route,n,i,o)),bn(l=>!0!==l,!0))}(t,o,l,r).pipe((0,pr.z)(s=>s&&function TD(r){return"boolean"==typeof r}(s)?function fy(r,i,n,o){return(0,an.D)(i).pipe(Is(l=>Ys(function vT(r,i){return null!==r&&i&&i(new dD(r)),(0,qe.of)(!0)}(l.route.parent,o),function RD(r,i){return null!==r&&i&&i(new Lg(r)),(0,qe.of)(!0)}(l.route,o),function ND(r,i,n){const o=i[i.length-1],e=i.slice(0,i.length-1).reverse().map(t=>function Sf(r){const i=r.routeConfig?r.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:r,guards:i}:null}(t)).filter(t=>null!==t).map(t=>Vo(()=>{const s=t.guards.map(a=>{const u=Wo(t.node)??n,c=tu(a,u);return Wi(function uy(r){return r&&zd(r.canActivateChild)}(c)?c.canActivateChild(o,r):u.runInContext(()=>c(o,r))).pipe(bn())});return(0,qe.of)(s).pipe(ru())}));return(0,qe.of)(e).pipe(ru())}(r,l.path,n),function Rf(r,i,n){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return(0,qe.of)(!0);const l=o.map(e=>Vo(()=>{const t=Wo(i)??n,s=tu(e,t);return Wi(function AD(r){return r&&zd(r.canActivate)}(s)?s.canActivate(i,r):t.runInContext(()=>s(i,r))).pipe(bn())}));return(0,qe.of)(l).pipe(ru())}(r,l.route,n))),bn(l=>!0!==l,!0))}(o,e,r,i):(0,qe.of)(s)),(0,at.U)(s=>({...n,guardsResult:s})))})}(this.environmentInjector,a=>this.events.next(a)),(0,ln.b)(a=>{if(e.guardsResult=a.guardsResult,Va(a.guardsResult))throw Gg(0,a.guardsResult);const u=new cD(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),fr(a=>!!a.guardsResult||(this.cancelNavigationTransition(a,"",3),!1)),nm(a=>{if(a.guards.canActivateChecks.length)return(0,qe.of)(a).pipe((0,ln.b)(u=>{const c=new ty(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),(0,mn.w)(u=>{let c=!1;return(0,qe.of)(u).pipe(function tm(r,i){return(0,pr.z)(n=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=n;if(!l.length)return(0,qe.of)(n);let e=0;return(0,an.D)(l).pipe(Is(t=>function Cy(r,i,n,o){const l=r.routeConfig,e=r._resolve;return void 0!==l?.title&&!by(l)&&(e[Ds]=l.title),function Iy(r,i,n,o){const l=function Dy(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===l.length)return(0,qe.of)({});const e={};return(0,an.D)(l).pipe((0,pr.z)(t=>function wy(r,i,n,o){const l=Wo(i)??o,e=tu(r,l);return Wi(e.resolve?e.resolve(i,n):l.runInContext(()=>e(i,n)))}(r[t],i,n,o).pipe(bn(),(0,ln.b)(s=>{e[t]=s}))),$i(1),function Ho(r){return(0,at.U)(()=>r)}(e),ai(t=>dy(t)?Cs.E:Uo(t)))}(e,r,i,o).pipe((0,at.U)(t=>(r._resolvedData=t,r.data=jg(r,n).resolve,l&&by(l)&&(r.data[Ds]=l.title),null)))}(t.route,o,r,i)),(0,ln.b)(()=>e++),$i(1),(0,pr.z)(t=>e===l.length?(0,qe.of)(n):Cs.E))})}(n.paramsInheritanceStrategy,this.environmentInjector),(0,ln.b)({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),(0,ln.b)(u=>{const c=new dT(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),nm(a=>{const u=c=>{const f=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(c.routeConfig).pipe((0,ln.b)(g=>{c.component=g}),(0,at.U)(()=>{})));for(const g of c.children)f.push(...u(g));return f};return Fo(u(a.targetSnapshot.root)).pipe(jo(),oi(1))}),nm(()=>this.afterPreactivation()),(0,at.U)(a=>{const u=function oy(r,i,n){const o=jd(r,i._root,n?n._root:void 0);return new Ug(o,i)}(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=e={...a,targetRouterState:u},e}),(0,ln.b)(()=>{this.events.next(new Ud)}),((r,i,n,o)=>(0,at.U)(l=>(new ly(i,l.targetRouterState,l.currentRouterState,n,o).activate(r),l)))(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),oi(1),(0,ln.b)({next:a=>{t=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ro(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),n.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{t=!0}}),function Wl(r){return(0,dr.e)((i,n)=>{(0,Ra.Xf)(r).subscribe((0,Gt.x)(n,()=>n.complete(),Xs.Z)),!n.closed&&i.subscribe(n)})}(this.transitionAbortSubject.pipe((0,ln.b)(a=>{throw a}))),Js(()=>{t||s||this.cancelNavigationTransition(e,"",1),this.currentNavigation?.id===e.id&&(this.currentNavigation=null)}),ai(a=>{if(s=!0,mc(a))this.events.next(new Ql(e.id,this.urlSerializer.serialize(e.extractedUrl),a.message,a.cancellationCode)),function xr(r){return mc(r)&&Va(r.url)}(a)?this.events.next(new ry(a.url)):e.resolve(!1);else{this.events.next(new fc(e.id,this.urlSerializer.serialize(e.extractedUrl),a,e.targetSnapshot??void 0));try{e.resolve(n.errorHandler(a))}catch(u){e.reject(u)}}return Cs.E}))}))}cancelNavigationTransition(n,o,l){const e=new Ql(n.id,this.urlSerializer.serialize(n.extractedUrl),o,l);this.events.next(e),n.resolve(!1)}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function VD(r){return r!==Yl}let UD=(()=>{class r{buildTitle(n){let o,l=n.root;for(;void 0!==l;)o=this.getResolvedTitleForRoute(l)??o,l=l.children.find(e=>e.outlet===dt);return o}getResolvedTitleForRoute(n){return n.data[Ds]}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(ET)},providedIn:"root"})}return r})(),ET=(()=>{class r extends UD{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(ge))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),CT=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(Ty)},providedIn:"root"})}return r})();class IT{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}}let Ty=(()=>{class r extends IT{static#e=this.\u0275fac=function(){let n;return function(l){return(n||(n=d.n5z(r)))(l||r)}}();static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const kf=new d.OlP("",{providedIn:"root",factory:()=>({})});let BD=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:function(){return(0,d.f3M)(jD)},providedIn:"root"})}return r})(),jD=(()=>{class r{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Jd=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Jd||{});function Ff(r,i){r.events.pipe(fr(n=>n instanceof ro||n instanceof Ql||n instanceof fc||n instanceof io),(0,at.U)(n=>n instanceof ro||n instanceof io?Jd.COMPLETE:n instanceof Ql&&(0===n.code||1===n.code)?Jd.REDIRECTING:Jd.FAILED),fr(n=>n!==Jd.REDIRECTING),oi(1)).subscribe(()=>{i()})}function zo(r){throw r}function Xd(r,i,n){return i.parse("/")}const Sy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ay={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wi=(()=>{class r{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new hr.x,this.options=(0,d.f3M)(kf,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||zo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Xd,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(BD),this.routeReuseStrategy=(0,d.f3M)(CT),this.titleStrategy=(0,d.f3M)(UD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Ec,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(xf),this.urlSerializer=(0,d.f3M)(Ae),this.location=(0,d.f3M)(Oe),this.componentInputBindingEnabled=!!(0,d.f3M)(bf,{optional:!0}),this.eventsSubscription=new $l.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new I,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Bg(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:l}=this.navigationTransitions;if(null===l)return void(HD(o)&&this._events.next(o));if(o instanceof Ua)VD(l.source)&&(this.browserUrlTree=l.extractedUrl);else if(o instanceof io)this.rawUrlTree=l.rawUrl;else if(o instanceof Vd){if("eager"===this.urlUpdateStrategy){if(!l.extras.skipLocationChange){const e=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);this.setBrowserUrl(e,l)}this.browserUrlTree=l.urlAfterRedirects}}else if(o instanceof Ud)this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects);else if(o instanceof Ql)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(l);else if(o instanceof ry){const e=this.urlHandlingStrategy.merge(o.url,l.currentRawUrl),t={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||VD(l.source)};this.scheduleNavigation(e,Yl,null,t,{resolve:l.resolve,reject:l.reject,promise:l.promise})}o instanceof fc&&this.restoreHistory(l,!0),o instanceof ro&&(this.navigated=!0),HD(o)&&this._events.next(o)}catch(l){this.navigationTransitions.transitionAbortSubject.next(l)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Yl,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const o="popstate"===n.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,o,n.state)},0)}))}navigateToSyncWithBrowser(n,o,l){const e={replaceUrl:!0},t=l?.navigationId?l:null;if(l){const a={...l};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(e.state=a)}const s=this.parseUrl(n);this.scheduleNavigation(s,o,t,e)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map($d),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:l,queryParams:e,fragment:t,queryParamsHandling:s,preserveFragment:a}=o,u=a?this.currentUrlTree.fragment:t;let f,c=null;switch(s){case"merge":c={...this.currentUrlTree.queryParams,...e};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=e||null}null!==c&&(c=this.removeEmptyProps(c));try{f=h(l?l.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return p(f,n,c,u??null)}navigateByUrl(n,o={skipLocationChange:!1}){const l=Va(n)?n:this.parseUrl(n),e=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(e,Yl,null,o)}navigate(n,o={skipLocationChange:!1}){return function DT(r){for(let i=0;i<r.length;i++)if(null==r[i])throw new d.vHH(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let o;try{o=this.urlSerializer.parse(n)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,n)}return o}isActive(n,o){let l;if(l=!0===o?{...Sy}:!1===o?{...Ay}:o,Va(n))return Fd(this.currentUrlTree,n,l);const e=this.parseUrl(n);return Fd(this.currentUrlTree,e,l)}removeEmptyProps(n){return Object.keys(n).reduce((o,l)=>{const e=n[l];return null!=e&&(o[l]=e),o},{})}scheduleNavigation(n,o,l,e,t){if(this.disposed)return Promise.resolve(!1);let s,a,u;t?(s=t.resolve,a=t.reject,u=t.promise):u=new Promise((f,g)=>{s=f,a=g});const c=this.pendingTasks.add();return Ff(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:e,resolve:s,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(n,o){const l=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl){const t={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(l,"",t)}else{const e={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(l,"",e)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-this.browserPageId;0!==e?this.location.historyGo(e):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===e&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function HD(r){return!(r instanceof Ud||r instanceof ry)}class $D{}let WD=(()=>{class r{constructor(n,o,l,e,t){this.router=n,this.injector=l,this.preloadingStrategy=e,this.loader=t}setUpPreloading(){this.subscription=this.router.events.pipe(fr(n=>n instanceof ro),Is(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const l=[];for(const e of o){e.providers&&!e._injector&&(e._injector=(0,d.MMx)(e.providers,n,`Route: ${e.path}`));const t=e._injector??n,s=e._loadedInjector??t;(e.loadChildren&&!e._loadedRoutes&&void 0===e.canLoad||e.loadComponent&&!e._loadedComponent)&&l.push(this.preloadConfig(t,e)),(e.children||e._loadedRoutes)&&l.push(this.processRoutes(s,e.children??e._loadedRoutes))}return(0,an.D)(l).pipe((0,Lo.J)())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let l;l=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):(0,qe.of)(null);const e=l.pipe((0,pr.z)(t=>null===t?(0,qe.of)(void 0):(o._loadedRoutes=t.routes,o._loadedInjector=t.injector,this.processRoutes(t.injector??n,t.routes))));if(o.loadComponent&&!o._loadedComponent){const t=this.loader.loadComponent(o);return(0,an.D)([e,t]).pipe((0,Lo.J)())}return e})}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(wi),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG($D),d.LFG(rm))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const om=new d.OlP("");let Ry=(()=>{class r{constructor(n,o,l,e,t={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=l,this.zone=e,this.options=t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},t.scrollPositionRestoration=t.scrollPositionRestoration||"disabled",t.anchorScrolling=t.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ua?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ro?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof io&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fD&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fD(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){d.$Z()};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac})}return r})();function Ki(r,i){return{\u0275kind:r,\u0275providers:i}}function Oy(){const r=(0,d.f3M)(d.zs3);return i=>{const n=r.get(d.z2F);if(i!==n.components[0])return;const o=r.get(wi),l=r.get(Py);1===r.get(th)&&o.initialNavigation(),r.get(ky,null,d.XFs.Optional)?.setUpPreloading(),r.get(om,null,d.XFs.Optional)?.init(),o.resetRootComponentType(n.componentTypes[0]),l.closed||(l.next(),l.complete(),l.unsubscribe())}}const Py=new d.OlP("",{factory:()=>new hr.x}),th=new d.OlP("",{providedIn:"root",factory:()=>1}),ky=new d.OlP("");function KD(r){return Ki(0,[{provide:ky,useExisting:WD},{provide:$D,useExisting:r}])}const Ic=new d.OlP("ROUTER_FORROOT_GUARD"),Fy=[Oe,{provide:Ae,useClass:Be},wi,Cf,{provide:Xl,useFactory:function am(r){return r.routerState.root},deps:[wi]},rm,[]];function Ly(){return new d.PXZ("Router",wi)}let Lf=(()=>{class r{constructor(n){}static forRoot(n,o){return{ngModule:r,providers:[Fy,[],{provide:Ec,multi:!0,useValue:n},{provide:Ic,useFactory:By,deps:[[wi,new d.FiY,new d.tp0]]},{provide:kf,useValue:o||{}},o?.useHash?{provide:Ie,useClass:ve}:{provide:Ie,useClass:Ne},{provide:om,useFactory:()=>{const r=(0,d.f3M)(er),i=(0,d.f3M)(d.R0b),n=(0,d.f3M)(kf),o=(0,d.f3M)(xf),l=(0,d.f3M)(Ae);return n.scrollOffset&&r.setOffset(n.scrollOffset),new Ry(l,o,r,i,n)}},o?.preloadingStrategy?KD(o.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Ly},o?.initialNavigation?Vf(o):[],o?.bindToComponentInputs?Ki(8,[sy,{provide:bf,useExisting:sy}]).\u0275providers:[],[{provide:QD,useFactory:Oy},{provide:d.tb,multi:!0,useExisting:QD}]]}}static forChild(n){return{ngModule:r,providers:[{provide:Ec,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(Ic,8))};static#t=this.\u0275mod=d.oAB({type:r});static#n=this.\u0275inj=d.cJS({})}return r})();function By(r){return"guarded"}function Vf(r){return["disabled"===r.initialNavigation?Ki(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const i=(0,d.f3M)(wi);return()=>{i.setUpLocationChangeListener()}}},{provide:th,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?Ki(2,[{provide:th,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:i=>{const n=i.get(me,Promise.resolve());return()=>n.then(()=>new Promise(o=>{const l=i.get(wi),e=i.get(Py);Ff(l,()=>{o(!0)}),i.get(xf).afterPreactivation=()=>(o(!0),e.closed?(0,qe.of)(void 0):e),l.initialNavigation()}))}}]).\u0275providers:[]]}const QD=new d.OlP(""),um=[];let Uf=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=d.oAB({type:r});static#n=this.\u0275inj=d.cJS({imports:[Lf.forRoot(um),Lf]})}return r})();class Hy{constructor(){this.kepCim="",this.kepUrl="",this.nev="",this.email="",this.szavazok=[]}}var cm=N(6321),wc=N(3019),Ms=N(3020),Bf=N(3997),bi=N(8186),qi=N(6304),t0=(N(6365),N(3106)),ou=N(4537),ja=N(5861),Zo=N(534),P=N(9058),jf=N(7879);const hm="@firebase/database";let $y="";function n0(r){$y=r}class r0{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,n){null==n?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,P.Wl)(n))}get(i){const n=this.domStorage_.getItem(this.prefixedName_(i));return null==n?null:(0,P.cI)(n)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class s0{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,n){null==n?delete this.cache_[i]:this.cache_[i]=n}get(i){return(0,P.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const o0=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const i=window[r];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new r0(i)}}catch{}return new s0},bc=o0("localStorage"),Tc=o0("sessionStorage"),Sc=new jf.Yd("@firebase/database"),$f=function(){let r=1;return function(){return r++}}(),Gf=function(r){const i=(0,P.dS)(r),n=new P.gQ;n.update(i);const o=n.digest();return P.US.encodeByteArray(o)},oo=function(...r){let i="";for(let n=0;n<r.length;n++){const o=r[n];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?i+=oo.apply(null,o):i+="object"==typeof o?(0,P.Wl)(o):o,i+=" "}return i};let Ko=null,Wf=!0;const Ac=function(r,i){(0,P.hu)(!i||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(Sc.logLevel=jf.in.VERBOSE,Ko=Sc.log.bind(Sc),i&&Tc.set("logging_enabled",!0)):"function"==typeof r?Ko=r:(Ko=null,Tc.remove("logging_enabled"))},Un=function(...r){if(!0===Wf&&(Wf=!1,null===Ko&&!0===Tc.get("logging_enabled")&&Ac(!0)),Ko){const i=oo.apply(null,r);Ko(i)}},ao=function(r){return function(...i){Un(r,...i)}},ih=function(...r){const i="FIREBASE INTERNAL ERROR: "+oo(...r);Sc.error(i)},Yi=function(...r){const i=`FIREBASE FATAL ERROR: ${oo(...r)}`;throw Sc.error(i),new Error(i)},ir=function(...r){const i="FIREBASE WARNING: "+oo(...r);Sc.warn(i)},Mc=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},Ha="[MIN_NAME]",lo="[MAX_NAME]",au=function(r,i){if(r===i)return 0;if(r===Ha||i===lo)return-1;if(i===Ha||r===lo)return 1;{const n=oh(r),o=oh(i);return null!==n?null!==o?n-o==0?r.length-i.length:n-o:-1:null!==o?1:r<i?-1:1}},a0=function(r,i){return r===i?0:r<i?-1:1},lu=function(r,i){if(i&&r in i)return i[r];throw new Error("Missing required key ("+r+") in object: "+(0,P.Wl)(i))},zf=function(r){if("object"!=typeof r||null===r)return(0,P.Wl)(r);const i=[];for(const o in r)i.push(o);i.sort();let n="{";for(let o=0;o<i.length;o++)0!==o&&(n+=","),n+=(0,P.Wl)(i[o]),n+=":",n+=zf(r[i[o]]);return n+="}",n},Gy=function(r,i){const n=r.length;if(n<=i)return[r];const o=[];for(let l=0;l<n;l+=i)o.push(r.substring(l,l+i>n?n:l+i));return o};function mr(r,i){for(const n in r)r.hasOwnProperty(n)&&i(n,r[n])}const l0=function(r){(0,P.hu)(!Mc(r),"Invalid JSON number");const o=1023;let l,e,t,s,a;0===r?(e=0,t=0,l=1/r==-1/0?1:0):(l=r<0,(r=Math.abs(r))>=Math.pow(2,1-o)?(s=Math.min(Math.floor(Math.log(r)/Math.LN2),o),e=s+o,t=Math.round(r*Math.pow(2,52-s)-Math.pow(2,52))):(e=0,t=Math.round(r/Math.pow(2,-1074))));const u=[];for(a=52;a;a-=1)u.push(t%2?1:0),t=Math.floor(t/2);for(a=11;a;a-=1)u.push(e%2?1:0),e=Math.floor(e/2);u.push(l?1:0),u.reverse();const c=u.join("");let f="";for(a=0;a<64;a+=8){let g=parseInt(c.substr(a,8),2).toString(16);1===g.length&&(g="0"+g),f+=g}return f.toLowerCase()},c0=new RegExp("^-?(0*)\\d{1,10}$"),oh=function(r){if(c0.test(r)){const i=Number(r);if(i>=-2147483648&&i<=2147483647)return i}return null},Rc=function(r){try{r()}catch(i){setTimeout(()=>{throw ir("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},ah=function(r,i){const n=setTimeout(r,i);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Zy{constructor(i,n){this.appName_=i,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(o=>this.appCheck=o)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(n,o):n(null)},0)})}addTokenChangeListener(i){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(o=>o.addTokenListener(i))}notifyForInvalidToken(){ir(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class RT{constructor(i,n,o){this.appName_=i,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(n=>n&&"auth/token-not-initialized"===n.code?(Un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(n,o):n(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(n=>n.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(n=>n.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ir(i)}}let lh=(()=>{class r{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const gm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_m="websocket",vm="long_polling";class uh{constructor(i,n,o,l,e=!1,t="",s=!1,a=!1){this.secure=n,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=e,this.persistenceKey=t,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bc.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&bc.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Kf(r,i,n){let o;if((0,P.hu)("string"==typeof i,"typeof type must == string"),(0,P.hu)("object"==typeof n,"typeof params must == object"),i===_m)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(i!==vm)throw new Error("Unknown connection type: "+i);o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function NT(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(n.ns=r.namespace);const l=[];return mr(n,(e,t)=>{l.push(e+"="+t)}),o+l.join("&")}class Jy{constructor(){this.counters_={}}incrementCounter(i,n=1){(0,P.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=n}get(){return(0,P.p$)(this.counters_)}}const ym={},Em={};function qf(r){const i=r.toString();return ym[i]||(ym[i]=new Jy),ym[i]}class Xy{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,n){this.closeAfterResponse=i,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,n){for(this.pendingResponses[i]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Rc(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ga{constructor(i,n,o,l,e,t,s){this.connId=i,this.repoInfo=n,this.applicationId=o,this.appCheckToken=l,this.authToken=e,this.transportSessionId=t,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ao(i),this.stats_=qf(n),this.urlFn=a=>(this.appCheckToken&&(a.ac=this.appCheckToken),Kf(n,vm,a))}open(i,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Xy(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,P.Yr)()||"complete"===document.readyState)r();else{let i=!1;const n=function(){document.body?i||(i=!0,r()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new iE((...e)=>{const[t,s,a,u,c]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=s,this.password=a;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,s]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,s)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&gm.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ga.forceAllow_=!0}static forceDisallow(){Ga.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!Ga.forceAllow_&&(Ga.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const n=(0,P.Wl)(i);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=(0,P.h$)(n),l=Gy(o,1840);for(let e=0;e<l.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[e]),this.curSegmentNum++}addDisconnectPingFrame(i,n){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=i,o.pw=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const n=(0,P.Wl)(i).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class iE{constructor(i,n,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=i,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=$f(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=iE.createIFrame_();let e="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";<\/script>');const t="<html><body>"+e+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(t),this.myIFrame.doc.close()}catch(s){Un("frame writing exception"),s.stack&&Un(s.stack),Un(s)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||Un("No IE domain setting required")}catch{const o=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,n){for(this.myID=i,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let n=this.urlFn(i),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const t=this.pendingSegs.shift();o=o+"&seg"+l+"="+t.seg+"&ts"+l+"="+t.ts+"&d"+l+"="+t.d,l++}return n+=o,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(i,n,o){this.pendingSegs.push({seg:i,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(i,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(l),o()})}addTag(i,n){(0,P.Yr)()?this.doNodeLongPoll(i,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=i,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{Un("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let Oc=null;typeof MozWebSocket<"u"?Oc=MozWebSocket:typeof WebSocket<"u"&&(Oc=WebSocket);let Pc=(()=>{class r{constructor(n,o,l,e,t,s,a){this.connId=n,this.applicationId=l,this.appCheckToken=e,this.authToken=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ao(this.connId),this.stats_=qf(o),this.connURL=r.connectionURL_(o,s,a,e,l),this.nodeAdmin=o.nodeAdmin}static connectionURL_(n,o,l,e,t){const s={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&gm.test(location.hostname)&&(s.r="f"),o&&(s.s=o),l&&(s.ls=l),e&&(s.ac=e),t&&(s.p=t),Kf(n,_m,s)}open(n,o){this.onDisconnect=o,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bc.set("previous_websocket_failure",!0);try{let l;if((0,P.Yr)()){l={headers:{"User-Agent":`Firebase/5/${$y}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const t=process.env,s=0===this.connURL.indexOf("wss://")?t.HTTPS_PROXY||t.https_proxy:t.HTTP_PROXY||t.http_proxy;s&&(l.proxy={origin:s})}this.mySock=new Oc(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const e=l.message||l.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const e=l.message||l.data;e&&this.log_(e),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(n=!0)}return!n&&null!==Oc&&!r.forceDisallow_}static previouslyFailed(){return bc.isInMemoryStorage||!0===bc.get("previous_websocket_failure")}markConnectionHealthy(){bc.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,P.cI)(o);this.onMessage(l)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const o=Number(n);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const o=n.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(n){this.resetKeepAlive();const o=(0,P.Wl)(n);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=Gy(o,16384);l.length>1&&this.sendString_(String(l.length));for(let e=0;e<l.length;e++)this.sendString_(l[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),sE=(()=>{class r{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ga,Pc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const o=Pc&&Pc.isAvailable();let l=o&&!Pc.previouslyFailed();if(n.webSocketOnly&&(o||ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[Pc];else{const e=this.transports_=[];for(const t of r.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class uE{constructor(i,n,o,l,e,t,s,a,u,c){this.id=i,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=e,this.onMessage_=t,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ao("c:"+this.id+":"),this.transportManager_=new sE(n),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const l=i.healthyTimeout||0;l>0&&(this.healthyTimeout_=ah(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return n=>{i===this.conn_?this.onConnectionLost_(n):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return n=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(n):i===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const n=i.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const n=lu("t",i),o=lu("d",i);if("c"===n)this.onSecondaryControl_(o);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const n=lu("t",i),o=lu("d",i);"c"===n?this.onControl_(o):"d"===n&&this.onDataMessage_(o)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const n=lu("t",i);if("d"in i){const o=i.d;if("h"===n){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(o):"r"===n?this.onReset_(o):"e"===n?ih("Server Error: "+o):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ih("Unknown control packet command: "+n)}}onHandshake_(i){const n=i.ts,o=i.v,l=i.h;this.sessionId=i.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==o&&ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),ah(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,n){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ah(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Mm{put(i,n,o,l){}merge(i,n,o,l){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,n,o){}onDisconnectMerge(i,n,o){}onDisconnectCancel(i,n){}reportStats(i){}}class Rm{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,P.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...n){if(Array.isArray(this.listeners_[i])){const o=[...this.listeners_[i]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,n)}}on(i,n,o){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:n,context:o});const l=this.getInitialEvent(i);l&&n.apply(o,l)}off(i,n,o){this.validateEventType_(i);const l=this.listeners_[i]||[];for(let e=0;e<l.length;e++)if(l[e].callback===n&&(!o||o===l[e].context))return void l.splice(e,1)}validateEventType_(i){(0,P.hu)(this.allowedEvents_.find(n=>n===i),"Unknown event: "+i)}}class xc extends Rm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xc}getInitialEvent(i){return(0,P.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class kt{constructor(i,n){if(void 0===n){this.pieces_=i.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=n}toString(){let i="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(i+="/"+this.pieces_[n]);return i||"/"}}function xt(){return new kt("")}function It(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Wa(r){return r.pieces_.length-r.pieceNum_}function Yt(r){let i=r.pieceNum_;return i<r.pieces_.length&&i++,new kt(r.pieces_,i)}function Nm(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function Qf(r,i=0){return r.pieces_.slice(r.pieceNum_+i)}function dE(r){if(r.pieceNum_>=r.pieces_.length)return null;const i=[];for(let n=r.pieceNum_;n<r.pieces_.length-1;n++)i.push(r.pieces_[n]);return new kt(i,0)}function Sn(r,i){const n=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)n.push(r.pieces_[o]);if(i instanceof kt)for(let o=i.pieceNum_;o<i.pieces_.length;o++)n.push(i.pieces_[o]);else{const o=i.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&n.push(o[l])}return new kt(n,0)}function bt(r){return r.pieceNum_>=r.pieces_.length}function kr(r,i){const n=It(r),o=It(i);if(null===n)return i;if(n===o)return kr(Yt(r),Yt(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+r+")")}function hE(r,i){const n=Qf(r,0),o=Qf(i,0);for(let l=0;l<n.length&&l<o.length;l++){const e=au(n[l],o[l]);if(0!==e)return e}return n.length===o.length?0:n.length<o.length?-1:1}function fE(r,i){if(Wa(r)!==Wa(i))return!1;for(let n=r.pieceNum_,o=i.pieceNum_;n<=r.pieces_.length;n++,o++)if(r.pieces_[n]!==i.pieces_[o])return!1;return!0}function Yr(r,i){let n=r.pieceNum_,o=i.pieceNum_;if(Wa(r)>Wa(i))return!1;for(;n<r.pieces_.length;){if(r.pieces_[n]!==i.pieces_[o])return!1;++n,++o}return!0}class xT{constructor(i,n){this.errorPrefix_=n,this.parts_=Qf(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,P.ug)(this.parts_[o]);mE(this)}}function mE(r){if(r.byteLength_>768)throw new Error(r.errorPrefix_+"has a key path longer than 768 bytes ("+r.byteLength_+").");if(r.parts_.length>32)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+za(r))}function za(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class Jf extends Rm{constructor(){let i,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[i];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Jf}getInitialEvent(i){return(0,P.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const lt=1e3;let hh,Ji=(()=>{class r extends Mm{constructor(n,o,l,e,t,s,a,u){if(super(),this.repoInfo_=n,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=e,this.onServerInfoUpdate_=t,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=u,this.id=r.nextPersistentConnectionId_++,this.log_=ao("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lt,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jf.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&xc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,o,l){const e=++this.requestNumber_,t={r:e,a:n,b:o};this.log_((0,P.Wl)(t)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(t),l&&(this.requestCBHash_[e]=l)}get(n){this.initConnection_();const o=new P.BH,e={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:s=>{const a=s.d;"ok"===s.s?o.resolve(a):o.reject(a)}};return this.outstandingGets_.push(e),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(n,o,l,e){this.initConnection_();const t=n._queryIdentifier,s=n._path.toString();this.log_("Listen called for "+s+" "+t),this.listens.has(s)||this.listens.set(s,new Map),(0,P.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(s).has(t),"listen() called twice for same path/queryId.");const a={onComplete:e,hashFn:o,query:n,tag:l};this.listens.get(s).set(t,a),this.connected_&&this.sendListen_(a)}sendGet_(n){const o=this.outstandingGets_[n];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(n){const o=n.query,l=o._path.toString(),e=o._queryIdentifier;this.log_("Listen on "+l+" for "+e);const t={p:l};n.tag&&(t.q=o._queryObject,t.t=n.tag),t.h=n.hashFn(),this.sendRequest("q",t,a=>{const u=a.d,c=a.s;r.warnOnListenWarnings_(u,o),(this.listens.get(l)&&this.listens.get(l).get(e))===n&&(this.log_("listen response",a),"ok"!==c&&this.removeListen_(l,e),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,o){if(n&&"object"==typeof n&&(0,P.r3)(n,"w")){const l=(0,P.DV)(n,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const e='".indexOn": "'+o._queryParams.getIndex().toString()+'"',t=o._path.toString();ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${t} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,P.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,o=(0,P.w9)(n)?"auth":"gauth",l={cred:n};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,e=>{const t=e.s,s=e.d||"error";this.authToken_===n&&("ok"===t?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(t,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const o=n.s,l=n.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(n,o){const l=n._path.toString(),e=n._queryIdentifier;this.log_("Unlisten called for "+l+" "+e),(0,P.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,e)&&this.connected_&&this.sendUnlisten_(l,e,n._queryObject,o)}sendUnlisten_(n,o,l,e){this.log_("Unlisten on "+n+" for "+o);const t={p:n};e&&(t.q=l,t.t=e),this.sendRequest("n",t)}onDisconnectPut(n,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,o,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:o,onComplete:l})}onDisconnectMerge(n,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,o,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:o,onComplete:l})}onDisconnectCancel(n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,o):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(n,o,l,e){const t={p:o,d:l};this.log_("onDisconnect "+n,t),this.sendRequest(n,t,s=>{e&&setTimeout(()=>{e(s.s,s.d)},Math.floor(0))})}put(n,o,l,e){this.putInternal("p",n,o,l,e)}merge(n,o,l,e){this.putInternal("m",n,o,l,e)}putInternal(n,o,l,e,t){this.initConnection_();const s={p:o,d:l};void 0!==t&&(s.h=t),this.outstandingPuts_.push({action:n,request:s,onComplete:e}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(n){const o=this.outstandingPuts_[n].action,l=this.outstandingPuts_[n].request,e=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(o,l,t=>{this.log_(o+" response",t),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),e&&e(t.s,t.d)})}reportStats(n){if(this.connected_){const o={c:n};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,P.Wl)(n));const o=n.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,o){this.log_("handleServerMessage",n,o),"d"===n?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===n?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===n?this.onListenRevoked_(o.p,o.q):"ac"===n?this.onAuthRevoked_(o.s,o.d):"apc"===n?this.onAppCheckRevoked_(o.s,o.d):"sd"===n?this.onSecurityDebugPacket_(o):ih("Unrecognized action received from server: "+(0,P.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lt,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=lt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=lt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-n);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,ja.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const o=n.onDataMessage_.bind(n),l=n.onReady_.bind(n),e=n.onRealtimeDisconnect_.bind(n),t=n.id+":"+r.nextConnectionId_++,s=n.lastSessionId;let a=!1,u=null;const c=function(){u?u.close():(a=!0,e())};n.realtime_={close:c,sendRequest:function(_){(0,P.hu)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(_)}};const g=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[_,C]=yield Promise.all([n.authTokenProvider_.getToken(g),n.appCheckTokenProvider_.getToken(g)]);a?Un("getToken() completed but was canceled"):(Un("getToken() completed. Creating connection."),n.authToken_=_&&_.accessToken,n.appCheckToken_=C&&C.token,u=new uE(t,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,o,l,e,w=>{ir(w+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},s))}catch(_){n.log_("Failed to get token: "+_),a||(n.repoInfo_.nodeAdmin&&ir(_),c())}}})()}interrupt(n){Un("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Un("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=lt,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const o=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const o=this.outstandingPuts_[n];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,o){let l;l=o?o.map(t=>zf(t)).join("$"):"default";const e=this.removeListen_(n,l);e&&e.onComplete&&e.onComplete("permission_denied")}removeListen_(n,o){const l=new kt(n).toString();let e;if(this.listens.has(l)){const t=this.listens.get(l);e=t.get(o),t.delete(o),0===t.size&&this.listens.delete(l)}else e=void 0;return e}onAuthRevoked_(n,o){Un("Auth token revoked: "+n+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,o){Un("App check token revoked: "+n+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const o of n.values())this.sendListen_(o);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let o="js";(0,P.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+o+"."+$y.replace(/\./g,"-")]=1,(0,P.uI)()?n["framework.cordova"]=1:(0,P.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=xc.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&n}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class Et{constructor(i,n){this.name=i,this.node=n}static Wrap(i,n){return new Et(i,n)}}class Za{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,n){const o=new Et(Ha,i),l=new Et(Ha,n);return 0!==this.compare(o,l)}minPost(){return Et.MIN}}class Xf extends Za{static get __EMPTY_NODE(){return hh}static set __EMPTY_NODE(i){hh=i}compare(i,n){return au(i.name,n.name)}isDefinedOn(i){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,n){return!1}minPost(){return Et.MIN}maxPost(){return new Et(lo,hh)}makePost(i,n){return(0,P.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new Et(i,hh)}toString(){return".key"}}const Xi=new Xf;class Lc{constructor(i,n,o,l,e=null){this.isReverse_=l,this.resultGenerator_=e,this.nodeStack_=[];let t=1;for(;!i.isEmpty();)if(t=n?o(i.key,n):1,l&&(t*=-1),t<0)i=this.isReverse_?i.left:i.right;else{if(0===t){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,i=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let ep,es=(()=>{class r{constructor(n,o,l,e,t){this.key=n,this.value=o,this.color=l??r.RED,this.left=e??di.EMPTY_NODE,this.right=t??di.EMPTY_NODE}copy(n,o,l,e,t){return new r(n??this.key,o??this.value,l??this.color,e??this.left,t??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,l){let e=this;const t=l(n,e.key);return e=t<0?e.copy(null,null,null,e.left.insert(n,o,l),null):0===t?e.copy(null,o,null,null,null):e.copy(null,null,null,null,e.right.insert(n,o,l)),e.fixUp_()}removeMin_(){if(this.left.isEmpty())return di.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,o){let l,e;if(l=this,o(n,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(n,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(n,l.key)){if(l.right.isEmpty())return di.EMPTY_NODE;e=l.right.min_(),l=l.copy(e.key,e.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(n,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class di{constructor(i,n=di.EMPTY_NODE){this.comparator_=i,this.root_=n}insert(i,n){return new di(this.comparator_,this.root_.insert(i,n,this.comparator_).copy(null,null,es.BLACK,null,null))}remove(i){return new di(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,es.BLACK,null,null))}get(i){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(i,o.key),0===n)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(i){let n,o=this.root_,l=null;for(;!o.isEmpty();){if(n=this.comparator_(i,o.key),0===n){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}n<0?o=o.left:n>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Lc(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,n){return new Lc(this.root_,i,this.comparator_,!1,n)}getReverseIteratorFrom(i,n){return new Lc(this.root_,i,this.comparator_,!0,n)}getReverseIterator(i){return new Lc(this.root_,null,this.comparator_,!0,i)}}function C0(r,i){return au(r.name,i.name)}function xm(r,i){return au(r,i)}di.EMPTY_NODE=new class Pm{copy(i,n,o,l,e){return this}insert(i,n,o){return new es(i,n,null)}remove(i,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const yE=function(r){return"number"==typeof r?"number:"+l0(r):"string:"+r},EE=function(r){if(r.isLeafNode()){const i=r.val();(0,P.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,P.r3)(i,".sv"),"Priority must be a string or number.")}else(0,P.hu)(r===ep||r.isEmpty(),"priority of unexpected type.");(0,P.hu)(r===ep||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let CE,km,IE,fu=(()=>{class r{constructor(n,o=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=o,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),EE(this.priorityNode_)}static set __childrenNodeConstructor(n){CE=n}static get __childrenNodeConstructor(){return CE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new r(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return bt(n)?this:".priority"===It(n)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,o){return null}updateImmediateChild(n,o){return".priority"===n?this.updatePriority(o):o.isEmpty()&&".priority"!==n?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,o).updatePriority(this.priorityNode_)}updateChild(n,o){const l=It(n);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,P.hu)(".priority"!==l||1===Wa(n),".priority must be the last token in a path"),this.updateImmediateChild(l,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yt(n),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,o){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+yE(this.priorityNode_.val())+":");const o=typeof this.value_;n+=o+":",n+="number"===o?l0(this.value_):this.value_,this.lazyHash_=Gf(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===r.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof r.__childrenNodeConstructor?-1:((0,P.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const o=typeof n.value_,l=typeof this.value_,e=r.VALUE_TYPE_ORDER.indexOf(o),t=r.VALUE_TYPE_ORDER.indexOf(l);return(0,P.hu)(e>=0,"Unknown leaf type: "+o),(0,P.hu)(t>=0,"Unknown leaf type: "+l),e===t?"object"===l?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:t-e}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const nn=new class w0 extends Za{compare(i,n){const o=i.node.getPriority(),l=n.node.getPriority(),e=o.compareTo(l);return 0===e?au(i.name,n.name):e}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,n){return!i.getPriority().equals(n.getPriority())}minPost(){return Et.MIN}maxPost(){return new Et(lo,new fu("[PRIORITY-POST]",IE))}makePost(i,n){const o=km(i);return new Et(n,new fu("[PRIORITY-POST]",o))}toString(){return".priority"}},kT=Math.log(2);class Fm{constructor(i){this.count=parseInt(Math.log(i+1)/kT,10),this.current_=this.count-1;const l=(e=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&l}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const fh=function(r,i,n,o){r.sort(i);const l=function(a,u){const c=u-a;let f,g;if(0===c)return null;if(1===c)return f=r[a],g=n?n(f):f,new es(g,f.node,es.BLACK,null,null);{const _=parseInt(c/2,10)+a,C=l(a,_),w=l(_+1,u);return f=r[_],g=n?n(f):f,new es(g,f.node,es.BLACK,C,w)}},s=function(a){let u=null,c=null,f=r.length;const g=function(C,w){const O=f-C,L=f;f-=C;const j=l(O+1,L),ne=r[O],ue=n?n(ne):ne;_(new es(ue,ne.node,w,null,j))},_=function(C){u?(u.left=C,u=C):(c=C,u=C)};for(let C=0;C<a.count;++C){const w=a.nextBitIsOne(),O=Math.pow(2,a.count-(C+1));w?g(O,es.BLACK):(g(O,es.BLACK),g(O,es.RED))}return c}(new Fm(r.length));return new di(o||i,s)};let Lm;const Vc={};class qo{constructor(i,n){this.indexes_=i,this.indexSet_=n}static get Default(){return(0,P.hu)(Vc&&nn,"ChildrenNode.ts has not been loaded"),Lm=Lm||new qo({".priority":Vc},{".priority":nn}),Lm}get(i){const n=(0,P.DV)(this.indexes_,i);if(!n)throw new Error("No index defined for "+i);return n instanceof di?n:null}hasIndex(i){return(0,P.r3)(this.indexSet_,i.toString())}addIndex(i,n){(0,P.hu)(i!==Xi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const e=n.getIterator(Et.Wrap);let s,t=e.getNext();for(;t;)l=l||i.isDefinedOn(t.node),o.push(t),t=e.getNext();s=l?fh(o,i.getCompare()):Vc;const a=i.toString(),u=Object.assign({},this.indexSet_);u[a]=i;const c=Object.assign({},this.indexes_);return c[a]=s,new qo(c,u)}addToIndexes(i,n){const o=(0,P.UI)(this.indexes_,(l,e)=>{const t=(0,P.DV)(this.indexSet_,e);if((0,P.hu)(t,"Missing index implementation for "+e),l===Vc){if(t.isDefinedOn(i.node)){const s=[],a=n.getIterator(Et.Wrap);let u=a.getNext();for(;u;)u.name!==i.name&&s.push(u),u=a.getNext();return s.push(i),fh(s,t.getCompare())}return Vc}{const s=n.get(i.name);let a=l;return s&&(a=a.remove(new Et(i.name,s))),a.insert(i,i.node)}});return new qo(o,this.indexSet_)}removeFromIndexes(i,n){const o=(0,P.UI)(this.indexes_,l=>{if(l===Vc)return l;{const e=n.get(i.name);return e?l.remove(new Et(i.name,e)):l}});return new qo(o,this.indexSet_)}}let Uc,pt=(()=>{class r{constructor(n,o,l){this.children_=n,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&EE(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Uc||(Uc=new r(new di(xm),null,qo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Uc}updatePriority(n){return this.children_.isEmpty()?this:new r(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const o=this.children_.get(n);return null===o?Uc:o}}getChild(n){const o=It(n);return null===o?this:this.getImmediateChild(o).getChild(Yt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,o){if((0,P.hu)(o,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(o);{const l=new Et(n,o);let e,t;o.isEmpty()?(e=this.children_.remove(n),t=this.indexMap_.removeFromIndexes(l,this.children_)):(e=this.children_.insert(n,o),t=this.indexMap_.addToIndexes(l,this.children_));const s=e.isEmpty()?Uc:this.priorityNode_;return new r(e,s,t)}}updateChild(n,o){const l=It(n);if(null===l)return o;{(0,P.hu)(".priority"!==It(n)||1===Wa(n),".priority must be the last token in a path");const e=this.getImmediateChild(l).updateChild(Yt(n),o);return this.updateImmediateChild(l,e)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const o={};let l=0,e=0,t=!0;if(this.forEachChild(nn,(s,a)=>{o[s]=a.val(n),l++,t&&r.INTEGER_REGEXP_.test(s)?e=Math.max(e,Number(s)):t=!1}),!n&&t&&e<2*l){const s=[];for(const a in o)s[a]=o[a];return s}return n&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+yE(this.getPriority().val())+":"),this.forEachChild(nn,(o,l)=>{const e=l.hash();""!==e&&(n+=":"+o+":"+e)}),this.lazyHash_=""===n?"":Gf(n)}return this.lazyHash_}getPredecessorChildName(n,o,l){const e=this.resolveIndex_(l);if(e){const t=e.getPredecessorKey(new Et(n,o));return t?t.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const o=this.resolveIndex_(n);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(n){const o=this.getFirstChildName(n);return o?new Et(o,this.children_.get(o)):null}getLastChildName(n){const o=this.resolveIndex_(n);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(n){const o=this.getLastChildName(n);return o?new Et(o,this.children_.get(o)):null}forEachChild(n,o){const l=this.resolveIndex_(n);return l?l.inorderTraversal(e=>o(e.name,e.node)):this.children_.inorderTraversal(o)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(n,e=>e);{const e=this.children_.getIteratorFrom(n.name,Et.Wrap);let t=e.peek();for(;null!=t&&o.compare(t,n)<0;)e.getNext(),t=e.peek();return e}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(n,e=>e);{const e=this.children_.getReverseIteratorFrom(n.name,Et.Wrap);let t=e.peek();for(;null!=t&&o.compare(t,n)>0;)e.getNext(),t=e.peek();return e}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===pu?-1:0}withIndex(n){if(n===Xi||this.indexMap_.hasIndex(n))return this;{const o=this.indexMap_.addIndex(n,this.children_);return new r(this.children_,this.priorityNode_,o)}}isIndexed(n){return n===Xi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const o=n;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(nn),e=o.getIterator(nn);let t=l.getNext(),s=e.getNext();for(;t&&s;){if(t.name!==s.name||!t.node.equals(s.node))return!1;t=l.getNext(),s=e.getNext()}return null===t&&null===s}return!1}return!1}}resolveIndex_(n){return n===Xi?null:this.indexMap_.get(n.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const pu=new class b0 extends pt{constructor(){super(new di(xm),pt.EMPTY_NODE,qo.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return pt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Et,{MIN:{value:new Et(Ha,pt.EMPTY_NODE)},MAX:{value:new Et(lo,pu)}}),Xf.__EMPTY_NODE=pt.EMPTY_NODE,fu.__childrenNodeConstructor=pt,function I0(r){ep=r}(pu),function Ti(r){IE=r}(pu);const T0=!0;function An(r,i=null){if(null===r)return pt.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(i=r[".priority"]),(0,P.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new fu(r,An(i));if(r instanceof Array||!T0){let n=pt.EMPTY_NODE;return mr(r,(o,l)=>{if((0,P.r3)(r,o)&&"."!==o.substring(0,1)){const e=An(l);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(o,e))}}),n.updatePriority(An(i))}{const n=[];let o=!1;if(mr(r,(t,s)=>{if("."!==t.substring(0,1)){const a=An(s);a.isEmpty()||(o=o||!a.getPriority().isEmpty(),n.push(new Et(t,a)))}}),0===n.length)return pt.EMPTY_NODE;const e=fh(n,C0,t=>t.name,xm);if(o){const t=fh(n,nn.getCompare());return new pt(e,An(i),new qo({".priority":t},{".priority":nn}))}return new pt(e,An(i),qo.Default)}}!function D0(r){km=r}(An);class Vm extends Za{constructor(i){super(),this.indexPath_=i,(0,P.hu)(!bt(i)&&".priority"!==It(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,n){const o=this.extractChild(i.node),l=this.extractChild(n.node),e=o.compareTo(l);return 0===e?au(i.name,n.name):e}makePost(i,n){const o=An(i),l=pt.EMPTY_NODE.updateChild(this.indexPath_,o);return new Et(n,l)}maxPost(){const i=pt.EMPTY_NODE.updateChild(this.indexPath_,pu);return new Et(lo,i)}toString(){return Qf(this.indexPath_,0).join("/")}}const Um=new class S0 extends Za{compare(i,n){const o=i.node.compareTo(n.node);return 0===o?au(i.name,n.name):o}isDefinedOn(i){return!0}indexedValueChanged(i,n){return!i.equals(n)}minPost(){return Et.MIN}maxPost(){return Et.MAX}makePost(i,n){const o=An(i);return new Et(n,o)}toString(){return".value"}};function Rs(r){return{type:"value",snapshotNode:r}}function Ka(r,i){return{type:"child_added",snapshotNode:i,childName:r}}function ph(r,i){return{type:"child_removed",snapshotNode:i,childName:r}}function Bc(r,i,n){return{type:"child_changed",snapshotNode:i,childName:r,oldSnap:n}}class tp{constructor(i){this.index_=i}updateChild(i,n,o,l,e,t){(0,P.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=i.getImmediateChild(n);return s.getChild(l).equals(o.getChild(l))&&s.isEmpty()===o.isEmpty()||(null!=t&&(o.isEmpty()?i.hasChild(n)?t.trackChildChange(ph(n,s)):(0,P.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?t.trackChildChange(Ka(n,o)):t.trackChildChange(Bc(n,o,s))),i.isLeafNode()&&o.isEmpty())?i:i.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(i,n,o){return null!=o&&(i.isLeafNode()||i.forEachChild(nn,(l,e)=>{n.hasChild(l)||o.trackChildChange(ph(l,e))}),n.isLeafNode()||n.forEachChild(nn,(l,e)=>{if(i.hasChild(l)){const t=i.getImmediateChild(l);t.equals(e)||o.trackChildChange(Bc(l,e,t))}else o.trackChildChange(Ka(l,e))})),n.withIndex(this.index_)}updatePriority(i,n){return i.isEmpty()?pt.EMPTY_NODE:i.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class jc{constructor(i){this.indexedFilter_=new tp(i.getIndex()),this.index_=i.getIndex(),this.startPost_=jc.getStartPost_(i),this.endPost_=jc.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,o=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return n&&o}updateChild(i,n,o,l,e,t){return this.matches(new Et(n,o))||(o=pt.EMPTY_NODE),this.indexedFilter_.updateChild(i,n,o,l,e,t)}updateFullNode(i,n,o){n.isLeafNode()&&(n=pt.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(pt.EMPTY_NODE);const e=this;return n.forEachChild(nn,(t,s)=>{e.matches(new Et(t,s))||(l=l.updateImmediateChild(t,pt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,l,o)}updatePriority(i,n){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const n=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),n)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const n=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),n)}return i.getIndex().maxPost()}}class np{constructor(i){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new jc(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,n,o,l,e,t){return this.rangedFilter_.matches(new Et(n,o))||(o=pt.EMPTY_NODE),i.getImmediateChild(n).equals(o)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,n,o,l,e,t):this.fullLimitUpdateChild_(i,n,o,e,t)}updateFullNode(i,n,o){let l;if(n.isLeafNode()||n.isEmpty())l=pt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let e;l=pt.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let t=0;for(;e.hasNext()&&t<this.limit_;){const s=e.getNext();if(this.withinDirectionalStart(s)){if(!this.withinDirectionalEnd(s))break;l=l.updateImmediateChild(s.name,s.node),t++}}}else{let e;l=n.withIndex(this.index_),l=l.updatePriority(pt.EMPTY_NODE),e=this.reverse_?l.getReverseIterator(this.index_):l.getIterator(this.index_);let t=0;for(;e.hasNext();){const s=e.getNext();t<this.limit_&&this.withinDirectionalStart(s)&&this.withinDirectionalEnd(s)?t++:l=l.updateImmediateChild(s.name,pt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,l,o)}updatePriority(i,n){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,n,o,l,e){let t;if(this.reverse_){const f=this.index_.getCompare();t=(g,_)=>f(_,g)}else t=this.index_.getCompare();const s=i;(0,P.hu)(s.numChildren()===this.limit_,"");const a=new Et(n,o),u=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(n)){const f=s.getImmediateChild(n);let g=l.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=g&&(g.name===n||s.hasChild(g.name));)g=l.getChildAfterChild(this.index_,g,this.reverse_);const _=null==g?1:t(g,a);if(c&&!o.isEmpty()&&_>=0)return e?.trackChildChange(Bc(n,o,f)),s.updateImmediateChild(n,o);{e?.trackChildChange(ph(n,f));const w=s.updateImmediateChild(n,pt.EMPTY_NODE);return null!=g&&this.rangedFilter_.matches(g)?(e?.trackChildChange(Ka(g.name,g.node)),w.updateImmediateChild(g.name,g.node)):w}}return o.isEmpty()?i:c&&t(u,a)>=0?(null!=e&&(e.trackChildChange(ph(u.name,u.node)),e.trackChildChange(Ka(n,o))),s.updateImmediateChild(n,o).updateImmediateChild(u.name,pt.EMPTY_NODE)):i}}class Hc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ha}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nn}copy(){const i=new Hc;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function rp(r,i,n){const o=r.copy();return o.startSet_=!0,void 0===i&&(i=null),o.indexStartValue_=i,null!=n?(o.startNameSet_=!0,o.indexStartName_=n):(o.startNameSet_=!1,o.indexStartName_=""),o}function gh(r,i,n){const o=r.copy();return o.endSet_=!0,void 0===i&&(i=null),o.indexEndValue_=i,void 0!==n?(o.endNameSet_=!0,o.indexEndName_=n):(o.endNameSet_=!1,o.indexEndName_=""),o}function ip(r,i){const n=r.copy();return n.index_=i,n}function TE(r){const i={};if(r.isDefault())return i;let n;if(r.index_===nn?n="$priority":r.index_===Um?n="$value":r.index_===Xi?n="$key":((0,P.hu)(r.index_ instanceof Vm,"Unrecognized index type!"),n=r.index_.toString()),i.orderBy=(0,P.Wl)(n),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";i[o]=(0,P.Wl)(r.indexStartValue_),r.startNameSet_&&(i[o]+=","+(0,P.Wl)(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";i[o]=(0,P.Wl)(r.indexEndValue_),r.endNameSet_&&(i[o]+=","+(0,P.Wl)(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?i.limitToFirst=r.limit_:i.limitToLast=r.limit_),i}function sp(r){const i={};if(r.startSet_&&(i.sp=r.indexStartValue_,r.startNameSet_&&(i.sn=r.indexStartName_),i.sin=!r.startAfterSet_),r.endSet_&&(i.ep=r.indexEndValue_,r.endNameSet_&&(i.en=r.indexEndName_),i.ein=!r.endBeforeSet_),r.limitSet_){i.l=r.limit_;let n=r.viewFrom_;""===n&&(n=r.isViewFromLeft()?"l":"r"),i.vf=n}return r.index_!==nn&&(i.i=r.index_.toString()),i}class op extends Mm{constructor(i,n,o,l){super(),this.repoInfo_=i,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=ao("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,n){return void 0!==n?"tag$"+n:((0,P.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,n,o,l){const e=i._path.toString();this.log_("Listen called for "+e+" "+i._queryIdentifier);const t=op.getListenId_(i,o),s={};this.listens_[t]=s;const a=TE(i._queryParams);this.restRequest_(e+".json",a,(u,c)=>{let f=c;if(404===u&&(f=null,u=null),null===u&&this.onDataUpdate_(e,f,!1,o),(0,P.DV)(this.listens_,t)===s){let g;g=u?401===u?"permission_denied":"rest_error:"+u:"ok",l(g,null)}})}unlisten(i,n){const o=op.getListenId_(i,n);delete this.listens_[o]}get(i){const n=TE(i._queryParams),o=i._path.toString(),l=new P.BH;return this.restRequest_(o+".json",n,(e,t)=>{let s=t;404===e&&(s=null,e=null),null===e?(this.onDataUpdate_(o,s,!1,null),l.resolve(s)):l.reject(new Error(s))}),l.promise}refreshAuthToken(i){}restRequest_(i,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,e])=>{l&&l.accessToken&&(n.auth=l.accessToken),e&&e.token&&(n.ac=e.token);const t=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,P.xO)(n);this.log_("Sending REST request for "+t);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(o&&4===s.readyState){this.log_("REST Response for "+t+" received. status:",s.status,"response:",s.responseText);let a=null;if(s.status>=200&&s.status<300){try{a=(0,P.cI)(s.responseText)}catch{ir("Failed to parse JSON response for "+t+": "+s.responseText)}o(null,a)}else 401!==s.status&&404!==s.status&&ir("Got unsuccessful REST response for "+t+" Status: "+s.status),o(s.status);o=null}},s.open("GET",t,!0),s.send()})}}class SE{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,n){this.rootNode_=this.rootNode_.updateChild(i,n)}}function ap(){return{value:null,children:new Map}}function Qo(r,i,n){if(bt(i))r.value=n,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(i,n);else{const o=It(i);r.children.has(o)||r.children.set(o,ap()),Qo(r.children.get(o),i=Yt(i),n)}}function gu(r,i){if(bt(i))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const n=r.value;return r.value=null,n.forEachChild(nn,(o,l)=>{Qo(r,new kt(o),l)}),gu(r,i)}}if(r.children.size>0){const n=It(i);return i=Yt(i),r.children.has(n)&&gu(r.children.get(n),i)&&r.children.delete(n),0===r.children.size}return!0}function lp(r,i,n){null!==r.value?n(i,r.value):function up(r,i){r.children.forEach((n,o)=>{i(o,n)})}(r,(o,l)=>{lp(l,new kt(i.toString()+"/"+o),n)})}class LT{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),n=Object.assign({},i);return this.last_&&mr(this.last_,(o,l)=>{n[o]=n[o]-l}),this.last_=i,n}}class M0{constructor(i,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LT(i);const o=1e4+2e4*Math.random();ah(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const i=this.statsListener_.get(),n={};let o=!1;mr(i,(l,e)=>{e>0&&(0,P.r3)(this.statsToReport_,l)&&(n[l]=e,o=!0)}),o&&this.server_.reportStats(n),ah(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ho=function(r){return r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",r}(ho||{});function mu(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class hp{constructor(i,n,o){this.path=i,this.affectedTree=n,this.revert=o,this.type=ho.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(bt(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new kt(i));return new hp(xt(),n,this.revert)}}return(0,P.hu)(It(this.path)===i,"operationForChild called for unrelated child."),new hp(Yt(this.path),this.affectedTree,this.revert)}}class $c{constructor(i,n){this.source=i,this.path=n,this.type=ho.LISTEN_COMPLETE}operationForChild(i){return bt(this.path)?new $c(this.source,xt()):new $c(this.source,Yt(this.path))}}class qa{constructor(i,n,o){this.source=i,this.path=n,this.snap=o,this.type=ho.OVERWRITE}operationForChild(i){return bt(this.path)?new qa(this.source,xt(),this.snap.getImmediateChild(i)):new qa(this.source,Yt(this.path),this.snap)}}class Gc{constructor(i,n,o){this.source=i,this.path=n,this.children=o,this.type=ho.MERGE}operationForChild(i){if(bt(this.path)){const n=this.children.subtree(new kt(i));return n.isEmpty()?null:n.value?new qa(this.source,xt(),n.value):new Gc(this.source,xt(),n)}return(0,P.hu)(It(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Gc(this.source,Yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ya{constructor(i,n,o){this.node_=i,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(bt(i))return this.isFullyInitialized()&&!this.filtered_;const n=It(i);return this.isCompleteForChild(n)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class mh{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function _h(r,i,n,o,l,e){const t=o.filter(s=>s.type===n);t.sort((s,a)=>function O0(r,i,n){if(null==i.childName||null==n.childName)throw(0,P.g5)("Should only compare child_ events.");const o=new Et(i.childName,i.snapshotNode),l=new Et(n.childName,n.snapshotNode);return r.index_.compare(o,l)}(r,s,a)),t.forEach(s=>{const a=function N0(r,i,n){return"value"===i.type||"child_removed"===i.type||(i.prevName=n.getPredecessorChildName(i.childName,i.snapshotNode,r.index_)),i}(r,s,e);l.forEach(u=>{u.respondsTo(s.type)&&i.push(u.createEvent(a,r.query_))})})}function fp(r,i){return{eventCache:r,serverCache:i}}function vh(r,i,n,o){return fp(new Ya(i,n,o),r.serverCache)}function NE(r,i,n,o){return fp(r.eventCache,new Ya(i,n,o))}function pp(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Qa(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let yh;class Bt{constructor(i,n=(()=>(yh||(yh=new di(a0)),yh))()){this.value=i,this.children=n}static fromObject(i){let n=new Bt(null);return mr(i,(o,l)=>{n=n.set(new kt(o),l)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,n){if(null!=this.value&&n(this.value))return{path:xt(),value:this.value};if(bt(i))return null;{const o=It(i),l=this.children.get(o);if(null!==l){const e=l.findRootMostMatchingPathAndValue(Yt(i),n);return null!=e?{path:Sn(new kt(o),e.path),value:e.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(bt(i))return this;{const n=It(i),o=this.children.get(n);return null!==o?o.subtree(Yt(i)):new Bt(null)}}set(i,n){if(bt(i))return new Bt(n,this.children);{const o=It(i),e=(this.children.get(o)||new Bt(null)).set(Yt(i),n),t=this.children.insert(o,e);return new Bt(this.value,t)}}remove(i){if(bt(i))return this.children.isEmpty()?new Bt(null):new Bt(null,this.children);{const n=It(i),o=this.children.get(n);if(o){const l=o.remove(Yt(i));let e;return e=l.isEmpty()?this.children.remove(n):this.children.insert(n,l),null===this.value&&e.isEmpty()?new Bt(null):new Bt(this.value,e)}return this}}get(i){if(bt(i))return this.value;{const n=It(i),o=this.children.get(n);return o?o.get(Yt(i)):null}}setTree(i,n){if(bt(i))return n;{const o=It(i),e=(this.children.get(o)||new Bt(null)).setTree(Yt(i),n);let t;return t=e.isEmpty()?this.children.remove(o):this.children.insert(o,e),new Bt(this.value,t)}}fold(i){return this.fold_(xt(),i)}fold_(i,n){const o={};return this.children.inorderTraversal((l,e)=>{o[l]=e.fold_(Sn(i,l),n)}),n(i,this.value,o)}findOnPath(i,n){return this.findOnPath_(i,xt(),n)}findOnPath_(i,n,o){const l=!!this.value&&o(n,this.value);if(l)return l;if(bt(i))return null;{const e=It(i),t=this.children.get(e);return t?t.findOnPath_(Yt(i),Sn(n,e),o):null}}foreachOnPath(i,n){return this.foreachOnPath_(i,xt(),n)}foreachOnPath_(i,n,o){if(bt(i))return this;{this.value&&o(n,this.value);const l=It(i),e=this.children.get(l);return e?e.foreachOnPath_(Yt(i),Sn(n,l),o):new Bt(null)}}foreach(i){this.foreach_(xt(),i)}foreach_(i,n){this.children.inorderTraversal((o,l)=>{l.foreach_(Sn(i,o),n)}),this.value&&n(i,this.value)}foreachChild(i){this.children.inorderTraversal((n,o)=>{o.value&&i(n,o.value)})}}class Ns{constructor(i){this.writeTree_=i}static empty(){return new Ns(new Bt(null))}}function Eh(r,i,n){if(bt(i))return new Ns(new Bt(n));{const o=r.writeTree_.findRootMostValueAndPath(i);if(null!=o){const l=o.path;let e=o.value;const t=kr(l,i);return e=e.updateChild(t,n),new Ns(r.writeTree_.set(l,e))}{const l=new Bt(n),e=r.writeTree_.setTree(i,l);return new Ns(e)}}}function Bm(r,i,n){let o=r;return mr(n,(l,e)=>{o=Eh(o,Sn(i,l),e)}),o}function OE(r,i){if(bt(i))return Ns.empty();{const n=r.writeTree_.setTree(i,new Bt(null));return new Ns(n)}}function jm(r,i){return null!=_u(r,i)}function _u(r,i){const n=r.writeTree_.findRootMostValueAndPath(i);return null!=n?r.writeTree_.get(n.path).getChild(kr(n.path,i)):null}function PE(r){const i=[],n=r.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(nn,(o,l)=>{i.push(new Et(o,l))}):r.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&i.push(new Et(o,l.value))}),i}function Jo(r,i){if(bt(i))return r;{const n=_u(r,i);return new Ns(null!=n?new Bt(n):r.writeTree_.subtree(i))}}function gp(r){return r.writeTree_.isEmpty()}function Wc(r,i){return x0(xt(),r.writeTree_,i)}function x0(r,i,n){if(null!=i.value)return n.updateChild(r,i.value);{let o=null;return i.children.inorderTraversal((l,e)=>{".priority"===l?((0,P.hu)(null!==e.value,"Priority writes must always be leaf nodes"),o=e.value):n=x0(Sn(r,l),e,n)}),!n.getChild(r).isEmpty()&&null!==o&&(n=n.updateChild(Sn(r,".priority"),o)),n}}function Ch(r,i){return Cu(i,r)}function F0(r,i){if(r.snap)return Yr(r.path,i);for(const n in r.children)if(r.children.hasOwnProperty(n)&&Yr(Sn(r.path,n),i))return!0;return!1}function L0(r){return r.visible}function Os(r,i,n){let o=Ns.empty();for(let l=0;l<r.length;++l){const e=r[l];if(i(e)){const t=e.path;let s;if(e.snap)Yr(n,t)?(s=kr(n,t),o=Eh(o,s,e.snap)):Yr(t,n)&&(s=kr(t,n),o=Eh(o,xt(),e.snap.getChild(s)));else{if(!e.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(Yr(n,t))s=kr(n,t),o=Bm(o,s,e.children);else if(Yr(t,n))if(s=kr(t,n),bt(s))o=Bm(o,xt(),e.children);else{const a=(0,P.DV)(e.children,It(s));if(a){const u=a.getChild(Yt(s));o=Eh(o,xt(),u)}}}}}return o}function zc(r,i,n,o,l){if(o||l){const e=Jo(r.visibleWrites,i);return!l&&gp(e)?n:l||null!=n||jm(e,xt())?Wc(Os(r.allWrites,function(u){return(u.visible||l)&&(!o||!~o.indexOf(u.writeId))&&(Yr(u.path,i)||Yr(i,u.path))},i),n||pt.EMPTY_NODE):null}{const e=_u(r.visibleWrites,i);if(null!=e)return e;{const t=Jo(r.visibleWrites,i);return gp(t)?n:null!=n||jm(t,xt())?Wc(t,n||pt.EMPTY_NODE):null}}}function Xo(r,i,n,o){return zc(r.writeTree,r.treePath,i,n,o)}function Ja(r,i){return function Fr(r,i,n){let o=pt.EMPTY_NODE;const l=_u(r.visibleWrites,i);if(l)return l.isLeafNode()||l.forEachChild(nn,(e,t)=>{o=o.updateImmediateChild(e,t)}),o;if(n){const e=Jo(r.visibleWrites,i);return n.forEachChild(nn,(t,s)=>{const a=Wc(Jo(e,new kt(t)),s);o=o.updateImmediateChild(t,a)}),PE(e).forEach(t=>{o=o.updateImmediateChild(t.name,t.node)}),o}return PE(Jo(r.visibleWrites,i)).forEach(t=>{o=o.updateImmediateChild(t.name,t.node)}),o}(r.writeTree,r.treePath,i)}function yu(r,i,n,o){return function vu(r,i,n,o,l){(0,P.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const e=Sn(i,n);if(jm(r.visibleWrites,e))return null;{const t=Jo(r.visibleWrites,e);return gp(t)?l.getChild(n):Wc(t,l.getChild(n))}}(r.writeTree,r.treePath,i,n,o)}function ea(r,i){return function ts(r,i){return _u(r.visibleWrites,i)}(r.writeTree,Sn(r.treePath,i))}function Xa(r,i,n){return function _p(r,i,n,o){const l=Sn(i,n),e=_u(r.visibleWrites,l);return null!=e?e:o.isCompleteForChild(n)?Wc(Jo(r.visibleWrites,l),o.getNode().getImmediateChild(n)):null}(r.writeTree,r.treePath,i,n)}function Eu(r,i){return Cu(Sn(r.treePath,i),r.writeTree)}function Cu(r,i){return{treePath:r,writeTree:i}}class kE{constructor(){this.changeMap=new Map}trackChildChange(i){const n=i.type,o=i.childName;(0,P.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const e=l.type;if("child_added"===n&&"child_removed"===e)this.changeMap.set(o,Bc(o,i.snapshotNode,l.snapshotNode));else if("child_removed"===n&&"child_added"===e)this.changeMap.delete(o);else if("child_removed"===n&&"child_changed"===e)this.changeMap.set(o,ph(o,l.oldSnap));else if("child_changed"===n&&"child_added"===e)this.changeMap.set(o,Ka(o,i.snapshotNode));else{if("child_changed"!==n||"child_changed"!==e)throw(0,P.g5)("Illegal combination of changes: "+i+" occurred after "+l);this.changeMap.set(o,Bc(o,i.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,i)}getChanges(){return Array.from(this.changeMap.values())}}const Gm=new class FE{getCompleteChild(i){return null}getChildAfterChild(i,n,o){return null}};class vp{constructor(i,n,o=null){this.writes_=i,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(i){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(i))return n.getNode().getImmediateChild(i);{const o=null!=this.optCompleteServerCache_?new Ya(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xa(this.writes_,i,o)}}getChildAfterChild(i,n,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qa(this.viewCache_),e=function Kc(r,i,n,o,l,e){return function $m(r,i,n,o,l,e,t){let s;const a=Jo(r.visibleWrites,i),u=_u(a,xt());if(null!=u)s=u;else{if(null==n)return[];s=Wc(a,n)}if(s=s.withIndex(t),s.isEmpty()||s.isLeafNode())return[];{const c=[],f=t.getCompare(),g=e?s.getReverseIteratorFrom(o,t):s.getIteratorFrom(o,t);let _=g.getNext();for(;_&&c.length<l;)0!==f(_,o)&&c.push(_),_=g.getNext();return c}}(r.writeTree,r.treePath,i,n,o,l,e)}(this.writes_,l,n,1,o,i);return 0===e.length?null:e[0]}}function Wm(r,i,n,o,l,e){const t=i.eventCache;if(null!=ea(o,n))return i;{let s,a;if(bt(n))if((0,P.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const u=Qa(i),f=Ja(o,u instanceof pt?u:pt.EMPTY_NODE);s=r.filter.updateFullNode(i.eventCache.getNode(),f,e)}else{const u=Xo(o,Qa(i));s=r.filter.updateFullNode(i.eventCache.getNode(),u,e)}else{const u=It(n);if(".priority"===u){(0,P.hu)(1===Wa(n),"Can't have a priority with additional path components");const c=t.getNode();a=i.serverCache.getNode();const f=yu(o,n,c,a);s=null!=f?r.filter.updatePriority(c,f):t.getNode()}else{const c=Yt(n);let f;if(t.isCompleteForChild(u)){a=i.serverCache.getNode();const g=yu(o,n,t.getNode(),a);f=null!=g?t.getNode().getImmediateChild(u).updateChild(c,g):t.getNode().getImmediateChild(u)}else f=Xa(o,u,i.serverCache);s=null!=f?r.filter.updateChild(t.getNode(),u,f,c,l,e):t.getNode()}}return vh(i,s,t.isFullyInitialized()||bt(n),r.filter.filtersNodes())}}function qc(r,i,n,o,l,e,t,s){const a=i.serverCache;let u;const c=t?r.filter:r.filter.getIndexedFilter();if(bt(n))u=c.updateFullNode(a.getNode(),o,null);else if(c.filtersNodes()&&!a.isFiltered()){const _=a.getNode().updateChild(n,o);u=c.updateFullNode(a.getNode(),_,null)}else{const _=It(n);if(!a.isCompleteForPath(n)&&Wa(n)>1)return i;const C=Yt(n),O=a.getNode().getImmediateChild(_).updateChild(C,o);u=".priority"===_?c.updatePriority(a.getNode(),O):c.updateChild(a.getNode(),_,O,C,Gm,null)}const f=NE(i,u,a.isFullyInitialized()||bt(n),c.filtersNodes());return Wm(r,f,n,l,new vp(l,f,e),s)}function zm(r,i,n,o,l,e,t){const s=i.eventCache;let a,u;const c=new vp(l,i,e);if(bt(n))u=r.filter.updateFullNode(i.eventCache.getNode(),o,t),a=vh(i,u,!0,r.filter.filtersNodes());else{const f=It(n);if(".priority"===f)u=r.filter.updatePriority(i.eventCache.getNode(),o),a=vh(i,u,s.isFullyInitialized(),s.isFiltered());else{const g=Yt(n),_=s.getNode().getImmediateChild(f);let C;if(bt(g))C=o;else{const w=c.getCompleteChild(f);C=null!=w?".priority"===Nm(g)&&w.getChild(dE(g)).isEmpty()?w:w.updateChild(g,o):pt.EMPTY_NODE}a=_.equals(C)?i:vh(i,r.filter.updateChild(s.getNode(),f,C,g,c,t),s.isFullyInitialized(),r.filter.filtersNodes())}}return a}function V0(r,i){return r.eventCache.isCompleteForChild(i)}function jE(r,i,n){return n.foreach((o,l)=>{i=i.updateChild(o,l)}),i}function Zm(r,i,n,o,l,e,t,s){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let u,a=i;u=bt(n)?o:new Bt(null).setTree(n,o);const c=i.serverCache.getNode();return u.children.inorderTraversal((f,g)=>{if(c.hasChild(f)){const C=jE(0,i.serverCache.getNode().getImmediateChild(f),g);a=qc(r,a,new kt(f),C,l,e,t,s)}}),u.children.inorderTraversal((f,g)=>{const _=!i.serverCache.isCompleteForChild(f)&&null===g.value;if(!c.hasChild(f)&&!_){const w=jE(0,i.serverCache.getNode().getImmediateChild(f),g);a=qc(r,a,new kt(f),w,l,e,t,s)}}),a}class B0{constructor(i,n){this.query_=i,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new tp(o.getIndex()),e=function FT(r){return r.loadsAllData()?new tp(r.getIndex()):r.hasLimit()?new np(r):new jc(r)}(o);this.processor_=function LE(r){return{filter:r}}(e);const t=n.serverCache,s=n.eventCache,a=l.updateFullNode(pt.EMPTY_NODE,t.getNode(),null),u=e.updateFullNode(pt.EMPTY_NODE,s.getNode(),null),c=new Ya(a,t.isFullyInitialized(),l.filtersNodes()),f=new Ya(u,s.isFullyInitialized(),e.filtersNodes());this.viewCache_=fp(f,c),this.eventGenerator_=new mh(this.query_)}get query(){return this.query_}}function Km(r,i){const n=Qa(r.viewCache_);return n&&(r.query._queryParams.loadsAllData()||!bt(i)&&!n.getImmediateChild(It(i)).isEmpty())?n.getChild(i):null}function Yc(r){return 0===r.eventRegistrations_.length}function Ih(r,i,n){const o=[];if(n){(0,P.hu)(null==i,"A cancel should cancel all event registrations.");const l=r.query._path;r.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,l);t&&o.push(t)})}if(i){let l=[];for(let e=0;e<r.eventRegistrations_.length;++e){const t=r.eventRegistrations_[e];if(t.matches(i)){if(i.hasAnyCallback()){l=l.concat(r.eventRegistrations_.slice(e+1));break}}else l.push(t)}r.eventRegistrations_=l}else r.eventRegistrations_=[];return o}function Ym(r,i,n,o){i.type===ho.MERGE&&null!==i.source.queryId&&((0,P.hu)(Qa(r.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(pp(r.viewCache_),"Missing event cache, even though we have a server cache"));const l=r.viewCache_,e=function UE(r,i,n,o,l){const e=new kE;let t,s;if(n.type===ho.OVERWRITE){const u=n;u.source.fromUser?t=zm(r,i,u.path,u.snap,o,l,e):((0,P.hu)(u.source.fromServer,"Unknown source."),s=u.source.tagged||i.serverCache.isFiltered()&&!bt(u.path),t=qc(r,i,u.path,u.snap,o,l,s,e))}else if(n.type===ho.MERGE){const u=n;u.source.fromUser?t=function UT(r,i,n,o,l,e,t){let s=i;return o.foreach((a,u)=>{const c=Sn(n,a);V0(i,It(c))&&(s=zm(r,s,c,u,l,e,t))}),o.foreach((a,u)=>{const c=Sn(n,a);V0(i,It(c))||(s=zm(r,s,c,u,l,e,t))}),s}(r,i,u.path,u.children,o,l,e):((0,P.hu)(u.source.fromServer,"Unknown source."),s=u.source.tagged||i.serverCache.isFiltered(),t=Zm(r,i,u.path,u.children,o,l,s,e))}else if(n.type===ho.ACK_USER_WRITE){const u=n;t=u.revert?function jT(r,i,n,o,l,e){let t;if(null!=ea(o,n))return i;{const s=new vp(o,i,l),a=i.eventCache.getNode();let u;if(bt(n)||".priority"===It(n)){let c;if(i.serverCache.isFullyInitialized())c=Xo(o,Qa(i));else{const f=i.serverCache.getNode();(0,P.hu)(f instanceof pt,"serverChildren would be complete if leaf node"),c=Ja(o,f)}u=r.filter.updateFullNode(a,c,e)}else{const c=It(n);let f=Xa(o,c,i.serverCache);null==f&&i.serverCache.isCompleteForChild(c)&&(f=a.getImmediateChild(c)),u=null!=f?r.filter.updateChild(a,c,f,Yt(n),s,e):i.eventCache.getNode().hasChild(c)?r.filter.updateChild(a,c,pt.EMPTY_NODE,Yt(n),s,e):a,u.isEmpty()&&i.serverCache.isFullyInitialized()&&(t=Xo(o,Qa(i)),t.isLeafNode()&&(u=r.filter.updateFullNode(u,t,e)))}return t=i.serverCache.isFullyInitialized()||null!=ea(o,xt()),vh(i,u,t,r.filter.filtersNodes())}}(r,i,u.path,o,l,e):function BT(r,i,n,o,l,e,t){if(null!=ea(l,n))return i;const s=i.serverCache.isFiltered(),a=i.serverCache;if(null!=o.value){if(bt(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return qc(r,i,n,a.getNode().getChild(n),l,e,s,t);if(bt(n)){let u=new Bt(null);return a.getNode().forEachChild(Xi,(c,f)=>{u=u.set(new kt(c),f)}),Zm(r,i,n,u,l,e,s,t)}return i}{let u=new Bt(null);return o.foreach((c,f)=>{const g=Sn(n,c);a.isCompleteForPath(g)&&(u=u.set(c,a.getNode().getChild(g)))}),Zm(r,i,n,u,l,e,s,t)}}(r,i,u.path,u.affectedTree,o,l,e)}else{if(n.type!==ho.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+n.type);t=function U0(r,i,n,o,l){const e=i.serverCache;return Wm(r,NE(i,e.getNode(),e.isFullyInitialized()||bt(n),e.isFiltered()),n,o,Gm,l)}(r,i,n.path,o,e)}const a=e.getChanges();return function BE(r,i,n){const o=i.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),e=pp(r);(n.length>0||!r.eventCache.isFullyInitialized()||l&&!o.getNode().equals(e)||!o.getNode().getPriority().equals(e.getPriority()))&&n.push(Rs(pp(i)))}}(i,t,a),{viewCache:t,changes:a}}(r.processor_,l,i,n,o);return function VE(r,i){(0,P.hu)(i.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(i.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,e.viewCache),(0,P.hu)(e.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=e.viewCache,Qm(r,e.changes,e.viewCache.eventCache.getNode(),null)}function Qm(r,i,n,o){return function R0(r,i,n,o){const l=[],e=[];return i.forEach(t=>{"child_changed"===t.type&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&e.push(function A0(r,i){return{type:"child_moved",snapshotNode:i,childName:r}}(t.childName,t.snapshotNode))}),_h(r,l,"child_removed",i,o,n),_h(r,l,"child_added",i,o,n),_h(r,l,"child_moved",e,o,n),_h(r,l,"child_changed",i,o,n),_h(r,l,"value",i,o,n),l}(r.eventGenerator_,i,n,o?[o]:r.eventRegistrations_)}let yp,wp;class Qc{constructor(){this.views=new Map}}function Jm(r,i,n,o){const l=i.source.queryId;if(null!==l){const e=r.views.get(l);return(0,P.hu)(null!=e,"SyncTree gave us an op for an invalid query."),Ym(e,i,n,o)}{let e=[];for(const t of r.views.values())e=e.concat(Ym(t,i,n,o));return e}}function Ep(r,i,n,o,l){const t=r.views.get(i._queryIdentifier);if(!t){let s=Xo(n,l?o:null),a=!1;s?a=!0:o instanceof pt?(s=Ja(n,o),a=!1):(s=pt.EMPTY_NODE,a=!1);const u=fp(new Ya(s,a,!1),new Ya(o,l,!1));return new B0(i,u)}return t}function z0(r){const i=[];for(const n of r.views.values())n.query._queryParams.loadsAllData()||i.push(n);return i}function el(r,i){let n=null;for(const o of r.views.values())n=n||Km(o,i);return n}function HE(r,i){return i._queryParams.loadsAllData()?wh(r):r.views.get(i._queryIdentifier)}function Dp(r,i){return null!=HE(r,i)}function tl(r){return null!=wh(r)}function wh(r){for(const i of r.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let GE=1;class Xm{constructor(i){this.listenProvider_=i,this.syncPointTree_=new Bt(null),this.pendingWriteTree_=function Zc(){return{visibleWrites:Ns.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function e_(r,i,n,o,l){return function xE(r,i,n,o,l){(0,P.hu)(o>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),r.allWrites.push({path:i,snap:n,writeId:o,visible:l}),l&&(r.visibleWrites=Eh(r.visibleWrites,i,n)),r.lastWriteId=o}(r.pendingWriteTree_,i,n,o,l),l?Jc(r,new qa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,n)):[]}function nl(r,i,n=!1){const o=function mp(r,i){for(let n=0;n<r.allWrites.length;n++){const o=r.allWrites[n];if(o.writeId===i)return o}return null}(r.pendingWriteTree_,i);if(function k0(r,i){const n=r.allWrites.findIndex(s=>s.writeId===i);(0,P.hu)(n>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[n];r.allWrites.splice(n,1);let l=o.visible,e=!1,t=r.allWrites.length-1;for(;l&&t>=0;){const s=r.allWrites[t];s.visible&&(t>=n&&F0(s,o.path)?l=!1:Yr(o.path,s.path)&&(e=!0)),t--}return!!l&&(e?(function Hm(r){r.visibleWrites=Os(r.allWrites,L0,xt()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(o.snap?r.visibleWrites=OE(r.visibleWrites,o.path):mr(o.children,a=>{r.visibleWrites=OE(r.visibleWrites,Sn(o.path,a))}),!0))}(r.pendingWriteTree_,i)){let e=new Bt(null);return null!=o.snap?e=e.set(xt(),!0):mr(o.children,t=>{e=e.set(new kt(t),!0)}),Jc(r,new hp(o.path,e,n))}return[]}function bh(r,i,n){return Jc(r,new qa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,n))}function Iu(r,i,n,o,l=!1){const e=i._path,t=r.syncPointTree_.get(e);let s=[];if(t&&("default"===i._queryIdentifier||Dp(t,i))){const a=function Ip(r,i,n,o){const l=i._queryIdentifier,e=[];let t=[];const s=tl(r);if("default"===l)for(const[a,u]of r.views.entries())t=t.concat(Ih(u,n,o)),Yc(u)&&(r.views.delete(a),u.query._queryParams.loadsAllData()||e.push(u.query));else{const a=r.views.get(l);a&&(t=t.concat(Ih(a,n,o)),Yc(a)&&(r.views.delete(l),a.query._queryParams.loadsAllData()||e.push(a.query)))}return s&&!tl(r)&&e.push(new(function G0(){return(0,P.hu)(yp,"Reference.ts has not been loaded"),yp}())(i._repo,i._path)),{removed:e,events:t}}(t,i,n,o);(function W0(r){return 0===r.views.size})(t)&&(r.syncPointTree_=r.syncPointTree_.remove(e));const u=a.removed;if(s=a.events,!l){const c=-1!==u.findIndex(g=>g._queryParams.loadsAllData()),f=r.syncPointTree_.findOnPath(e,(g,_)=>tl(_));if(c&&!f){const g=r.syncPointTree_.subtree(e);if(!g.isEmpty()){const _=function WE(r){return r.fold((i,n,o)=>{if(n&&tl(n))return[wh(n)];{let l=[];return n&&(l=z0(n)),mr(o,(e,t)=>{l=l.concat(t)}),l}})}(g);for(let C=0;C<_.length;++C){const w=_[C],O=w.query,L=i_(r,w);r.listenProvider_.startListening(Du(O),Xc(r,O),L.hashFn,L.onComplete)}}}!f&&u.length>0&&!o&&(c?r.listenProvider_.stopListening(Du(i),null):u.forEach(g=>{const _=r.queryToTagMap.get(Mp(g));r.listenProvider_.stopListening(Du(g),_)}))}!function zE(r,i){for(let n=0;n<i.length;++n){const o=i[n];if(!o._queryParams.loadsAllData()){const l=Mp(o),e=r.queryToTagMap.get(l);r.queryToTagMap.delete(l),r.tagToQueryMap.delete(e)}}}(r,u)}return s}function Th(r,i,n,o){const l=s_(r,o);if(null!=l){const e=Rp(l),t=e.path,s=e.queryId,a=kr(t,i);return Sh(r,t,new qa(mu(s),a,n))}return[]}function bp(r,i,n,o=!1){const l=i._path;let e=null,t=!1;r.syncPointTree_.foreachOnPath(l,(g,_)=>{const C=kr(g,l);e=e||el(_,C),t=t||tl(_)});let a,s=r.syncPointTree_.get(l);s?(t=t||tl(s),e=e||el(s,xt())):(s=new Qc,r.syncPointTree_=r.syncPointTree_.set(l,s)),null!=e?a=!0:(a=!1,e=pt.EMPTY_NODE,r.syncPointTree_.subtree(l).foreachChild((_,C)=>{const w=el(C,xt());w&&(e=e.updateImmediateChild(_,w))}));const u=Dp(s,i);if(!u&&!i._queryParams.loadsAllData()){const g=Mp(i);(0,P.hu)(!r.queryToTagMap.has(g),"View does not exist, but we have a tag");const _=function Q0(){return GE++}();r.queryToTagMap.set(g,_),r.tagToQueryMap.set(_,g)}let f=function Cp(r,i,n,o,l,e){const t=Ep(r,i,o,l,e);return r.views.has(i._queryIdentifier)||r.views.set(i._queryIdentifier,t),function qm(r,i){r.eventRegistrations_.push(i)}(t,n),function Dh(r,i){const n=r.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(nn,(e,t)=>{o.push(Ka(e,t))}),n.isFullyInitialized()&&o.push(Rs(n.getNode())),Qm(r,o,n.getNode(),i)}(t,n)}(s,i,n,Ch(r.pendingWriteTree_,l),e,a);if(!u&&!t&&!o){const g=HE(s,i);f=f.concat(function ZE(r,i,n){const o=i._path,l=Xc(r,i),e=i_(r,n),t=r.listenProvider_.startListening(Du(i),l,e.hashFn,e.onComplete),s=r.syncPointTree_.subtree(o);if(l)(0,P.hu)(!tl(s.value),"If we're adding a query, it shouldn't be shadowed");else{const a=s.fold((u,c,f)=>{if(!bt(u)&&c&&tl(c))return[wh(c).query];{let g=[];return c&&(g=g.concat(z0(c).map(_=>_.query))),mr(f,(_,C)=>{g=g.concat(C)}),g}});for(let u=0;u<a.length;++u){const c=a[u];r.listenProvider_.stopListening(Du(c),Xc(r,c))}}return t}(r,i,g))}return f}function Tp(r,i,n){const l=r.pendingWriteTree_,e=r.syncPointTree_.findOnPath(i,(t,s)=>{const u=el(s,kr(t,i));if(u)return u});return zc(l,i,e,n,!0)}function Jc(r,i){return Sp(i,r.syncPointTree_,null,Ch(r.pendingWriteTree_,xt()))}function Sp(r,i,n,o){if(bt(r.path))return Ap(r,i,n,o);{const l=i.get(xt());null==n&&null!=l&&(n=el(l,xt()));let e=[];const t=It(r.path),s=r.operationForChild(t),a=i.children.get(t);if(a&&s){const u=n?n.getImmediateChild(t):null,c=Eu(o,t);e=e.concat(Sp(s,a,u,c))}return l&&(e=e.concat(Jm(l,r,o,n))),e}}function Ap(r,i,n,o){const l=i.get(xt());null==n&&null!=l&&(n=el(l,xt()));let e=[];return i.children.inorderTraversal((t,s)=>{const a=n?n.getImmediateChild(t):null,u=Eu(o,t),c=r.operationForChild(t);c&&(e=e.concat(Ap(c,s,a,u)))}),l&&(e=e.concat(Jm(l,r,o,n))),e}function i_(r,i){const n=i.query,o=Xc(r,n);return{hashFn:()=>(function j0(r){return r.viewCache_.serverCache.getNode()}(i)||pt.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function q0(r,i,n){const o=s_(r,n);if(o){const l=Rp(o),e=l.path,t=l.queryId,s=kr(e,i);return Sh(r,e,new $c(mu(t),s))}return[]}(r,n._path,o):function n_(r,i){return Jc(r,new $c({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(r,n._path);{const e=function fm(r,i){let n="Unknown Error";"too_big"===r?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?n="Client doesn't have permission to access the desired data.":"unavailable"===r&&(n="The service is unavailable");const o=new Error(r+" at "+i._path.toString()+": "+n);return o.code=r.toUpperCase(),o}(l,n);return Iu(r,n,null,e)}}}}function Xc(r,i){const n=Mp(i);return r.queryToTagMap.get(n)}function Mp(r){return r._path.toString()+"$"+r._queryIdentifier}function s_(r,i){return r.tagToQueryMap.get(i)}function Rp(r){const i=r.indexOf("$");return(0,P.hu)(-1!==i&&i<r.length-1,"Bad queryKey."),{queryId:r.substr(i+1),path:new kt(r.substr(0,i))}}function Sh(r,i,n){const o=r.syncPointTree_.get(i);return(0,P.hu)(o,"Missing sync point for query tag that we're tracking"),Jm(o,n,Ch(r.pendingWriteTree_,i),null)}function Du(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function $E(){return(0,P.hu)(wp,"Reference.ts has not been loaded"),wp}())(r._repo,r._path):r}class Np{constructor(i){this.node_=i}getImmediateChild(i){const n=this.node_.getImmediateChild(i);return new Np(n)}node(){return this.node_}}class Op{constructor(i,n){this.syncTree_=i,this.path_=n}getImmediateChild(i){const n=Sn(this.path_,i);return new Op(this.syncTree_,n)}node(){return Tp(this.syncTree_,this.path_)}}const KE=function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r},qE=function(r,i,n){return r&&"object"==typeof r?((0,P.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?J0(r[".sv"],i,n):"object"==typeof r[".sv"]?X0(r[".sv"],i):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},J0=function(r,i,n){if("timestamp"===r)return n.timestamp;(0,P.hu)(!1,"Unexpected server value: "+r)},X0=function(r,i,n){r.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;"number"!=typeof o&&(0,P.hu)(!1,"Unexpected increment value: "+o);const l=i.node();if((0,P.hu)(null!==l&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const t=l.getValue();return"number"!=typeof t?o:t+o},o_=function(r,i,n,o){return Pp(i,new Op(n,r),o)},Ah=function(r,i,n){return Pp(r,new Np(i),n)};function Pp(r,i,n){const o=r.getPriority().val(),l=qE(o,i.getImmediateChild(".priority"),n);let e;if(r.isLeafNode()){const t=r,s=qE(t.getValue(),i,n);return s!==t.getValue()||l!==t.getPriority().val()?new fu(s,An(l)):r}{const t=r;return e=t,l!==t.getPriority().val()&&(e=e.updatePriority(new fu(l))),t.forEachChild(nn,(s,a)=>{const u=Pp(a,i.getImmediateChild(s),n);u!==a&&(e=e.updateImmediateChild(s,u))}),e}}class xp{constructor(i="",n=null,o={children:{},childCount:0}){this.name=i,this.parent=n,this.node=o}}function Mh(r,i){let n=i instanceof kt?i:new kt(i),o=r,l=It(n);for(;null!==l;){const e=(0,P.DV)(o.node.children,l)||{children:{},childCount:0};o=new xp(l,o,e),n=Yt(n),l=It(n)}return o}function rl(r){return r.node.value}function kp(r,i){r.node.value=i,l_(r)}function a_(r){return r.node.childCount>0}function Rh(r,i){mr(r.node.children,(n,o)=>{i(new xp(n,r,o))})}function Nh(r,i,n,o){n&&!o&&i(r),Rh(r,l=>{Nh(l,i,!0,o)}),n&&o&&i(r)}function Oh(r){return new kt(null===r.parent?r.name:Oh(r.parent)+"/"+r.name)}function l_(r){null!==r.parent&&function u_(r,i,n){const o=function YE(r){return void 0===rl(r)&&!a_(r)}(n),l=(0,P.r3)(r.node.children,i);o&&l?(delete r.node.children[i],r.node.childCount--,l_(r)):!o&&!l&&(r.node.children[i]=n.node,r.node.childCount++,l_(r))}(r.parent,r.name,r)}const wu=/[\[\].#$\/\u0000-\u001F\u007F]/,c_=/[\[\].#$\u0000-\u001F\u007F]/,d_=10485760,ed=function(r){return"string"==typeof r&&0!==r.length&&!wu.test(r)},ew=function(r){return"string"==typeof r&&0!==r.length&&!c_.test(r)},Ph=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!Mc(r)||r&&"object"==typeof r&&(0,P.r3)(r,".sv")},fo=function(r,i,n,o){o&&void 0===i||td((0,P.gK)(r,"value"),i,n)},td=function(r,i,n){const o=n instanceof kt?new xT(n,r):n;if(void 0===i)throw new Error(r+"contains undefined "+za(o));if("function"==typeof i)throw new Error(r+"contains a function "+za(o)+" with contents = "+i.toString());if(Mc(i))throw new Error(r+"contains "+i.toString()+" "+za(o));if("string"==typeof i&&i.length>d_/3&&(0,P.ug)(i)>d_)throw new Error(r+"contains a string greater than "+d_+" utf8 bytes "+za(o)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let l=!1,e=!1;if(mr(i,(t,s)=>{if(".value"===t)l=!0;else if(".priority"!==t&&".sv"!==t&&(e=!0,!ed(t)))throw new Error(r+" contains an invalid key ("+t+") "+za(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function pE(r,i){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(i),r.byteLength_+=(0,P.ug)(i),mE(r)})(o,t),td(r,s,o),function gE(r){const i=r.parts_.pop();r.byteLength_-=(0,P.ug)(i),r.parts_.length>0&&(r.byteLength_-=1)}(o)}),l&&e)throw new Error(r+' contains ".value" child '+za(o)+" in addition to actual children.")}},Yn=function(r,i,n,o){if(o&&void 0===i)return;const l=(0,P.gK)(r,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(l+" must be an object containing the children to replace.");const e=[];mr(i,(t,s)=>{const a=new kt(t);if(td(l,s,Sn(n,a)),".priority"===Nm(a)&&!Ph(s))throw new Error(l+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(a)}),function(r,i){let n,o;for(n=0;n<i.length;n++){o=i[n];const e=Qf(o);for(let t=0;t<e.length;t++)if((".priority"!==e[t]||t!==e.length-1)&&!ed(e[t]))throw new Error(r+"contains an invalid key ("+e[t]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(hE);let l=null;for(n=0;n<i.length;n++){if(o=i[n],null!==l&&Yr(l,o))throw new Error(r+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,e)},Fp=function(r,i,n){if(!n||void 0!==i){if(Mc(i))throw new Error((0,P.gK)(r,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ph(i))throw new Error((0,P.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xh=function(r,i,n,o){if(!(o&&void 0===n||ed(n)))throw new Error((0,P.gK)(r,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},kh=function(r,i,n,o){if(!(o&&void 0===n||ew(n)))throw new Error((0,P.gK)(r,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},QE=function(r,i,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kh(r,i,n,o)},ns=function(r,i){if(".info"===It(i))throw new Error(r+" failed = Can't modify data under /.info/")},h_=function(r,i){const n=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!ed(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==n.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),ew(r)}(n))throw new Error((0,P.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class JE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ta(r,i){let n=null;for(let o=0;o<i.length;o++){const l=i[o],e=l.getPath();null!==n&&!fE(e,n.path)&&(r.eventLists_.push(n),n=null),null===n&&(n={events:[],path:e}),n.events.push(l)}n&&r.eventLists_.push(n)}function XE(r,i,n){ta(r,n),f_(r,o=>fE(o,i))}function Si(r,i,n){ta(r,n),f_(r,o=>Yr(o,i)||Yr(i,o))}function f_(r,i){r.recursionDepth_++;let n=!0;for(let o=0;o<r.eventLists_.length;o++){const l=r.eventLists_[o];l&&(i(l.path)?(nw(r.eventLists_[o]),r.eventLists_[o]=null):n=!1)}n&&(r.eventLists_=[]),r.recursionDepth_--}function nw(r){for(let i=0;i<r.events.length;i++){const n=r.events[i];if(null!==n){r.events[i]=null;const o=n.getEventRunner();Ko&&Un("event: "+n.toString()),Rc(o)}}}const p_="repo_interrupt",$T=25;class eC{constructor(i,n,o,l){this.repoInfo_=i,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ap(),this.transactionQueueTree_=new xp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ps(r){const n=r.infoData_.getNode(new kt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Fh(r){return KE({timestamp:Ps(r)})}function tC(r,i,n,o,l){r.dataUpdateCount++;const e=new kt(i);n=r.interceptServerDataCallback_?r.interceptServerDataCallback_(i,n):n;let t=[];if(l)if(o){const a=(0,P.UI)(n,u=>An(u));t=function r_(r,i,n,o){const l=s_(r,o);if(l){const e=Rp(l),t=e.path,s=e.queryId,a=kr(t,i),u=Bt.fromObject(n);return Sh(r,t,new Gc(mu(s),a,u))}return[]}(r.serverSyncTree_,e,a,l)}else{const a=An(n);t=Th(r.serverSyncTree_,e,a,l)}else if(o){const a=(0,P.UI)(n,u=>An(u));t=function t_(r,i,n){const o=Bt.fromObject(n);return Jc(r,new Gc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}(r.serverSyncTree_,e,a)}else{const a=An(n);t=bh(r.serverSyncTree_,e,a)}let s=e;t.length>0&&(s=nd(r,e)),Si(r.eventQueue_,s,t)}function xs(r,i){Ai(r,"connected",i),!1===i&&function iw(r){bu(r,"onDisconnectEvents");const i=Fh(r),n=ap();lp(r.onDisconnect_,xt(),(l,e)=>{const t=o_(l,e,r.serverSyncTree_,i);Qo(n,l,t)});let o=[];lp(n,xt(),(l,e)=>{o=o.concat(bh(r.serverSyncTree_,l,e));const t=jp(r,l);nd(r,t)}),r.onDisconnect_=ap(),Si(r.eventQueue_,xt(),o)}(r)}function Ai(r,i,n){const o=new kt("/.info/"+i),l=An(n);r.infoData_.updateSnapshot(o,l);const e=bh(r.infoSyncTree_,o,l);Si(r.eventQueue_,o,e)}function Lh(r){return r.nextWriteId_++}function m_(r,i,n,o,l){bu(r,"set",{path:i.toString(),value:n,priority:o});const e=Fh(r),t=An(n,o),s=Tp(r.serverSyncTree_,i),a=Ah(t,s,e),u=Lh(r),c=e_(r.serverSyncTree_,i,a,u,!0);ta(r.eventQueue_,c),r.server_.put(i.toString(),t.val(!0),(g,_)=>{const C="ok"===g;C||ir("set at "+i+" failed: "+g);const w=nl(r.serverSyncTree_,u,!C);Si(r.eventQueue_,i,w),Fs(0,l,g,_)});const f=jp(r,i);nd(r,f),Si(r.eventQueue_,f,[])}function sw(r,i,n){r.server_.onDisconnectCancel(i.toString(),(o,l)=>{"ok"===o&&gu(r.onDisconnect_,i),Fs(0,n,o,l)})}function Lp(r,i,n,o){const l=An(n);r.server_.onDisconnectPut(i.toString(),l.val(!0),(e,t)=>{"ok"===e&&Qo(r.onDisconnect_,i,l),Fs(0,o,e,t)})}function __(r,i,n){let o;o=".info"===It(i._path)?Iu(r.infoSyncTree_,i,n):Iu(r.serverSyncTree_,i,n),XE(r.eventQueue_,i._path,o)}function iC(r){r.persistentConnection_&&r.persistentConnection_.interrupt(p_)}function bu(r,...i){let n="";r.persistentConnection_&&(n=r.persistentConnection_.id+":"),Un(n,...i)}function Fs(r,i,n,o){i&&Rc(()=>{if("ok"===n)i(null);else{const l=(n||"error").toUpperCase();let e=l;o&&(e+=": "+o);const t=new Error(e);t.code=l,i(t)}})}function Vp(r,i,n){return Tp(r.serverSyncTree_,i,n)||pt.EMPTY_NODE}function Uh(r,i=r.transactionQueueTree_){if(i||Bh(r,i),rl(i)){const n=Bp(r,i);(0,P.hu)(n.length>0,"Sending zero length transaction queue"),n.every(l=>0===l.status)&&function oC(r,i,n){const o=n.map(u=>u.currentWriteId),l=Vp(r,i,o);let e=l;const t=l.hash();for(let u=0;u<n.length;u++){const c=n[u];(0,P.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const f=kr(i,c.path);e=e.updateChild(f,c.currentOutputSnapshotRaw)}const s=e.val(!0),a=i;r.server_.put(a.toString(),s,u=>{bu(r,"transaction put response",{path:a.toString(),status:u});let c=[];if("ok"===u){const f=[];for(let g=0;g<n.length;g++)n[g].status=2,c=c.concat(nl(r.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&f.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Bh(r,Mh(r.transactionQueueTree_,i)),Uh(r,r.transactionQueueTree_),Si(r.eventQueue_,i,c);for(let g=0;g<f.length;g++)Rc(f[g])}else{if("datastale"===u)for(let f=0;f<n.length;f++)n[f].status=3===n[f].status?4:0;else{ir("transaction at "+a.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}nd(r,i)}},t)}(r,Oh(i),n)}else a_(i)&&Rh(i,n=>{Uh(r,n)})}function nd(r,i){const n=Up(r,i),o=Oh(n);return function lw(r,i,n){if(0===i.length)return;const o=[];let l=[];const t=i.filter(s=>0===s.status).map(s=>s.currentWriteId);for(let s=0;s<i.length;s++){const a=i[s],u=kr(n,a.path);let f,c=!1;if((0,P.hu)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)c=!0,f=a.abortReason,l=l.concat(nl(r.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=$T)c=!0,f="maxretry",l=l.concat(nl(r.serverSyncTree_,a.currentWriteId,!0));else{const g=Vp(r,a.path,t);a.currentInputSnapshot=g;const _=i[s].update(g.val());if(void 0!==_){td("transaction failed: Data returned ",_,a.path);let C=An(_);"object"==typeof _&&null!=_&&(0,P.r3)(_,".priority")||(C=C.updatePriority(g.getPriority()));const O=a.currentWriteId,L=Fh(r),j=Ah(C,g,L);a.currentOutputSnapshotRaw=C,a.currentOutputSnapshotResolved=j,a.currentWriteId=Lh(r),t.splice(t.indexOf(O),1),l=l.concat(e_(r.serverSyncTree_,a.path,j,a.currentWriteId,a.applyLocally)),l=l.concat(nl(r.serverSyncTree_,O,!0))}else c=!0,f="nodata",l=l.concat(nl(r.serverSyncTree_,a.currentWriteId,!0))}Si(r.eventQueue_,n,l),l=[],c&&(i[s].status=2,setTimeout(i[s].unwatcher,Math.floor(0)),i[s].onComplete&&o.push("nodata"===f?()=>i[s].onComplete(null,!1,i[s].currentInputSnapshot):()=>i[s].onComplete(new Error(f),!1,null)))}Bh(r,r.transactionQueueTree_);for(let s=0;s<o.length;s++)Rc(o[s]);Uh(r,r.transactionQueueTree_)}(r,Bp(r,n),o),o}function Up(r,i){let n,o=r.transactionQueueTree_;for(n=It(i);null!==n&&void 0===rl(o);)o=Mh(o,n),n=It(i=Yt(i));return o}function Bp(r,i){const n=[];return v_(r,i,n),n.sort((o,l)=>o.order-l.order),n}function v_(r,i,n){const o=rl(i);if(o)for(let l=0;l<o.length;l++)n.push(o[l]);Rh(i,l=>{v_(r,l,n)})}function Bh(r,i){const n=rl(i);if(n){let o=0;for(let l=0;l<n.length;l++)2!==n[l].status&&(n[o]=n[l],o++);n.length=o,kp(i,n.length>0?n:void 0)}Rh(i,o=>{Bh(r,o)})}function jp(r,i){const n=Oh(Up(r,i)),o=Mh(r.transactionQueueTree_,i);return function il(r,i,n){let o=n?r:r.parent;for(;null!==o;){if(i(o))return!0;o=o.parent}}(o,l=>{Hp(r,l)}),Hp(r,o),Nh(o,l=>{Hp(r,l)}),n}function Hp(r,i){const n=rl(i);if(n){const o=[];let l=[],e=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,P.hu)(e===t-1,"All SENT items should be at beginning of queue."),e=t,n[t].status=3,n[t].abortReason="set"):((0,P.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),l=l.concat(nl(r.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&o.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===e?kp(i,void 0):n.length=e+1,Si(r.eventQueue_,Oh(i),l);for(let t=0;t<o.length;t++)Rc(o[t])}}const $p=function(r,i){const n=uC(r),o=n.namespace;return"firebase.com"===n.domain&&Yi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==n.domain&&Yi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new uh(n.host,n.secure,o,"ws"===n.scheme||"wss"===n.scheme,i,"",o!==n.subdomain),path:new kt(n.pathString)}},uC=function(r){let i="",n="",o="",l="",e="",t=!0,s="https",a=443;if("string"==typeof r){let u=r.indexOf("//");u>=0&&(s=r.substring(0,u-1),r=r.substring(u+2));let c=r.indexOf("/");-1===c&&(c=r.length);let f=r.indexOf("?");-1===f&&(f=r.length),i=r.substring(0,Math.min(c,f)),c<f&&(l=function aC(r){let i="";const n=r.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let l=n[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}i+="/"+l}return i}(r.substring(c,f)));const g=function lC(r){const i={};"?"===r.charAt(0)&&(r=r.substring(1));for(const n of r.split("&")){if(0===n.length)continue;const o=n.split("=");2===o.length?i[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ir(`Invalid query segment '${n}' in query '${r}'`)}return i}(r.substring(Math.min(r.length,f)));u=i.indexOf(":"),u>=0?(t="https"===s||"wss"===s,a=parseInt(i.substring(u+1),10)):u=i.length;const _=i.slice(0,u);if("localhost"===_.toLowerCase())n="localhost";else if(_.split(".").length<=2)n=_;else{const C=i.indexOf(".");o=i.substring(0,C).toLowerCase(),n=i.substring(C+1),e=o}"ns"in g&&(e=g.ns)}return{host:i,port:a,domain:n,subdomain:o,secure:t,scheme:s,pathString:l,namespace:e}},cC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",uw=function(){let r=0;const i=[];return function(n){const o=n===r;let l;r=n;const e=new Array(8);for(l=7;l>=0;l--)e[l]=cC.charAt(n%64),n=Math.floor(n/64);(0,P.hu)(0===n,"Cannot push at time == 0");let t=e.join("");if(o){for(l=11;l>=0&&63===i[l];l--)i[l]=0;i[l]++}else for(l=0;l<12;l++)i[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)t+=cC.charAt(i[l]);return(0,P.hu)(20===t.length,"nextPushId: Length should be 20."),t}}();class dC{constructor(i,n,o,l){this.eventType=i,this.eventRegistration=n,this.snapshot=o,this.prevName=l}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class hC{constructor(i,n,o){this.eventRegistration=i,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class y_{constructor(i,n){this.snapshotCallback=i,this.cancelCallback=n}onValue(i,n){this.snapshotCallback.call(null,i,n)}onCancel(i){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class fC{constructor(i,n){this._repo=i,this._path=n}cancel(){const i=new P.BH;return sw(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){ns("OnDisconnect.remove",this._path);const i=new P.BH;return Lp(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){ns("OnDisconnect.set",this._path),fo("OnDisconnect.set",i,this._path,!1);const n=new P.BH;return Lp(this._repo,this._path,i,n.wrapCallback(()=>{})),n.promise}setWithPriority(i,n){ns("OnDisconnect.setWithPriority",this._path),fo("OnDisconnect.setWithPriority",i,this._path,!1),Fp("OnDisconnect.setWithPriority",n,!1);const o=new P.BH;return function Vh(r,i,n,o,l){const e=An(n,o);r.server_.onDisconnectPut(i.toString(),e.val(!0),(t,s)=>{"ok"===t&&Qo(r.onDisconnect_,i,e),Fs(0,l,t,s)})}(this._repo,this._path,i,n,o.wrapCallback(()=>{})),o.promise}update(i){ns("OnDisconnect.update",this._path),Yn("OnDisconnect.update",i,this._path,!1);const n=new P.BH;return function ow(r,i,n,o){if((0,P.xb)(n))return Un("onDisconnect().update() called with empty data.  Don't do anything."),void Fs(0,o,"ok",void 0);r.server_.onDisconnectMerge(i.toString(),n,(l,e)=>{"ok"===l&&mr(n,(t,s)=>{const a=An(s);Qo(r.onDisconnect_,Sn(i,t),a)}),Fs(0,o,l,e)})}(this._repo,this._path,i,n.wrapCallback(()=>{})),n.promise}}class hi{constructor(i,n,o,l){this._repo=i,this._path=n,this._queryParams=o,this._orderByCalled=l}get key(){return bt(this._path)?null:Nm(this._path)}get ref(){return new rs(this._repo,this._path)}get _queryIdentifier(){const i=sp(this._queryParams),n=zf(i);return"{}"===n?"default":n}get _queryObject(){return sp(this._queryParams)}isEqual(i){if(!((i=(0,P.m9)(i))instanceof hi))return!1;const n=this._repo===i._repo,o=fE(this._path,i._path);return n&&o&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function cE(r){let i="";for(let n=r.pieceNum_;n<r.pieces_.length;n++)""!==r.pieces_[n]&&(i+="/"+encodeURIComponent(String(r.pieces_[n])));return i||"/"}(this._path)}}function Gp(r,i){if(!0===r._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function sl(r){let i=null,n=null;if(r.hasStart()&&(i=r.getIndexStartValue()),r.hasEnd()&&(n=r.getIndexEndValue()),r.getIndex()===Xi){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==Ha)throw new Error(o);if("string"!=typeof i)throw new Error(l)}if(r.hasEnd()){if(r.getIndexEndName()!==lo)throw new Error(o);if("string"!=typeof n)throw new Error(l)}}else if(r.getIndex()===nn){if(null!=i&&!Ph(i)||null!=n&&!Ph(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(r.getIndex()instanceof Vm||r.getIndex()===Um,"unknown index type."),null!=i&&"object"==typeof i||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Wp(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class rs extends hi{constructor(i,n){super(i,n,new Hc,!1)}get parent(){const i=dE(this._path);return null===i?null:new rs(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Tu{constructor(i,n,o){this._node=i,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const n=new kt(i),o=Su(this.ref,i);return new Tu(this._node.getChild(n),o,nn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>i(new Tu(l,Su(this.ref,o),nn)))}hasChild(i){const n=new kt(i);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pC(r,i){return(r=(0,P.m9)(r))._checkNotDeleted("ref"),void 0!==i?Su(r._root,i):r._root}function gC(r,i){(r=(0,P.m9)(r))._checkNotDeleted("refFromURL");const n=$p(i,r._repo.repoInfo_.nodeAdmin);h_("refFromURL",n);const o=n.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&o.host!==r._repo.repoInfo_.host&&Yi("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+r._repo.repoInfo_.host+")"),pC(r,n.path.toString())}function Su(r,i){return null===It((r=(0,P.m9)(r))._path)?QE("child","path",i,!1):kh("child","path",i,!1),new rs(r._repo,Sn(r._path,i))}function zp(r,i){r=(0,P.m9)(r),ns("set",r._path),fo("set",i,r._path,!1);const n=new P.BH;return m_(r._repo,r._path,i,null,n.wrapCallback(()=>{})),n.promise}function vC(r,i){Yn("update",i,r._path,!1);const n=new P.BH;return function rw(r,i,n,o){bu(r,"update",{path:i.toString(),value:n});let l=!0;const e=Fh(r),t={};if(mr(n,(s,a)=>{l=!1,t[s]=o_(Sn(i,s),An(a),r.serverSyncTree_,e)}),l)Un("update() called with empty data.  Don't do anything."),Fs(0,o,"ok",void 0);else{const s=Lh(r),a=function K0(r,i,n,o){!function VT(r,i,n,o){(0,P.hu)(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:i,children:n,writeId:o,visible:!0}),r.visibleWrites=Bm(r.visibleWrites,i,n),r.lastWriteId=o}(r.pendingWriteTree_,i,n,o);const l=Bt.fromObject(n);return Jc(r,new Gc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,l))}(r.serverSyncTree_,i,t,s);ta(r.eventQueue_,a),r.server_.merge(i.toString(),n,(u,c)=>{const f="ok"===u;f||ir("update at "+i+" failed: "+u);const g=nl(r.serverSyncTree_,s,!f),_=g.length>0?nd(r,i):i;Si(r.eventQueue_,_,g),Fs(0,o,u,c)}),mr(n,u=>{const c=jp(r,Sn(i,u));nd(r,c)}),Si(r.eventQueue_,i,[])}}(r._repo,r._path,i,n.wrapCallback(()=>{})),n.promise}function yC(r){r=(0,P.m9)(r);const i=new y_(()=>{}),n=new rd(i);return function nC(r,i,n){const o=function Y0(r,i){const n=i._path;let o=null;r.syncPointTree_.foreachOnPath(n,(u,c)=>{const f=kr(u,n);o=o||el(c,f)});let l=r.syncPointTree_.get(n);l?o=o||el(l,xt()):(l=new Qc,r.syncPointTree_=r.syncPointTree_.set(n,l));const e=null!=o,t=e?new Ya(o,!0,!1):null;return function H0(r){return pp(r.viewCache_)}(Ep(l,i,Ch(r.pendingWriteTree_,i._path),e?t.getNode():pt.EMPTY_NODE,e))}(r.serverSyncTree_,i);return null!=o?Promise.resolve(o):r.server_.get(i).then(l=>{const e=An(l).withIndex(i._queryParams.getIndex());let t;if(bp(r.serverSyncTree_,i,n,!0),i._queryParams.loadsAllData())t=bh(r.serverSyncTree_,i._path,e);else{const s=Xc(r.serverSyncTree_,i);t=Th(r.serverSyncTree_,i._path,e,s)}return Si(r.eventQueue_,i._path,t),Iu(r.serverSyncTree_,i,n,null,!0),e},l=>(bu(r,"get for query "+(0,P.Wl)(i)+" failed: "+l),Promise.reject(new Error(l))))}(r._repo,r,n).then(o=>new Tu(o,new rs(r._repo,r._path),r._queryParams.getIndex()))}class rd{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,n){const o=n._queryParams.getIndex();return new dC("value",this,new Tu(i.snapshotNode,new rs(n._repo,n._path),o))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,n){return this.callbackContext.hasCancelCallback?new hC(this,i,n):null}matches(i){return i instanceof rd&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class jh{constructor(i,n){this.eventType=i,this.callbackContext=n}respondsTo(i){let n="children_added"===i?"child_added":i;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(i,n){return this.callbackContext.hasCancelCallback?new hC(this,i,n):null}createEvent(i,n){(0,P.hu)(null!=i.childName,"Child events should have a childName.");const o=Su(new rs(n._repo,n._path),i.childName),l=n._queryParams.getIndex();return new dC(i.type,this,new Tu(i.snapshotNode,o,l),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof jh&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function id(r,i,n,o,l){let e;if("object"==typeof o&&(e=void 0,l=o),"function"==typeof o&&(e=o),l&&l.onlyOnce){const a=n,u=(c,f)=>{__(r._repo,r,s),a(c,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const t=new y_(n,e||void 0),s="value"===i?new rd(t):new jh(i,t);return function rC(r,i,n){let o;o=".info"===It(i._path)?bp(r.infoSyncTree_,i,n):bp(r.serverSyncTree_,i,n),XE(r.eventQueue_,i._path,o)}(r._repo,r,s),()=>__(r._repo,r,s)}function Zp(r,i,n,o){return id(r,"value",i,n,o)}function E_(r,i,n,o){return id(r,"child_added",i,n,o)}function C_(r,i,n,o){return id(r,"child_changed",i,n,o)}function ol(r,i,n,o){return id(r,"child_moved",i,n,o)}function EC(r,i,n,o){return id(r,"child_removed",i,n,o)}function CC(r,i,n){let o=null;const l=n?new y_(n):null;"value"===i?o=new rd(l):i&&(o=new jh(i,l)),__(r._repo,r,o)}class Lr{}class hw extends Lr{constructor(i,n){super(),this._value=i,this._key=n}_apply(i){fo("endAt",this._value,i._path,!0);const n=gh(i._queryParams,this._value,this._key);if(Wp(n),sl(n),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(i._repo,i._path,n,i._orderByCalled)}}class WT extends Lr{constructor(i,n){super(),this._value=i,this._key=n}_apply(i){fo("endBefore",this._value,i._path,!1);const n=function Yo(r,i,n){let o;return o=gh(r,i,r.index_===Xi||n?n:Ha),o.endBeforeSet_=!0,o}(i._queryParams,this._value,this._key);if(Wp(n),sl(n),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new hi(i._repo,i._path,n,i._orderByCalled)}}class D_ extends Lr{constructor(i,n){super(),this._value=i,this._key=n}_apply(i){fo("startAt",this._value,i._path,!0);const n=rp(i._queryParams,this._value,this._key);if(Wp(n),sl(n),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new hi(i._repo,i._path,n,i._orderByCalled)}}class sd extends Lr{constructor(i,n){super(),this._value=i,this._key=n}_apply(i){fo("startAfter",this._value,i._path,!1);const n=function bE(r,i,n){let o;return o=rp(r,i,r.index_===Xi||n?n:lo),o.startAfterSet_=!0,o}(i._queryParams,this._value,this._key);if(Wp(n),sl(n),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new hi(i._repo,i._path,n,i._orderByCalled)}}class pw extends Lr{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(i._repo,i._path,function DE(r,i){const n=r.copy();return n.limitSet_=!0,n.limit_=i,n.viewFrom_="l",n}(i._queryParams,this._limit),i._orderByCalled)}}class od extends Lr{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new hi(i._repo,i._path,function wE(r,i){const n=r.copy();return n.limitSet_=!0,n.limit_=i,n.viewFrom_="r",n}(i._queryParams,this._limit),i._orderByCalled)}}class Kp extends Lr{constructor(i){super(),this._path=i}_apply(i){Gp(i,"orderByChild");const n=new kt(this._path);if(bt(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Vm(n),l=ip(i._queryParams,o);return sl(l),new hi(i._repo,i._path,l,!0)}}class fi extends Lr{_apply(i){Gp(i,"orderByKey");const n=ip(i._queryParams,Xi);return sl(n),new hi(i._repo,i._path,n,!0)}}class DC extends Lr{_apply(i){Gp(i,"orderByPriority");const n=ip(i._queryParams,nn);return sl(n),new hi(i._repo,i._path,n,!0)}}class _w extends Lr{_apply(i){Gp(i,"orderByValue");const n=ip(i._queryParams,Um);return sl(n),new hi(i._repo,i._path,n,!0)}}class TC extends Lr{constructor(i,n){super(),this._value=i,this._key=n}_apply(i){if(fo("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new hw(this._value,this._key)._apply(new D_(this._value,this._key)._apply(i))}}function is(r,...i){let n=(0,P.m9)(r);for(const o of i)n=o._apply(n);return n}(function $0(r){(0,P.hu)(!yp,"__referenceConstructor has already been defined"),yp=r})(rs),function Z0(r){(0,P.hu)(!wp,"__referenceConstructor has already been defined"),wp=r}(rs);const w_={};function MC(r,i,n,o,l){let e=o||r.options.databaseURL;void 0===e&&(r.options.projectId||Yi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Un("Using default host for project ",r.options.projectId),e=`${r.options.projectId}-default-rtdb.firebaseio.com`);let a,u,t=$p(e,l),s=t.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(a=!0,e=`http://${u}?ns=${s.namespace}`,t=$p(e,l),s=t.repoInfo):a=!t.repoInfo.secure;const c=l&&a?new lh(lh.OWNER):new RT(r.name,r.options,i);h_("Invalid Firebase Database URL",t),bt(t.path)||Yi("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function Ew(r,i,n,o){let l=w_[i.name];l||(l={},w_[i.name]=l);let e=l[r.toURLString()];return e&&Yi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),e=new eC(r,false,n,o),l[r.toURLString()]=e,e}(s,r,c,new Zy(r.name,n));return new RC(f,r)}class RC{constructor(i,n){this._repoInternal=i,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function g_(r,i,n){if(r.stats_=qf(r.repoInfo_),r.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)r.server_=new op(r.repoInfo_,(o,l,e,t)=>{tC(r,o,l,e,t)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>xs(r,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new Ji(r.repoInfo_,i,(o,l,e,t)=>{tC(r,o,l,e,t)},o=>{xs(r,o)},o=>{!function ks(r,i){mr(i,(n,o)=>{Ai(r,n,o)})}(r,o)},r.authTokenProvider_,r.appCheckProvider_,n),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=function d0(r,i){const n=r.toString();return Em[n]||(Em[n]=i()),Em[n]}(r.repoInfo_,()=>new M0(r.stats_,r.server_)),r.infoData_=new SE,r.infoSyncTree_=new Xm({startListening:(o,l,e,t)=>{let s=[];const a=r.infoData_.getNode(o._path);return a.isEmpty()||(s=bh(r.infoSyncTree_,o._path,a),setTimeout(()=>{t("ok")},0)),s},stopListening:()=>{}}),Ai(r,"connected",!1),r.serverSyncTree_=new Xm({startListening:(o,l,e,t)=>(r.server_.listen(o,e,l,(s,a)=>{const u=t(s,a);Si(r.eventQueue_,o._path,u)}),[]),stopListening:(o,l)=>{r.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rs(this._repo,xt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function yw(r,i){const n=w_[i];(!n||n[r.key]!==r)&&Yi(`Database ${i}(${r.repoInfo_}) has already been deleted.`),iC(r),delete n[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Yi("Cannot call "+i+" on a deleted database.")}}function b_(){sE.IS_TRANSPORT_INITIALIZED&&ir("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function NC(){b_(),Ga.forceDisallow()}function Cw(){b_(),Pc.forceDisallow(),Ga.forceAllow()}function ww(r,i){Ac(r,i)}const PC={".sv":"timestamp"};class kC{constructor(i,n){this.committed=i,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ji.prototype.simpleListen=function(r,i){this.sendRequest("q",{p:r},i)},Ji.prototype.echo=function(r,i){this.sendRequest("echo",{d:r},i)},function OC(r){n0(Zo.SDK_VERSION),(0,Zo._registerComponent)(new ou.wA("database",(i,{instanceIdentifier:n})=>MC(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Zo.registerVersion)(hm,"0.14.4",r),(0,Zo.registerVersion)(hm,"0.14.4","esm2017")}();const QT=new jf.Yd("@firebase/database-compat"),T_=function(r){QT.warn("FIREBASE WARNING: "+r)};class Aw{constructor(i){this._delegate=i}cancel(i){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",i,!0);const n=this._delegate.cancel();return i&&n.then(()=>i(null),o=>i(o)),n}remove(i){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",i,!0);const n=this._delegate.remove();return i&&n.then(()=>i(null),o=>i(o)),n}set(i,n){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",n,!0);const o=this._delegate.set(i);return n&&o.then(()=>n(null),l=>n(l)),o}setWithPriority(i,n,o){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(i,n);return o&&l.then(()=>o(null),e=>o(e)),l}update(i,n){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const l={};for(let e=0;e<i.length;++e)l[""+e]=i[e];i=l,T_("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",n,!0);const o=this._delegate.update(i);return n&&o.then(()=>n(null),l=>n(l)),o}}class FC{constructor(i,n){this.committed=i,this.snapshot=n}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ss{constructor(i,n){this._database=i,this._delegate=n}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),kh("DataSnapshot.child","path",i,!1),new ss(this._database,this._delegate.child(i))}hasChild(i){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),kh("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(n=>i(new ss(this._database,n)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new Mi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ar{constructor(i,n){this.database=i,this._delegate=n}on(i,n,o,l){var e;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",n,!1);const t=Ar.getCancelAndContextArgs_("Query.on",o,l),s=(u,c)=>{n.call(t.context,new ss(this.database,u),c)};s.userCallback=n,s.context=t.context;const a=null===(e=t.cancel)||void 0===e?void 0:e.bind(t.context);switch(i){case"value":return Zp(this._delegate,s,a),n;case"child_added":return E_(this._delegate,s,a),n;case"child_removed":return EC(this._delegate,s,a),n;case"child_changed":return C_(this._delegate,s,a),n;case"child_moved":return ol(this._delegate,s,a),n;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,n,o){if((0,P.Dv)("Query.off",0,3,arguments.length),function(r,i,n){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,P.Wj)("Query.off","callback",n,!0),(0,P.lb)("Query.off","context",o,!0),n){const l=()=>{};l.userCallback=n,l.context=o,CC(this._delegate,i,l)}else CC(this._delegate,i)}get(){return yC(this._delegate).then(i=>new ss(this.database,i))}once(i,n,o,l){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",n,!0);const e=Ar.getCancelAndContextArgs_("Query.once",o,l),t=new P.BH,s=(u,c)=>{const f=new ss(this.database,u);n&&n.call(e.context,f,c),t.resolve(f)};s.userCallback=n,s.context=e.context;const a=u=>{e.cancel&&e.cancel.call(e.context,u),t.reject(u)};switch(i){case"value":Zp(this._delegate,s,a,{onlyOnce:!0});break;case"child_added":E_(this._delegate,s,a,{onlyOnce:!0});break;case"child_removed":EC(this._delegate,s,a,{onlyOnce:!0});break;case"child_changed":C_(this._delegate,s,a,{onlyOnce:!0});break;case"child_moved":ol(this._delegate,s,a,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return t.promise}limitToFirst(i){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new Ar(this.database,is(this._delegate,function gw(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pw(r)}(i)))}limitToLast(i){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new Ar(this.database,is(this._delegate,function mw(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new od(r)}(i)))}orderByChild(i){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new Ar(this.database,is(this._delegate,function qp(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kh("orderByChild","path",r,!1),new Kp(r)}(i)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new Ar(this.database,is(this._delegate,function ZT(){return new fi}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new Ar(this.database,is(this._delegate,function wC(){return new DC}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new Ar(this.database,is(this._delegate,function bC(){return new _w}()))}startAt(i=null,n){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new Ar(this.database,is(this._delegate,function zT(r=null,i){return xh("startAt","key",i,!0),new D_(r,i)}(i,n)))}startAfter(i=null,n){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new Ar(this.database,is(this._delegate,function fw(r,i){return xh("startAfter","key",i,!0),new sd(r,i)}(i,n)))}endAt(i=null,n){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new Ar(this.database,is(this._delegate,function I_(r,i){return xh("endAt","key",i,!0),new hw(r,i)}(i,n)))}endBefore(i=null,n){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new Ar(this.database,is(this._delegate,function IC(r,i){return xh("endBefore","key",i,!0),new WT(r,i)}(i,n)))}equalTo(i,n){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new Ar(this.database,is(this._delegate,function SC(r,i){return xh("equalTo","key",i,!0),new TC(r,i)}(i,n)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof Ar))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,n,o){const l={cancel:void 0,context:void 0};if(n&&o)l.cancel=n,(0,P.Wj)(i,"cancel",l.cancel,!0),l.context=o,(0,P.lb)(i,"context",l.context,!0);else if(n)if("object"==typeof n&&null!==n)l.context=n;else{if("function"!=typeof n)throw new Error((0,P.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=n}return l}get ref(){return new Mi(this.database,new rs(this._delegate._repo,this._delegate._path))}}class Mi extends Ar{constructor(i,n){super(i,new hi(n._repo,n._path,new Hc,!1)),this.database=i,this._delegate=n}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new Mi(this.database,Su(this._delegate,i))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new Mi(this.database,i):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new Mi(this.database,this._delegate.root)}set(i,n){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",n,!0);const o=zp(this._delegate,i);return n&&o.then(()=>n(null),l=>n(l)),o}update(i,n){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const l={};for(let e=0;e<i.length;++e)l[""+e]=i[e];i=l,T_("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ns("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",n,!0);const o=vC(this._delegate,i);return n&&o.then(()=>n(null),l=>n(l)),o}setWithPriority(i,n,o){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function _C(r,i,n){if(ns("setWithPriority",r._path),fo("setWithPriority",i,r._path,!1),Fp("setWithPriority",n,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const o=new P.BH;return m_(r._repo,r._path,i,n,o.wrapCallback(()=>{})),o.promise}(this._delegate,i,n);return o&&l.then(()=>o(null),e=>o(e)),l}remove(i){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",i,!0);const n=function dw(r){return ns("remove",r._path),zp(r,null)}(this._delegate);return i&&n.then(()=>i(null),o=>i(o)),n}transaction(i,n,o){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,P.Wj)("Reference.transaction","onComplete",n,!0),function(r,i,n,o){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function Tw(r,i,n){var o;if(r=(0,P.m9)(r),ns("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const l=null===(o=n?.applyLocally)||void 0===o||o,e=new P.BH,s=Zp(r,()=>{});return function aw(r,i,n,o,l,e){bu(r,"transaction on "+i);const t={path:i,update:n,onComplete:o,status:null,order:$f(),applyLocally:e,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Vp(r,i,void 0);t.currentInputSnapshot=s;const a=t.update(s.val());if(void 0===a)t.unwatcher(),t.currentOutputSnapshotRaw=null,t.currentOutputSnapshotResolved=null,t.onComplete&&t.onComplete(null,!1,t.currentInputSnapshot);else{td("transaction failed: Data returned ",a,t.path),t.status=0;const u=Mh(r.transactionQueueTree_,i),c=rl(u)||[];let f;c.push(t),kp(u,c),"object"==typeof a&&null!==a&&(0,P.r3)(a,".priority")?(f=(0,P.DV)(a,".priority"),(0,P.hu)(Ph(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(Tp(r.serverSyncTree_,i)||pt.EMPTY_NODE).getPriority().val();const g=Fh(r),_=An(a,f),C=Ah(_,s,g);t.currentOutputSnapshotRaw=_,t.currentOutputSnapshotResolved=C,t.currentWriteId=Lh(r);const w=e_(r.serverSyncTree_,i,C,t.currentWriteId,t.applyLocally);Si(r.eventQueue_,i,w),Uh(r,r.transactionQueueTree_)}}(r._repo,r._path,i,(a,u,c)=>{let f=null;a?e.reject(a):(f=new Tu(c,new rs(r._repo,r._path),nn),e.resolve(new kC(u,f)))},s,l),e.promise}(this._delegate,i,{applyLocally:o}).then(e=>new FC(e.committed,new ss(this.database,e.snapshot)));return n&&l.then(e=>n(null,e.committed,e.snapshot),e=>n(e,!1,null)),l}setPriority(i,n){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",n,!0);const o=function mC(r,i){r=(0,P.m9)(r),ns("setPriority",r._path),Fp("setPriority",i,!1);const n=new P.BH;return m_(r._repo,Sn(r._path,".priority"),i,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,i);return n&&o.then(()=>n(null),l=>n(l)),o}push(i,n){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",n,!0);const o=function cw(r,i){r=(0,P.m9)(r),ns("push",r._path),fo("push",i,r._path,!0);const n=Ps(r._repo),o=uw(n),l=Su(r,o),e=Su(r,o);let t;return t=null!=i?zp(e,i).then(()=>e):Promise.resolve(e),l.then=t.then.bind(t),l.catch=t.then.bind(t,void 0),l}(this._delegate,i),l=o.then(t=>new Mi(this.database,t));n&&l.then(()=>n(null),t=>n(t));const e=new Mi(this.database,o);return e.then=l.then.bind(l),e.catch=l.catch.bind(l,void 0),e}onDisconnect(){return ns("Reference.onDisconnect",this._delegate._path),new Aw(new fC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class $h{constructor(i,n){this._delegate=i,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:NC,forceLongPolling:Cw}}useEmulator(i,n,o={}){!function ad(r,i,n,o={}){(r=(0,P.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&Yi("Cannot call useEmulator() after instance has already been initialized.");const l=r._repoInternal;let e;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&Yi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),e=new lh(lh.OWNER);else if(o.mockUserToken){const t="string"==typeof o.mockUserToken?o.mockUserToken:(0,P.Sg)(o.mockUserToken,r.app.options.projectId);e=new lh(t)}!function Hh(r,i,n,o){r.repoInfo_=new uh(`${i}:${n}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),o&&(r.authTokenProvider_=o)}(l,i,n,e)}(this._delegate,i,n,o)}ref(i){if((0,P.Dv)("database.ref",0,1,arguments.length),i instanceof Mi){const n=gC(this._delegate,i.toString());return new Mi(this,n)}{const n=pC(this._delegate,i);return new Mi(this,n)}}refFromURL(i){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const o=gC(this._delegate,i);return new Mi(this,o)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function Iw(r){(r=(0,P.m9)(r))._checkNotDeleted("goOffline"),iC(r._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function Dw(r){(r=(0,P.m9)(r))._checkNotDeleted("goOnline"),function sC(r){r.persistentConnection_&&r.persistentConnection_.resume(p_)}(r._repo)}(this._delegate)}}$h.ServerValue={TIMESTAMP:function xC(){return PC}(),increment:r=>function bw(r){return{".sv":{increment:r}}}(r)};var JT=Object.freeze({__proto__:null,initStandalone:function Mw({app:r,url:i,version:n,customAuthImpl:o,namespace:l,nodeAdmin:e=!1}){n0(n);const t=new ou.zt("auth-internal",new ou.H0("database-standalone"));return t.setComponent(new ou.wA("auth-internal",()=>o,"PRIVATE")),{instance:new $h(MC(r,t,void 0,i,e),r),namespace:l}}});const Rw=$h.ServerValue;!function LC(r){r.INTERNAL.registerComponent(new ou.wA("database-compat",(i,{instanceIdentifier:n})=>{const o=i.getProvider("app-compat").getImmediate(),l=i.getProvider("database").getImmediate({identifier:n});return new $h(l,o)},"PUBLIC").setServiceProps({Reference:Mi,Query:Ar,Database:$h,DataSnapshot:ss,enableLogging:ww,INTERNAL:JT,ServerValue:Rw}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.3.4")}(t0.Z);var Xp=N(3093),Nw=N(4552);class Gh extends hr.x{constructor(i=1/0,n=1/0,o=Nw.l){super(),this._bufferSize=i,this._windowTime=n,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,n)}next(i){const{isStopped:n,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:e,_windowTime:t}=this;n||(o.push(i),!l&&o.push(e.now()+t)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(i),{_infiniteTimeWindow:o,_buffer:l}=this,e=l.slice();for(let t=0;t<e.length&&!i.closed;t+=o?1:2)i.next(e[t]);return this._checkFinalizedStatuses(i),n}_trimBuffer(){const{_bufferSize:i,_timestampProvider:n,_buffer:o,_infiniteTimeWindow:l}=this,e=(l?1:2)*i;if(i<1/0&&e<o.length&&o.splice(0,o.length-e),!l){const t=n.now();let s=0;for(let a=1;a<o.length&&o[a]<=t;a+=2)s=a;s&&o.splice(0,s+1)}}}function VC(r,i,n){let o,l=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:i=1/0,refCount:l=!1,scheduler:n}=r):o=r??1/0,(0,Ms.B)({connector:()=>new Gh(o,i,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function S_(r,i){return(0,Ui.m)(i)?(0,mn.w)(()=>r,i):(0,mn.w)(()=>r)}var A_=N(5137);N(3182);const O_=new Map,jC={activated:!1,tokenObservers:[]},Lw={initialized:!1,enabled:!1};function Mn(r){return O_.get(r)||Object.assign({},jC)}function Wh(){return Lw}const P_="https://content-firebaseappcheck.googleapis.com/v1",Uw="exchangeDebugToken",GC={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class jw{constructor(i,n,o,l,e){if(this.operation=i,this.retryPolicy=n,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=e,this.pending=null,this.nextErrorWaitInterval=l,l>e)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(i){var n=this;return(0,ja.Z)(function*(){n.stop();try{n.pending=new P.BH,yield function x_(r){return new Promise(i=>{setTimeout(i,r)})}(n.getNextRun(i)),n.pending.resolve(),yield n.pending.promise,n.pending=new P.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(o){n.retryPolicy(o)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const vr=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function F_(r){if(!Mn(r).activated)throw vr.create("use-before-activation",{appName:r.name})}function tg(r,i){return ng.apply(this,arguments)}function ng(){return(ng=(0,ja.Z)(function*({url:r,body:i},n){const o={"Content-Type":"application/json"},l=n.getImmediate({optional:!0});if(l){const f=yield l.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}const e={method:"POST",body:JSON.stringify(i),headers:o};let t,s;try{t=yield fetch(r,e)}catch(f){throw vr.create("fetch-network-error",{originalErrorMessage:f?.message})}if(200!==t.status)throw vr.create("fetch-status-error",{httpStatus:t.status});try{s=yield t.json()}catch(f){throw vr.create("fetch-parse-error",{originalErrorMessage:f?.message})}const a=s.ttl.match(/^([\d.]+)(s)$/);if(!a||!a[2]||isNaN(Number(a[1])))throw vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});const u=1e3*Number(a[1]),c=Date.now();return{token:s.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}})).apply(this,arguments)}function zC(r,i){const{projectId:n,appId:o,apiKey:l}=r.options;return{url:`${P_}/projects/${n}/apps/${o}:${Uw}?key=${l}`,body:{debug_token:i}}}const oS="firebase-app-check-database",V_=1,Mu="firebase-app-check-store";let zh=null;function rg(){return(rg=(0,ja.Z)(function*(r,i){const o=(yield function U_(){return zh||(zh=new Promise((r,i)=>{try{const n=indexedDB.open(oS,V_);n.onsuccess=o=>{r(o.target.result)},n.onerror=o=>{var l;i(vr.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},n.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Mu,{keyPath:"compositeKey"})}}catch(n){i(vr.create("storage-open",{originalErrorMessage:n?.message}))}}),zh)}()).transaction(Mu,"readwrite"),e=o.objectStore(Mu).put({compositeKey:r,value:i});return new Promise((t,s)=>{e.onsuccess=a=>{t()},o.onerror=a=>{var u;s(vr.create("storage-set",{originalErrorMessage:null===(u=a.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const Zh=new jf.Yd("@firebase/app-check");function QC(r,i){return(0,P.hl)()?function KC(r,i){return function j_(r,i){return rg.apply(this,arguments)}(function YC(r){return`${r.options.appId}-${r.name}`}(r),i)}(r,i).catch(n=>{Zh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function W_(){return Wh().enabled}function XC(){return z_.apply(this,arguments)}function z_(){return(z_=(0,ja.Z)(function*(){const r=Wh();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ww={error:"UNKNOWN_ERROR"};function zw(r){return P.US.encodeString(JSON.stringify(r),!1)}function sg(r){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,ja.Z)(function*(r,i=!1){const n=r.app;F_(n);const o=Mn(n);let e,l=o.token;if(l&&!Ru(l)&&(o.token=void 0,l=void 0),!l){const a=yield o.cachedTokenPromise;a&&(Ru(a)?l=a:yield QC(n,void 0))}if(!i&&l&&Ru(l))return{token:l.token};let s,t=!1;if(W_()){o.exchangeTokenPromise||(o.exchangeTokenPromise=tg(zC(n,yield XC()),r.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),t=!0);const a=yield o.exchangeTokenPromise;return yield QC(n,a),o.token=a,{token:a.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),t=!0),l=yield Mn(n).exchangeTokenPromise}catch(a){"appCheck/throttled"===a.code?Zh.warn(a.message):Zh.error(a),e=a}return l?e?s=Ru(l)?{token:l.token,internalError:e}:Q_(e):(s={token:l.token},o.token=l,yield QC(n,l)):s=Q_(e),t&&function cd(r,i){const n=Mn(r).tokenObservers;for(const o of n)try{"EXTERNAL"===o.type&&null!=i.error?o.error(i.error):o.next(i)}catch{}}(n,s),s})).apply(this,arguments)}function eI(r){return K_.apply(this,arguments)}function K_(){return(K_=(0,ja.Z)(function*(r){const i=r.app;F_(i);const{provider:n}=Mn(i);if(W_()){const o=yield XC(),{token:l}=yield tg(zC(i,o),r.heartbeatServiceProvider);return{token:l}}{const{token:o}=yield n.getToken();return{token:o}}})).apply(this,arguments)}function Y_(r,i){const n=Mn(r),o=n.tokenObservers.filter(l=>l.next!==i);0===o.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=o}function tI(r){const{app:i}=r,n=Mn(i);let o=n.tokenRefresher;o||(o=function Zw(r){const{app:i}=r;return new jw((0,ja.Z)(function*(){let o;if(o=Mn(i).token?yield sg(r,!0):yield sg(r),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const n=Mn(i);if(n.token){let o=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,n.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},GC.RETRIAL_MIN_WAIT,GC.RETRIAL_MAX_WAIT)}(r),n.tokenRefresher=o),!o.isRunning()&&n.isTokenAutoRefreshEnabled&&o.start()}function Ru(r){return r.expireTimeMillis-Date.now()>0}function Q_(r){return{token:zw(Ww),error:r}}class nI{constructor(i,n){this.app=i,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:i}=Mn(this.app);for(const n of i)Y_(this.app,n.next);return Promise.resolve()}}const dI="app-check-internal";!function hI(){(0,Zo._registerComponent)(new ou.wA("app-check",r=>function rI(r,i){return new nI(r,i)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,i,n)=>{r.getProvider(dI).initialize()})),(0,Zo._registerComponent)(new ou.wA(dI,r=>function iI(r){return{getToken:i=>sg(r,i),getLimitedUseToken:()=>eI(r),addTokenListener:i=>function q_(r,i,n,o){const{app:l}=r,e=Mn(l);if(e.tokenObservers=[...e.tokenObservers,{next:n,error:o,type:i}],e.token&&Ru(e.token)){const s=e.token;Promise.resolve().then(()=>{n({token:s.token}),tI(r)}).catch(()=>{})}e.cachedTokenPromise.then(()=>tI(r))}(r,"INTERNAL",i),removeTokenListener:i=>Y_(r.app,i)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zo.registerVersion)("@firebase/app-check","0.8.0")}();class ag{constructor(){return(0,bi.vb)("app-check")}}typeof window<"u"&&window;var lg=N(7142);const yI=new d.OlP("angularfire2.auth.use-emulator"),EI=new d.OlP("angularfire2.auth.settings"),CI=new d.OlP("angularfire2.auth.tenant-id"),II=new d.OlP("angularfire2.auth.langugage-code"),av=new d.OlP("angularfire2.auth.use-device-language"),ug=new d.OlP("angularfire.auth.persistence"),lv=(r,i,n,o,l,e,t,s)=>(0,qi.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const a=i.runOutsideAngular(()=>r.auth());if(n&&a.useEmulator(...n),o&&(a.tenantId=o),a.languageCode=l,e&&a.useDeviceLanguage(),t)for(const[u,c]of Object.entries(t))a.settings[u]=c;return s&&a.setPersistence(s),a},[n,o,l,e,t,s]);let cg=(()=>{class r{constructor(n,o,l,e,t,s,a,u,c,f,g,_){const C=new hr.x,w=(0,qe.of)(void 0).pipe((0,Xp.Q)(t.outsideAngular),(0,mn.w)(()=>e.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,6365)))),(0,at.U)(()=>(0,qi.on)(n,e,o)),(0,at.U)(O=>lv(O,e,s,u,c,f,a,g)),VC({bufferSize:1,refCount:!1}));if(Nr(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{w.pipe(bn()).subscribe();const L=w.pipe((0,mn.w)(ue=>ue.getRedirectResult().then(Te=>Te,()=>null)),bi.iC,VC({bufferSize:1,refCount:!1})),j=w.pipe((0,mn.w)(ue=>new Sr.y(Te=>({unsubscribe:e.runOutsideAngular(()=>ue.onAuthStateChanged($e=>Te.next($e),$e=>Te.error($e),()=>Te.complete()))})))),ne=w.pipe((0,mn.w)(ue=>new Sr.y(Te=>({unsubscribe:e.runOutsideAngular(()=>ue.onIdTokenChanged($e=>Te.next($e),$e=>Te.error($e),()=>Te.complete()))}))));this.authState=L.pipe(S_(j),(0,A_.R)(t.outsideAngular),(0,Xp.Q)(t.insideAngular)),this.user=L.pipe(S_(ne),(0,A_.R)(t.outsideAngular),(0,Xp.Q)(t.insideAngular)),this.idToken=this.user.pipe((0,mn.w)(ue=>ue?(0,an.D)(ue.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe((0,mn.w)(ue=>ue?(0,an.D)(ue.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,wc.T)(L,C,this.authState.pipe(fr(ue=>!ue))).pipe((0,at.U)(ue=>ue?.user?ue:null),(0,A_.R)(t.outsideAngular),(0,Xp.Q)(t.insideAngular))}return(0,qi.pX)(this,w,e,{spy:{apply:(O,L,j)=>{(O.startsWith("signIn")||O.startsWith("createUser"))&&j.then(ne=>C.next(ne))}}})}}return r.\u0275fac=function(n){return new(n||r)(d.LFG(qi.Dh),d.LFG(qi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(bi.HU),d.LFG(yI,8),d.LFG(EI,8),d.LFG(CI,8),d.LFG(II,8),d.LFG(av,8),d.LFG(ug,8),d.LFG(ag,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),DI=(()=>{class r{constructor(){lg.Z.registerVersion("angularfire",bi.q4.full,"auth-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[cg]}),r})();function uv(r){return null==r}function cv(r){return"function"==typeof r.set}function bI(r,i){return cv(i)?i:r.ref(i)}function dv(r,i){if(function wI(r){return"string"==typeof r}(r))return i.stringCase();if(cv(r))return i.firebaseCase();if(function ab(r){return"function"==typeof r.exportVal}(r))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function Kh(r,i,n="on",o=cm.z){return new Sr.y(l=>{let e=null;return e=r[n](i,(t,s)=>{o.schedule(()=>{l.next({snapshot:t,prevKey:s})}),"once"===n&&o.schedule(()=>l.complete())},t=>{o.schedule(()=>l.error(t))}),"on"===n?{unsubscribe(){null!=e&&r.off(i,e)}}:{unsubscribe(){}}}).pipe((0,at.U)(l=>{const{snapshot:e,prevKey:t}=l;let s=null;return e.exists()&&(s=e.key),{type:i,payload:e,prevKey:t,key:s}}),(0,Ms.B)())}function Ou(r,i){const n=r.length;for(let o=0;o<n;o++)if(r[o].payload.key===i)return o;return-1}function ub(r,i){const{payload:n,prevKey:o,key:l}=i,e=Ou(r,l),t=function lb(r,i){if(uv(i))return 0;{const n=Ou(r,i);return-1===n?r.length:n+1}}(r,o);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let s=null;i.payload.forEach(a=>{const u={payload:a,type:"value",prevKey:s,key:a.key};return s=a.key,r=[...r,u],!1})}return r;case"child_added":if(e>-1){const s=r[e-1];(s&&s.key||null)!==o&&(r=r.filter(a=>a.payload.key!==n.key)).splice(t,0,i)}else{if(null==o)return[i,...r];(r=r.slice()).splice(t,0,i)}return r;case"child_removed":return r.filter(s=>s.payload.key!==n.key);case"child_changed":return r.map(s=>s.payload.key===l?i:s);case"child_moved":if(e>-1){const s=r.splice(e,1)[0];return(r=r.slice()).splice(t,0,s),r}return r;default:return r}}function cb(r){return(uv(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function db(r,i,n){return function Qr(r,i,n){return Kh(r,"value","once",n).pipe((0,mn.w)(o=>{const l=[(0,qe.of)(o)];return i.forEach(e=>l.push(Kh(r,e,"on",n))),(0,wc.T)(...l).pipe(Hi(ub,[]))}),(0,Bf.x)())}(r,i=cb(i),n)}function hv(r,i,n){const o=(i=cb(i)).map(l=>Kh(r,l,"on",n));return(0,wc.T)(...o)}function hb(r,i){return function(o,l){return dv(o,{stringCase:()=>r.child(o)[i](l),firebaseCase:()=>o[i](l),snapshotCase:()=>o.ref[i](l)})}}function qh(r){return function(n){return n?dv(n,{stringCase:()=>r.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):r.remove()}}function dg(r,i){return function(){return Kh(r,"value","on",i)}}const TI=new d.OlP("angularfire2.realtimeDatabaseURL"),gb=new d.OlP("angularfire2.database.use-emulator");let SI=(()=>{class r{constructor(n,o,l,e,t,s,a,u,c,f,g,_,C,w,O){this.schedulers=s;const L=a,j=(0,qi.on)(n,t,o);u&&lv(j,t,c,g,_,C,f,w),this.database=(0,qi.cc)(`${j.name}.database.${l}`,"AngularFireDatabase",j.name,()=>{const ne=t.runOutsideAngular(()=>j.database(l||void 0));return L&&ne.useEmulator(...L),ne},[L])}list(n,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>bI(this.database,n));let e=l;return o&&(e=o(l)),function fb(r,i){const n=i.schedulers.outsideAngular,o=i.schedulers.ngZone.run(()=>r.ref);return{query:r,update:hb(o,"update"),set:hb(o,"set"),push:l=>o.push(l),remove:qh(o),snapshotChanges:l=>db(r,l,n).pipe(bi.iC),stateChanges:l=>hv(r,l,n).pipe(bi.iC),auditTrail:l=>function fv(r,i,n){return function gS(r,i,n){return function pS(r,i){return Kh(r,"value","on",i).pipe((0,at.U)(n=>{let o;return n.payload.forEach(l=>(o=l.key,!1)),{data:n,lastKeyToLoad:o}}))}(r,n).pipe(function dm(...r){const i=(0,Kr.jO)(r);return(0,dr.e)((n,o)=>{const l=r.length,e=new Array(l);let t=r.map(()=>!1),s=!1;for(let a=0;a<l;a++)(0,Ra.Xf)(r[a]).subscribe((0,Gt.x)(o,u=>{e[a]=u,!s&&!t[a]&&(t[a]=!0,(s=t.every(ys.y))&&(t=null))},Xs.Z));n.subscribe((0,Gt.x)(o,a=>{if(s){const u=[a,...e];o.next(i?i(...u):u)}}))})}(i),(0,at.U)(([l,e])=>{const t=l.lastKeyToLoad,s=e.map(a=>a.key);return{actions:e,lastKeyToLoad:t,loadedKeys:s}}),function e0(r){return(0,dr.e)((i,n)=>{let o=!1,l=0;i.subscribe((0,Gt.x)(n,e=>(o||(o=!r(e,l++)))&&n.next(e)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,at.U)(l=>l.actions))}(r,hv(r,i).pipe(Hi((l,e)=>[...l,e],[])),n)}(r,l,n).pipe(bi.iC),valueChanges:(l,e)=>db(r,l,n).pipe((0,at.U)(s=>s.map(a=>e&&e.idField?Object.assign(Object.assign({},a.payload.val()),{[e.idField]:a.key}):a.payload.val())),bi.iC)}}(e,this)}object(n){return function pb(r,i){return{query:r,snapshotChanges:()=>dg(r,i.schedulers.outsideAngular)().pipe(bi.iC),update:n=>r.ref.update(n),set:n=>r.ref.set(n),remove:()=>r.ref.remove(),valueChanges:()=>dg(r,i.schedulers.outsideAngular)().pipe(bi.iC,(0,at.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>bI(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(n){return new(n||r)(d.LFG(qi.Dh),d.LFG(qi.xv,8),d.LFG(TI,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(bi.HU),d.LFG(gb,8),d.LFG(cg,8),d.LFG(yI,8),d.LFG(EI,8),d.LFG(CI,8),d.LFG(II,8),d.LFG(av,8),d.LFG(ug,8),d.LFG(ag,8))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),mb=(()=>{class r{constructor(){lg.Z.registerVersion("angularfire",bi.q4.full,"rtdb-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[SI]}),r})();var pv=N(6878);class AI{constructor(){this.nev="",this.email=""}}let MI=(()=>{class r{constructor(n){this.afAuth=n}googleAuth(){return this.login(new pv.V)}login(n){return this.afAuth.signInWithPopup(n).then(o=>{null!=o.user&&(localStorage.setItem("email",o.user.email),localStorage.setItem("displayname",o.user.displayName))}).catch(o=>{alert(o)})}logout(){return this.afAuth.signOut().then(n=>{localStorage.clear()})}isLoggedIn(){return null!=localStorage.getItem("email")}getCurrentUser(){let n=new AI;n.email=localStorage.getItem("email");let o=localStorage.getItem("displayname");return n.nev=o,n}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(cg))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),hg=(()=>{class r{constructor(n,o){this.db=n,this.auth=o,this.kepek=new Map,n.object("pictures").valueChanges().subscribe(l=>{this.kepek=new Map(Object.entries(l)),console.log(this.kepek)})}create(n){let o=this.auth.getCurrentUser();n.szavazok?.push(o),this.db.list("pictures").push(n)}delete(n){this.db.list("pictures").remove(n)}update(n,o){this.db.list("pictures").update(n,o)}szavazas(n){let o=this.auth.getCurrentUser(),l=this.findById(n);null!=l&&(null==l.szavazok?.find(e=>e.email==o.email)&&l.szavazok?.push(o),this.update(n,l))}findById(n){return this.kepek.get(n)}static#e=this.\u0275fac=function(o){return new(o||r)(d.LFG(SI),d.LFG(MI))};static#t=this.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),_b=(()=>{class r{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(o){return new(o||r)(d.Y36(d.Qsj),d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:r})}return r})(),al=(()=>{class r extends _b{static#e=this.\u0275fac=function(){let n;return function(l){return(n||(n=d.n5z(r)))(l||r)}}();static#t=this.\u0275dir=d.lG2({type:r,features:[d.qOj]})}return r})();const po=new d.OlP("NgValueAccessor"),vb={provide:po,useExisting:(0,d.Gpc)(()=>_v),multi:!0},mv=new d.OlP("CompositionEventMode");let _v=(()=>{class r extends _b{constructor(n,o,l){super(n,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function NI(){const r=S()?S().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(o){return new(o||r)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(mv,8))};static#t=this.\u0275dir=d.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,l){1&o&&d.NdJ("input",function(t){return l._handleInput(t.target.value)})("blur",function(){return l.onTouched()})("compositionstart",function(){return l._compositionStart()})("compositionend",function(t){return l._compositionEnd(t.target.value)})},features:[d._Bn([vb]),d.qOj]})}return r})();const Vr=new d.OlP("NgValidators"),ul=new d.OlP("NgAsyncValidators");function Iv(r){return null!=r}function Dv(r){return(0,d.QGY)(r)?(0,an.D)(r):r}function wv(r){let i={};return r.forEach(n=>{i=null!=n?{...i,...n}:i}),0===Object.keys(i).length?null:i}function FI(r,i){return i.map(n=>n(r))}function Db(r){return r.map(i=>function Ib(r){return!r.validate}(i)?i:n=>i.validate(n))}function LI(r){return null!=r?function bv(r){if(!r)return null;const i=r.filter(Iv);return 0==i.length?null:function(n){return wv(FI(n,i))}}(Db(r)):null}function VI(r){return null!=r?function wb(r){if(!r)return null;const i=r.filter(Iv);return 0==i.length?null:function(n){return function gv(...r){const i=(0,Kr.jO)(r),{args:n,keys:o}=$t(r),l=new Sr.y(e=>{const{length:t}=n;if(!t)return void e.complete();const s=new Array(t);let a=t,u=t;for(let c=0;c<t;c++){let f=!1;(0,Ra.Xf)(n[c]).subscribe((0,Gt.x)(e,g=>{f||(f=!0,u--),s[c]=g},()=>a--,void 0,()=>{(!a||!f)&&(u||e.next(o?si(o,s):s),e.complete())}))}});return i?l.pipe(Bi(i)):l}(FI(n,i).map(Dv)).pipe((0,at.U)(wv))}}(Db(r)):null}function bb(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function UI(r){return r?Array.isArray(r)?r:[r]:[]}function Tv(r,i){return Array.isArray(r)?r.includes(i):r===i}function Ab(r,i){const n=UI(i);return UI(r).forEach(l=>{Tv(n,l)||n.push(l)}),n}function Sv(r,i){return UI(i).filter(n=>!Tv(r,n))}class fg{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=LI(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=VI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,n){return!!this.control&&this.control.hasError(i,n)}getError(i,n){return this.control?this.control.getError(i,n):null}}class Ur extends fg{get formDirective(){return null}get path(){return null}}class cl extends fg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qh{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mb=(()=>{class r extends Qh{constructor(n){super(n)}static#e=this.\u0275fac=function(o){return new(o||r)(d.Y36(cl,2))};static#t=this.\u0275dir=d.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,l){2&o&&d.ekj("ng-untouched",l.isUntouched)("ng-touched",l.isTouched)("ng-pristine",l.isPristine)("ng-dirty",l.isDirty)("ng-valid",l.isValid)("ng-invalid",l.isInvalid)("ng-pending",l.isPending)},features:[d.qOj]})}return r})();const Jh="VALID",_g="INVALID",hd="PENDING",Xh="DISABLED";function fd(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class Ov{constructor(i,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Jh}get invalid(){return this.status===_g}get pending(){return this.status==hd}get disabled(){return this.status===Xh}get enabled(){return this.status!==Xh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(Ab(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Ab(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Sv(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Sv(i,this._rawAsyncValidators))}hasValidator(i){return Tv(this._rawValidators,i)}hasAsyncValidator(i){return Tv(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=hd,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=Xh,this.errors=null,this._forEachChild(o=>{o.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:n}),this._onDisabledChange.forEach(o=>o(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=Jh,this._forEachChild(o=>{o.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:n}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jh||this.status===hd)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xh:Jh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=hd,this._hasOwnPendingAsyncValidator=!0;const n=Dv(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){let n=i;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((o,l)=>o&&o._find(l),this)}getError(i,n){const o=n?this.get(n):this;return o&&o.errors?o.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Xh:this.errors?_g:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hd)?hd:this._anyControlsHaveStatus(_g)?_g:Jh}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){fd(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function Pb(r){return Array.isArray(r)?LI(r):r||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function HI(r){return Array.isArray(r)?VI(r):r||null}(this._rawAsyncValidators)}}const pd=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ef}),ef="always";function xu(r,i,n=ef){(function nf(r,i){const n=function Tb(r){return r._rawValidators}(r);null!==i.validator?r.setValidators(bb(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const o=function Sb(r){return r._rawAsyncValidators}(r);null!==i.asyncValidator?r.setAsyncValidators(bb(o,i.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const l=()=>r.updateValueAndValidity();tf(i._rawValidators,l),tf(i._rawAsyncValidators,l)})(r,i),i.valueAccessor.writeValue(r.value),(r.disabled||"always"===n)&&i.valueAccessor.setDisabledState?.(r.disabled),function bS(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&ZI(r,i)})}(r,i),function kb(r,i){const n=(o,l)=>{i.valueAccessor.writeValue(o),l&&i.viewToModelUpdate(o)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function zI(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&ZI(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function Pv(r,i){if(i.valueAccessor.setDisabledState){const n=o=>{i.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function tf(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function ZI(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Fv(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}function Lv(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const QI=class extends Ov{constructor(i=null,n,o){super(function Rv(r){return(fd(r)?r.validators:r)||null}(n),function Nv(r,i){return(fd(i)?i.asyncValidators:r)||null}(o,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Lv(i)?i.value:i)}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=this.defaultValue,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Fv(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Fv(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){Lv(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},jb={provide:cl,useExisting:(0,d.Gpc)(()=>Bv)},JI=(()=>Promise.resolve())();let Bv=(()=>{class r extends cl{constructor(n,o,l,e,t,s){super(),this._changeDetectorRef=t,this.callSetDisabledState=s,this.control=new QI,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=n,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=function Ig(r,i){if(!i)return null;let n,o,l;return Array.isArray(i),i.forEach(e=>{e.constructor===_v?n=e:function xv(r){return Object.getPrototypeOf(r.constructor)===al}(e)?o=e:l=e}),l||o||n||null}(0,e)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const o=n.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function qI(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){JI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const o=n.isDisabled.currentValue,l=0!==o&&(0,d.VuI)(o);JI.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function yg(r,i){return[...i.path,r]}(n,this._parent):[n]}static#e=this.\u0275fac=function(o){return new(o||r)(d.Y36(Ur,9),d.Y36(Vr,10),d.Y36(ul,10),d.Y36(po,10),d.Y36(d.sBO,8),d.Y36(pd,8))};static#t=this.\u0275dir=d.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([jb]),d.qOj,d.TTD]})}return r})(),XI=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=d.oAB({type:r});static#n=this.\u0275inj=d.cJS({})}return r})(),Ag=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=d.oAB({type:r});static#n=this.\u0275inj=d.cJS({imports:[XI]})}return r})(),$S=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:pd,useValue:n.callSetDisabledState??ef}]}}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=d.oAB({type:r});static#n=this.\u0275inj=d.cJS({imports:[Ag]})}return r})();function aT(r,i){if(1&r){const n=d.EpF();d.TgZ(0,"img",4),d.NdJ("click",function(){d.CHM(n);const l=d.oxw();return d.KtG(l.googleAuth())}),d.qZA()}}function lT(r,i){if(1&r){const n=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){d.CHM(n);const l=d.oxw();return d.KtG(l.logout())}),d._uU(1," Kil\xe9p\xe9s "),d.qZA()}}function GS(r,i){if(1&r){const n=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){d.CHM(n);const l=d.oxw(2).$implicit,e=d.oxw(2);return d.KtG(e.service.delete(l.key))}),d._uU(1,"T\xf6rl\xf6m!"),d.qZA()}}function WS(r,i){if(1&r){const n=d.EpF();d.TgZ(0,"td"),d.YNc(1,GS,2,0,"button",2),d._uU(2," \xa0 "),d.TgZ(3,"button",16),d.NdJ("click",function(){d.CHM(n);const l=d.oxw().$implicit,e=d.oxw(2);return d.KtG(e.service.szavazas(l.key))}),d._uU(4,"Szavazok!"),d.qZA()()}if(2&r){const n=d.oxw().$implicit,o=d.oxw(2);d.xp6(1),d.Q6J("ngIf",o.auth.getCurrentUser().email==n.value.email)}}function zS(r,i){if(1&r&&(d.TgZ(0,"tr")(1,"td"),d._UZ(2,"img",15),d.qZA(),d.TgZ(3,"td")(4,"span"),d._uU(5),d.qZA(),d._UZ(6,"br"),d.TgZ(7,"span"),d._uU(8),d.qZA()(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.YNc(13,WS,5,1,"td",3),d.qZA()),2&r){const n=i.$implicit,o=d.oxw(2);d.xp6(2),d.Q6J("src",n.value.kepUrl,d.LSH),d.xp6(3),d.Oqu(n.value.kepCim),d.xp6(3),d.Oqu(n.value.szavazok.length),d.xp6(2),d.Oqu(n.value.nev),d.xp6(2),d.Oqu(n.value.email),d.xp6(1),d.Q6J("ngIf",o.auth.isLoggedIn())}}function ZS(r,i){if(1&r){const n=d.EpF();d.TgZ(0,"div")(1,"div",6)(2,"label",7),d._uU(3,"K\xe9p c\xedme"),d.qZA(),d.TgZ(4,"input",8),d.NdJ("ngModelChange",function(l){d.CHM(n);const e=d.oxw();return d.KtG(e.aktualis.kepCim=l)}),d.qZA()(),d.TgZ(5,"div",6)(6,"label",7),d._uU(7,"K\xe9p Url c\xedme a versenyhez"),d.qZA(),d.TgZ(8,"input",8),d.NdJ("ngModelChange",function(l){d.CHM(n);const e=d.oxw();return d.KtG(e.aktualis.kepUrl=l)}),d.qZA()(),d.TgZ(9,"div",6)(10,"label",7),d._uU(11,"Neved"),d.qZA(),d.TgZ(12,"input",9),d.NdJ("ngModelChange",function(l){d.CHM(n);const e=d.oxw();return d.KtG(e.aktualis.nev=l)}),d.qZA()(),d.TgZ(13,"div",6)(14,"label",7),d._uU(15,"Email"),d.qZA(),d.TgZ(16,"input",10),d.NdJ("ngModelChange",function(l){d.CHM(n);const e=d.oxw();return d.KtG(e.aktualis.email=l)}),d.qZA()(),d.TgZ(17,"button",11),d.NdJ("click",function(){d.CHM(n);const l=d.oxw();return d.KtG(l.report())}),d._uU(18,"Versenyz\xe9s"),d.qZA(),d._UZ(19,"hr"),d.TgZ(20,"table",12)(21,"thead")(22,"tr")(23,"th",13),d._uU(24,"K\xe9p"),d.qZA(),d.TgZ(25,"th",13),d._uU(26,"K\xe9p c\xedme"),d.qZA(),d.TgZ(27,"th",13),d._uU(28,"P\xe1ly\xe1z\xf3 Neve"),d.qZA(),d.TgZ(29,"th",13),d._uU(30,"Email"),d.qZA(),d.TgZ(31,"th",13),d._uU(32,"Actions"),d.qZA()()(),d.TgZ(33,"tbody"),d.YNc(34,zS,14,6,"tr",14),d.ALo(35,"keyvalue"),d.qZA()()()}if(2&r){const n=d.oxw();d.xp6(4),d.Q6J("ngModel",n.aktualis.kepCim),d.xp6(4),d.Q6J("ngModel",n.aktualis.kepUrl),d.xp6(4),d.Q6J("disabled",n.auth.isLoggedIn())("ngModel",n.aktualis.nev),d.xp6(4),d.Q6J("disabled",n.auth.isLoggedIn())("ngModel",n.aktualis.email),d.xp6(18),d.Q6J("ngForOf",d.lcZ(35,7,n.service.kepek))}}let KS=(()=>{class r{constructor(n,o){this.service=n,this.auth=o,this.aktualis=new Hy}report(){this.service.create(this.aktualis);let n=this.auth.getCurrentUser();this.aktualis.email=n.email,this.aktualis.nev=n.nev,this.aktualis.kepCim="",this.aktualis.kepUrl="",this.aktualis.szavazok=[]}googleAuth(){this.auth.googleAuth().then(n=>{let o=this.auth.getCurrentUser();this.aktualis.nev=o.nev,this.aktualis.email=o.email})}logout(){this.auth.logout().then(n=>{this.aktualis=new Hy})}static#e=this.\u0275fac=function(o){return new(o||r)(d.Y36(hg),d.Y36(MI))};static#t=this.\u0275cmp=d.Xpm({type:r,selectors:[["app-dashboard"]],decls:9,vars:3,consts:[[1,"container"],["style","height: 70px;","src","https://miro.medium.com/v2/resize:fit:720/format:webp/1*u0bwdudgoyKjSLntsRcqiw.png",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger",3,"click",4,"ngIf"],[4,"ngIf"],["src","https://miro.medium.com/v2/resize:fit:720/format:webp/1*u0bwdudgoyKjSLntsRcqiw.png",2,"height","70px",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["type","email",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["width","100","height","150",3,"src"],[1,"btn","btn-sm","btn-success",3,"click"]],template:function(o,l){1&o&&(d.TgZ(0,"div",0)(1,"h1"),d._uU(2,"Dashboard K\xe9pek szavaz\xe1s\xe1hoz"),d.qZA(),d.YNc(3,aT,1,0,"img",1),d.YNc(4,lT,2,0,"button",2),d._UZ(5,"br")(6,"br")(7,"br"),d.YNc(8,ZS,36,9,"div",3),d.qZA()),2&o&&(d.xp6(3),d.Q6J("ngIf",!l.auth.isLoggedIn()),d.xp6(1),d.Q6J("ngIf",l.auth.isLoggedIn()),d.xp6(4),d.Q6J("ngIf",l.auth.isLoggedIn()))},dependencies:[_o,vo,_v,Mb,Bv,us]})}return r})(),uT=(()=>{class r{constructor(){this.title="blApp"}static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275cmp=d.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(o,l){1&o&&d._UZ(0,"app-dashboard")},dependencies:[KS]})}return r})();const qS_firebase={projectId:"blapp-7668c",appId:"1:135706041014:web:718dea4d69b756c0662417",storageBucket:"blapp-7668c.appspot.com",apiKey:"AIzaSyAKZ4oY5gwhJoxjNyjuaoeG1QzsYIZKm1w",authDomain:"blapp-7668c.firebaseapp.com",messagingSenderId:"135706041014"};let YS=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=d.oAB({type:r,bootstrap:[uT]});static#n=this.\u0275inj=d.cJS({imports:[Ks,Uf,$S,DI,mb,qi.hO.initializeApp(qS_firebase)]})}return r})();wn().bootstrapModule(YS).catch(r=>console.error(r))},5619:(He,pe,N)=>{N.d(pe,{X:()=>k});var d=N(8645);class k extends d.x{constructor(W){super(),this._value=W}get value(){return this.getValue()}_subscribe(W){const Y=super._subscribe(W);return!Y.closed&&W.next(this._value),Y}getValue(){const{hasError:W,thrownError:Y,_value:oe}=this;if(W)throw Y;return this._throwIfClosed(),oe}next(W){super.next(this._value=W)}}},5592:(He,pe,N)=>{N.d(pe,{y:()=>me});var d=N(305),k=N(7394),S=N(4850),W=N(8407),Y=N(2653),oe=N(4674),ae=N(1441);let me=(()=>{class Z{constructor(_e){_e&&(this._subscribe=_e)}lift(_e){const Ne=new Z;return Ne.source=this,Ne.operator=_e,Ne}subscribe(_e,Ne,ve){const Oe=function V(Z){return Z&&Z instanceof d.Lv||function x(Z){return Z&&(0,oe.m)(Z.next)&&(0,oe.m)(Z.error)&&(0,oe.m)(Z.complete)}(Z)&&(0,k.Nn)(Z)}(_e)?_e:new d.Hp(_e,Ne,ve);return(0,ae.x)(()=>{const{operator:Ce,source:ze}=this;Oe.add(Ce?Ce.call(Oe,ze):ze?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(_e){try{return this._subscribe(_e)}catch(Ne){_e.error(Ne)}}forEach(_e,Ne){return new(Ne=se(Ne))((ve,Oe)=>{const Ce=new d.Hp({next:ze=>{try{_e(ze)}catch(je){Oe(je),Ce.unsubscribe()}},error:Oe,complete:ve});this.subscribe(Ce)})}_subscribe(_e){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe(_e)}[S.L](){return this}pipe(..._e){return(0,W.U)(_e)(this)}toPromise(_e){return new(_e=se(_e))((Ne,ve)=>{let Oe;this.subscribe(Ce=>Oe=Ce,Ce=>ve(Ce),()=>Ne(Oe))})}}return Z.create=Ie=>new Z(Ie),Z})();function se(Z){var Ie;return null!==(Ie=Z??Y.config.Promise)&&void 0!==Ie?Ie:Promise}},8645:(He,pe,N)=>{N.d(pe,{x:()=>ae});var d=N(5592),k=N(7394);const W=(0,N(2306).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=N(9039),oe=N(1441);let ae=(()=>{class se extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const Z=new me(this,this);return Z.operator=V,Z}_throwIfClosed(){if(this.closed)throw new W}next(V){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(V)}})}error(V){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:Z}=this;for(;Z.length;)Z.shift().error(V)}})}complete(){(0,oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:Z,isStopped:Ie,observers:_e}=this;return Z||Ie?k.Lc:(this.currentObservers=null,_e.push(V),new k.w0(()=>{this.currentObservers=null,(0,Y.P)(_e,V)}))}_checkFinalizedStatuses(V){const{hasError:Z,thrownError:Ie,isStopped:_e}=this;Z?V.error(Ie):_e&&V.complete()}asObservable(){const V=new d.y;return V.source=this,V}}return se.create=(x,V)=>new me(x,V),se})();class me extends ae{constructor(x,V){super(),this.destination=x,this.source=V}next(x){var V,Z;null===(Z=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===Z||Z.call(V,x)}error(x){var V,Z;null===(Z=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===Z||Z.call(V,x)}complete(){var x,V;null===(V=null===(x=this.destination)||void 0===x?void 0:x.complete)||void 0===V||V.call(x)}_subscribe(x){var V,Z;return null!==(Z=null===(V=this.source)||void 0===V?void 0:V.subscribe(x))&&void 0!==Z?Z:k.Lc}}},305:(He,pe,N)=>{N.d(pe,{Hp:()=>ve,Lv:()=>Z});var d=N(4674),k=N(7394),S=N(2653),W=N(3894),Y=N(2420);const oe=se("C",void 0,void 0);function se(z,ce,Q){return{kind:z,value:ce,error:Q}}var x=N(7599),V=N(1441);class Z extends k.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,k.Nn)(ce)&&ce.add(this)):this.destination=je}static create(ce,Q,de){return new ve(ce,Q,de)}next(ce){this.isStopped?ze(function me(z){return se("N",z,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?ze(function ae(z){return se("E",void 0,z)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?ze(oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ie=Function.prototype.bind;function _e(z,ce){return Ie.call(z,ce)}class Ne{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:Q}=this;if(Q.next)try{Q.next(ce)}catch(de){Oe(de)}}error(ce){const{partialObserver:Q}=this;if(Q.error)try{Q.error(ce)}catch(de){Oe(de)}else Oe(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(Q){Oe(Q)}}}class ve extends Z{constructor(ce,Q,de){let De;if(super(),(0,d.m)(ce)||!ce)De={next:ce??void 0,error:Q??void 0,complete:de??void 0};else{let K;this&&S.config.useDeprecatedNextContext?(K=Object.create(ce),K.unsubscribe=()=>this.unsubscribe(),De={next:ce.next&&_e(ce.next,K),error:ce.error&&_e(ce.error,K),complete:ce.complete&&_e(ce.complete,K)}):De=ce}this.destination=new Ne(De)}}function Oe(z){S.config.useDeprecatedSynchronousErrorHandling?(0,V.O)(z):(0,W.h)(z)}function ze(z,ce){const{onStoppedNotification:Q}=S.config;Q&&x.z.setTimeout(()=>Q(z,ce))}const je={closed:!0,next:Y.Z,error:function Ce(z){throw z},complete:Y.Z}},7394:(He,pe,N)=>{N.d(pe,{Lc:()=>oe,w0:()=>Y,Nn:()=>ae});var d=N(4674);const S=(0,N(2306).d)(se=>function(V){se(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((Z,Ie)=>`${Ie+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var W=N(9039);class Y{constructor(x){this.initialTeardown=x,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let x;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const _e of V)_e.remove(this);else V.remove(this);const{initialTeardown:Z}=this;if((0,d.m)(Z))try{Z()}catch(_e){x=_e instanceof S?_e.errors:[_e]}const{_finalizers:Ie}=this;if(Ie){this._finalizers=null;for(const _e of Ie)try{me(_e)}catch(Ne){x=x??[],Ne instanceof S?x=[...x,...Ne.errors]:x.push(Ne)}}if(x)throw new S(x)}}add(x){var V;if(x&&x!==this)if(this.closed)me(x);else{if(x instanceof Y){if(x.closed||x._hasParent(this))return;x._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(x)}}_hasParent(x){const{_parentage:V}=this;return V===x||Array.isArray(V)&&V.includes(x)}_addParent(x){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(x),V):V?[V,x]:x}_removeParent(x){const{_parentage:V}=this;V===x?this._parentage=null:Array.isArray(V)&&(0,W.P)(V,x)}remove(x){const{_finalizers:V}=this;V&&(0,W.P)(V,x),x instanceof Y&&x._removeParent(this)}}Y.EMPTY=(()=>{const se=new Y;return se.closed=!0,se})();const oe=Y.EMPTY;function ae(se){return se instanceof Y||se&&"closed"in se&&(0,d.m)(se.remove)&&(0,d.m)(se.add)&&(0,d.m)(se.unsubscribe)}function me(se){(0,d.m)(se)?se():se.unsubscribe()}},2653:(He,pe,N)=>{N.d(pe,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(He,pe,N)=>{N.d(pe,{E:()=>k});const k=new(N(5592).y)(Y=>Y.complete())},2459:(He,pe,N)=>{N.d(pe,{D:()=>ce});var d=N(4829),k=N(3093),S=N(5137),oe=N(5592),me=N(4971),se=N(4674),x=N(7103);function Z(Q,de){if(!Q)throw new Error("Iterable cannot be null");return new oe.y(De=>{(0,x.f)(De,de,()=>{const K=Q[Symbol.asyncIterator]();(0,x.f)(De,de,()=>{K.next().then(Ue=>{Ue.done?De.complete():De.next(Ue.value)})},0,!0)})})}var Ie=N(8382),_e=N(4026),Ne=N(4266),ve=N(3664),Oe=N(5726),Ce=N(9853),ze=N(541);function ce(Q,de){return de?function z(Q,de){if(null!=Q){if((0,Ie.c)(Q))return function W(Q,de){return(0,d.Xf)(Q).pipe((0,S.R)(de),(0,k.Q)(de))}(Q,de);if((0,Ne.z)(Q))return function ae(Q,de){return new oe.y(De=>{let K=0;return de.schedule(function(){K===Q.length?De.complete():(De.next(Q[K++]),De.closed||this.schedule())})})}(Q,de);if((0,_e.t)(Q))return function Y(Q,de){return(0,d.Xf)(Q).pipe((0,S.R)(de),(0,k.Q)(de))}(Q,de);if((0,Oe.D)(Q))return Z(Q,de);if((0,ve.T)(Q))return function V(Q,de){return new oe.y(De=>{let K;return(0,x.f)(De,de,()=>{K=Q[me.h](),(0,x.f)(De,de,()=>{let Ue,Ze;try{({value:Ue,done:Ze}=K.next())}catch(gt){return void De.error(gt)}Ze?De.complete():De.next(Ue)},0,!0)}),()=>(0,se.m)(K?.return)&&K.return()})}(Q,de);if((0,ze.L)(Q))return function je(Q,de){return Z((0,ze.Q)(Q),de)}(Q,de)}throw(0,Ce.z)(Q)}(Q,de):(0,d.Xf)(Q)}},4829:(He,pe,N)=>{N.d(pe,{Xf:()=>Ie});var d=N(7582),k=N(4266),S=N(4026),W=N(5592),Y=N(8382),oe=N(5726),ae=N(9853),me=N(3664),se=N(541),x=N(4674),V=N(3894),Z=N(4850);function Ie(z){if(z instanceof W.y)return z;if(null!=z){if((0,Y.c)(z))return function _e(z){return new W.y(ce=>{const Q=z[Z.L]();if((0,x.m)(Q.subscribe))return Q.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(z);if((0,k.z)(z))return function Ne(z){return new W.y(ce=>{for(let Q=0;Q<z.length&&!ce.closed;Q++)ce.next(z[Q]);ce.complete()})}(z);if((0,S.t)(z))return function ve(z){return new W.y(ce=>{z.then(Q=>{ce.closed||(ce.next(Q),ce.complete())},Q=>ce.error(Q)).then(null,V.h)})}(z);if((0,oe.D)(z))return Ce(z);if((0,me.T)(z))return function Oe(z){return new W.y(ce=>{for(const Q of z)if(ce.next(Q),ce.closed)return;ce.complete()})}(z);if((0,se.L)(z))return function ze(z){return Ce((0,se.Q)(z))}(z)}throw(0,ae.z)(z)}function Ce(z){return new W.y(ce=>{(function je(z,ce){var Q,de,De,K;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Q=(0,d.KL)(z);!(de=yield Q.next()).done;)if(ce.next(de.value),ce.closed)return}catch(Ue){De={error:Ue}}finally{try{de&&!de.done&&(K=Q.return)&&(yield K.call(Q))}finally{if(De)throw De.error}}ce.complete()})})(z,ce).catch(Q=>ce.error(Q))})}},3019:(He,pe,N)=>{N.d(pe,{T:()=>oe});var d=N(7537),k=N(4829),S=N(6232),W=N(4564),Y=N(2459);function oe(...ae){const me=(0,W.yG)(ae),se=(0,W._6)(ae,1/0),x=ae;return x.length?1===x.length?(0,k.Xf)(x[0]):(0,d.J)(se)((0,Y.D)(x,me)):S.E}},2096:(He,pe,N)=>{N.d(pe,{of:()=>S});var d=N(4564),k=N(2459);function S(...W){const Y=(0,d.yG)(W);return(0,k.D)(W,Y)}},8251:(He,pe,N)=>{N.d(pe,{x:()=>k});var d=N(305);function k(W,Y,oe,ae,me){return new S(W,Y,oe,ae,me)}class S extends d.Lv{constructor(Y,oe,ae,me,se,x){super(Y),this.onFinalize=se,this.shouldUnsubscribe=x,this._next=oe?function(V){try{oe(V)}catch(Z){Y.error(Z)}}:super._next,this._error=me?function(V){try{me(V)}catch(Z){Y.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(V){Y.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},3997:(He,pe,N)=>{N.d(pe,{x:()=>W});var d=N(2737),k=N(9360),S=N(8251);function W(oe,ae=d.y){return oe=oe??Y,(0,k.e)((me,se)=>{let x,V=!0;me.subscribe((0,S.x)(se,Z=>{const Ie=ae(Z);(V||!oe(x,Ie))&&(V=!1,x=Ie,se.next(Z))}))})}function Y(oe,ae){return oe===ae}},7398:(He,pe,N)=>{N.d(pe,{U:()=>S});var d=N(9360),k=N(8251);function S(W,Y){return(0,d.e)((oe,ae)=>{let me=0;oe.subscribe((0,k.x)(ae,se=>{ae.next(W.call(Y,se,me++))}))})}},7537:(He,pe,N)=>{N.d(pe,{J:()=>S});var d=N(1631),k=N(2737);function S(W=1/0){return(0,d.z)(k.y,W)}},1631:(He,pe,N)=>{N.d(pe,{z:()=>me});var d=N(7398),k=N(4829),S=N(9360),W=N(7103),Y=N(8251),ae=N(4674);function me(se,x,V=1/0){return(0,ae.m)(x)?me((Z,Ie)=>(0,d.U)((_e,Ne)=>x(Z,_e,Ie,Ne))((0,k.Xf)(se(Z,Ie))),V):("number"==typeof x&&(V=x),(0,S.e)((Z,Ie)=>function oe(se,x,V,Z,Ie,_e,Ne,ve){const Oe=[];let Ce=0,ze=0,je=!1;const z=()=>{je&&!Oe.length&&!Ce&&x.complete()},ce=de=>Ce<Z?Q(de):Oe.push(de),Q=de=>{_e&&x.next(de),Ce++;let De=!1;(0,k.Xf)(V(de,ze++)).subscribe((0,Y.x)(x,K=>{Ie?.(K),_e?ce(K):x.next(K)},()=>{De=!0},void 0,()=>{if(De)try{for(Ce--;Oe.length&&Ce<Z;){const K=Oe.shift();Ne?(0,W.f)(x,Ne,()=>Q(K)):Q(K)}z()}catch(K){x.error(K)}}))};return se.subscribe((0,Y.x)(x,ce,()=>{je=!0,z()})),()=>{ve?.()}}(Z,Ie,se,V)))}},3093:(He,pe,N)=>{N.d(pe,{Q:()=>W});var d=N(7103),k=N(9360),S=N(8251);function W(Y,oe=0){return(0,k.e)((ae,me)=>{ae.subscribe((0,S.x)(me,se=>(0,d.f)(me,Y,()=>me.next(se),oe),()=>(0,d.f)(me,Y,()=>me.complete(),oe),se=>(0,d.f)(me,Y,()=>me.error(se),oe)))})}},3020:(He,pe,N)=>{N.d(pe,{B:()=>Y});var d=N(4829),k=N(8645),S=N(305),W=N(9360);function Y(ae={}){const{connector:me=(()=>new k.x),resetOnError:se=!0,resetOnComplete:x=!0,resetOnRefCountZero:V=!0}=ae;return Z=>{let Ie,_e,Ne,ve=0,Oe=!1,Ce=!1;const ze=()=>{_e?.unsubscribe(),_e=void 0},je=()=>{ze(),Ie=Ne=void 0,Oe=Ce=!1},z=()=>{const ce=Ie;je(),ce?.unsubscribe()};return(0,W.e)((ce,Q)=>{ve++,!Ce&&!Oe&&ze();const de=Ne=Ne??me();Q.add(()=>{ve--,0===ve&&!Ce&&!Oe&&(_e=oe(z,V))}),de.subscribe(Q),!Ie&&ve>0&&(Ie=new S.Hp({next:De=>de.next(De),error:De=>{Ce=!0,ze(),_e=oe(je,se,De),de.error(De)},complete:()=>{Oe=!0,ze(),_e=oe(je,x),de.complete()}}),(0,d.Xf)(ce).subscribe(Ie))})(Z)}}function oe(ae,me,...se){if(!0===me)return void ae();if(!1===me)return;const x=new S.Hp({next:()=>{x.unsubscribe(),ae()}});return(0,d.Xf)(me(...se)).subscribe(x)}},5137:(He,pe,N)=>{N.d(pe,{R:()=>k});var d=N(9360);function k(S,W=0){return(0,d.e)((Y,oe)=>{oe.add(S.schedule(()=>Y.subscribe(oe),W))})}},4664:(He,pe,N)=>{N.d(pe,{w:()=>W});var d=N(4829),k=N(9360),S=N(8251);function W(Y,oe){return(0,k.e)((ae,me)=>{let se=null,x=0,V=!1;const Z=()=>V&&!se&&me.complete();ae.subscribe((0,S.x)(me,Ie=>{se?.unsubscribe();let _e=0;const Ne=x++;(0,d.Xf)(Y(Ie,Ne)).subscribe(se=(0,S.x)(me,ve=>me.next(oe?oe(Ie,ve,Ne,_e++):ve),()=>{se=null,Z()}))},()=>{V=!0,Z()}))})}},9397:(He,pe,N)=>{N.d(pe,{b:()=>Y});var d=N(4674),k=N(9360),S=N(8251),W=N(2737);function Y(oe,ae,me){const se=(0,d.m)(oe)||ae||me?{next:oe,error:ae,complete:me}:oe;return se?(0,k.e)((x,V)=>{var Z;null===(Z=se.subscribe)||void 0===Z||Z.call(se);let Ie=!0;x.subscribe((0,S.x)(V,_e=>{var Ne;null===(Ne=se.next)||void 0===Ne||Ne.call(se,_e),V.next(_e)},()=>{var _e;Ie=!1,null===(_e=se.complete)||void 0===_e||_e.call(se),V.complete()},_e=>{var Ne;Ie=!1,null===(Ne=se.error)||void 0===Ne||Ne.call(se,_e),V.error(_e)},()=>{var _e,Ne;Ie&&(null===(_e=se.unsubscribe)||void 0===_e||_e.call(se)),null===(Ne=se.finalize)||void 0===Ne||Ne.call(se)}))}):W.y}},1954:(He,pe,N)=>{N.d(pe,{o:()=>Y});var d=N(7394);class k extends d.w0{constructor(ae,me){super()}schedule(ae,me=0){return this}}const S={setInterval(oe,ae,...me){const{delegate:se}=S;return se?.setInterval?se.setInterval(oe,ae,...me):setInterval(oe,ae,...me)},clearInterval(oe){const{delegate:ae}=S;return(ae?.clearInterval||clearInterval)(oe)},delegate:void 0};var W=N(9039);class Y extends k{constructor(ae,me){super(ae,me),this.scheduler=ae,this.work=me,this.pending=!1}schedule(ae,me=0){var se;if(this.closed)return this;this.state=ae;const x=this.id,V=this.scheduler;return null!=x&&(this.id=this.recycleAsyncId(V,x,me)),this.pending=!0,this.delay=me,this.id=null!==(se=this.id)&&void 0!==se?se:this.requestAsyncId(V,this.id,me),this}requestAsyncId(ae,me,se=0){return S.setInterval(ae.flush.bind(ae,this),se)}recycleAsyncId(ae,me,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return me;null!=me&&S.clearInterval(me)}execute(ae,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(ae,me);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,me){let x,se=!1;try{this.work(ae)}catch(V){se=!0,x=V||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),x}unsubscribe(){if(!this.closed){const{id:ae,scheduler:me}=this,{actions:se}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W.P)(se,this),null!=ae&&(this.id=this.recycleAsyncId(me,ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(He,pe,N)=>{N.d(pe,{v:()=>S});var d=N(4552);class k{constructor(Y,oe=k.now){this.schedulerActionCtor=Y,this.now=oe}schedule(Y,oe=0,ae){return new this.schedulerActionCtor(this,Y).schedule(ae,oe)}}k.now=d.l.now;class S extends k{constructor(Y,oe=k.now){super(Y,oe),this.actions=[],this._active=!1}flush(Y){const{actions:oe}=this;if(this._active)return void oe.push(Y);let ae;this._active=!0;do{if(ae=Y.execute(Y.state,Y.delay))break}while(Y=oe.shift());if(this._active=!1,ae){for(;Y=oe.shift();)Y.unsubscribe();throw ae}}}},6321:(He,pe,N)=>{N.d(pe,{z:()=>S});var d=N(1954);const S=new(N(2631).v)(d.o)},4552:(He,pe,N)=>{N.d(pe,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(He,pe,N)=>{N.d(pe,{z:()=>d});const d={setTimeout(k,S,...W){const{delegate:Y}=d;return Y?.setTimeout?Y.setTimeout(k,S,...W):setTimeout(k,S,...W)},clearTimeout(k){const{delegate:S}=d;return(S?.clearTimeout||clearTimeout)(k)},delegate:void 0}},4971:(He,pe,N)=>{N.d(pe,{h:()=>k});const k=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(He,pe,N)=>{N.d(pe,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(He,pe,N)=>{N.d(pe,{_6:()=>oe,jO:()=>W,yG:()=>Y});var d=N(4674);function S(ae){return ae[ae.length-1]}function W(ae){return(0,d.m)(S(ae))?ae.pop():void 0}function Y(ae){return function k(ae){return ae&&(0,d.m)(ae.schedule)}(S(ae))?ae.pop():void 0}function oe(ae,me){return"number"==typeof S(ae)?ae.pop():me}},9039:(He,pe,N)=>{function d(k,S){if(k){const W=k.indexOf(S);0<=W&&k.splice(W,1)}}N.d(pe,{P:()=>d})},2306:(He,pe,N)=>{function d(k){const W=k(Y=>{Error.call(Y),Y.stack=(new Error).stack});return W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W}N.d(pe,{d:()=>d})},1441:(He,pe,N)=>{N.d(pe,{O:()=>W,x:()=>S});var d=N(2653);let k=null;function S(Y){if(d.config.useDeprecatedSynchronousErrorHandling){const oe=!k;if(oe&&(k={errorThrown:!1,error:null}),Y(),oe){const{errorThrown:ae,error:me}=k;if(k=null,ae)throw me}}else Y()}function W(Y){d.config.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=Y)}},7103:(He,pe,N)=>{function d(k,S,W,Y=0,oe=!1){const ae=S.schedule(function(){W(),oe?k.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(k.add(ae),!oe)return ae}N.d(pe,{f:()=>d})},2737:(He,pe,N)=>{function d(k){return k}N.d(pe,{y:()=>d})},4266:(He,pe,N)=>{N.d(pe,{z:()=>d});const d=k=>k&&"number"==typeof k.length&&"function"!=typeof k},5726:(He,pe,N)=>{N.d(pe,{D:()=>k});var d=N(4674);function k(S){return Symbol.asyncIterator&&(0,d.m)(S?.[Symbol.asyncIterator])}},4674:(He,pe,N)=>{function d(k){return"function"==typeof k}N.d(pe,{m:()=>d})},8382:(He,pe,N)=>{N.d(pe,{c:()=>S});var d=N(4850),k=N(4674);function S(W){return(0,k.m)(W[d.L])}},3664:(He,pe,N)=>{N.d(pe,{T:()=>S});var d=N(4971),k=N(4674);function S(W){return(0,k.m)(W?.[d.h])}},4026:(He,pe,N)=>{N.d(pe,{t:()=>k});var d=N(4674);function k(S){return(0,d.m)(S?.then)}},541:(He,pe,N)=>{N.d(pe,{L:()=>W,Q:()=>S});var d=N(7582),k=N(4674);function S(Y){return(0,d.FC)(this,arguments,function*(){const ae=Y.getReader();try{for(;;){const{value:me,done:se}=yield(0,d.qq)(ae.read());if(se)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(me)}}finally{ae.releaseLock()}})}function W(Y){return(0,k.m)(Y?.getReader)}},9360:(He,pe,N)=>{N.d(pe,{A:()=>k,e:()=>S});var d=N(4674);function k(W){return(0,d.m)(W?.lift)}function S(W){return Y=>{if(k(Y))return Y.lift(function(oe){try{return W(oe,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(He,pe,N)=>{function d(){}N.d(pe,{Z:()=>d})},8407:(He,pe,N)=>{N.d(pe,{U:()=>S,z:()=>k});var d=N(2737);function k(...W){return S(W)}function S(W){return 0===W.length?d.y:1===W.length?W[0]:function(oe){return W.reduce((ae,me)=>me(ae),oe)}}},3894:(He,pe,N)=>{N.d(pe,{h:()=>S});var d=N(2653),k=N(7599);function S(W){k.z.setTimeout(()=>{const{onUnhandledError:Y}=d.config;if(!Y)throw W;Y(W)})}},9853:(He,pe,N)=>{function d(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(pe,{z:()=>d})},5879:(He,pe,N)=>{N.d(pe,{$8M:()=>xa,$WT:()=>js,$Z:()=>vE,AFp:()=>P,ALo:()=>sI,AaK:()=>Z,CHM:()=>Tr,CRH:()=>wI,EJc:()=>mS,EpF:()=>Rp,F4k:()=>WE,FYo:()=>gm,FiY:()=>X,GfV:()=>_m,Gpc:()=>Ne,HDt:()=>pg,JOm:()=>Bd,KtG:()=>kl,LFG:()=>be,LSH:()=>th,Lbi:()=>Hf,Lck:()=>zC,MMx:()=>U_,NdJ:()=>Du,Ojb:()=>r0,OlP:()=>Lt,Oqu:()=>Up,P3R:()=>qD,PXZ:()=>kb,Q6J:()=>t_,QGY:()=>Sh,Qsj:()=>Yy,R0b:()=>_r,RDi:()=>Ey,Rgc:()=>dd,SBq:()=>Nc,Sil:()=>Nb,Suo:()=>DI,TTD:()=>va,TgZ:()=>Iu,VuI:()=>lT,X6Q:()=>NS,XFs:()=>Ge,Xpm:()=>sa,Xq5:()=>xE,Xts:()=>Ic,Y36:()=>Fc,YKP:()=>WC,YNc:()=>$E,Yjl:()=>_l,Yz7:()=>nt,Z0I:()=>Rt,ZZ4:()=>Kv,_Bn:()=>ng,_UZ:()=>r_,_c5:()=>Qb,_uU:()=>Uh,aQg:()=>na,c2e:()=>Ur,cJS:()=>Wt,cg1:()=>I_,dDg:()=>pd,dqk:()=>ft,eFA:()=>Cg,eJc:()=>fv,ekj:()=>g_,eoX:()=>ef,f3M:()=>Le,g9A:()=>hm,h0i:()=>Au,hGG:()=>Jb,iGM:()=>lv,ifc:()=>ye,ip1:()=>Sv,jDz:()=>KC,kL8:()=>IC,lG2:()=>Bs,lcZ:()=>oI,lqb:()=>Ms,lri:()=>WI,n5z:()=>zi,oAB:()=>ml,oxw:()=>KE,q4F:()=>vm,qFp:()=>o,qLn:()=>$a,qOj:()=>yh,qZA:()=>Th,rWj:()=>xb,rg0:()=>Ml,sBO:()=>jb,s_b:()=>rv,soG:()=>Qh,tb:()=>nf,tp0:()=>Pe,uIk:()=>$m,vHH:()=>z,vpe:()=>uo,wAp:()=>sd,xp6:()=>_E,z2F:()=>go,zSh:()=>um,zs3:()=>Qi});var d=N(8645),k=N(7394),S=N(5592),W=N(3019),Y=N(5619),oe=N(2096),ae=N(3020),me=N(4664),se=N(3997);function x(e){for(let t in e)if(e[t]===x)return t;throw Error("Could not find renamed property on target object.")}function V(e,t){for(const s in t)t.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(e[s]=t[s])}function Z(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Z).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const s=t.indexOf("\n");return-1===s?t:t.substring(0,s)}function Ie(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const _e=x({__forward_ref__:x});function Ne(e){return e.__forward_ref__=Ne,e.toString=function(){return Z(this())},e}function ve(e){return Oe(e)?e():e}function Oe(e){return"function"==typeof e&&e.hasOwnProperty(_e)&&e.__forward_ref__===Ne}function Ce(e){return e&&!!e.\u0275providers}const je="https://g.co/ng/security#xss";class z extends Error{constructor(t,s){super(function ce(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,s)),this.code=t}}function Q(e){return"string"==typeof e?e:null==e?"":String(e)}function Ze(e,t){throw new z(-201,!1)}function Fe(e,t){null==e&&function Me(e,t,s,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${s} ${a} ${t} <=Actual]`))}(t,e,null,"!=")}function nt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Wt(e){return{providers:e.providers||[],imports:e.imports||[]}}function jt(e){return rn(e,Rn)||rn(e,Jn)}function Rt(e){return null!==jt(e)}function rn(e,t){return e.hasOwnProperty(t)?e[t]:null}function sr(e){return e&&(e.hasOwnProperty(Jt)||e.hasOwnProperty(Xr))?e[Jt]:null}const Rn=x({\u0275prov:x}),Jt=x({\u0275inj:x}),Jn=x({ngInjectableDef:x}),Xr=x({ngInjectorDef:x});var Ge=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ge||{});let st;function mt(e){const t=st;return st=e,t}function un(e,t,s){const a=jt(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ge.Optional?null:void 0!==t?t:void Ze(Z(e))}const ft=globalThis,Ht={},jr="__NG_DI_FLAG__",Nn="ngTempTokenPath",U=/\n/gm,A="__source";let R;function $(e){const t=R;return R=e,t}function he(e,t=Ge.Default){if(void 0===R)throw new z(-203,!1);return null===R?un(e,void 0,t):R.get(e,t&Ge.Optional?null:void 0,t)}function be(e,t=Ge.Default){return(function et(){return st}()||he)(ve(e),t)}function Le(e,t=Ge.Default){return be(e,wt(t))}function wt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Je(e){const t=[];for(let s=0;s<e.length;s++){const a=ve(e[s]);if(Array.isArray(a)){if(0===a.length)throw new z(900,!1);let u,c=Ge.Default;for(let f=0;f<a.length;f++){const g=a[f],_=ct(g);"number"==typeof _?-1===_?u=g.token:c|=_:u=g}t.push(be(u,c))}else t.push(be(a))}return t}function Pt(e,t){return e[jr]=t,e.prototype[jr]=t,e}function ct(e){return e[jr]}function ie(e){return{toString:e}.toString()}var q=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(q||{}),ye=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ye||{});const Ve={},xe=[],ot=x({\u0275cmp:x}),At=x({\u0275dir:x}),yn=x({\u0275pipe:x}),Xt=x({\u0275mod:x}),Hn=x({\u0275fac:x}),gi=x({__NG_ELEMENT_ID__:x}),Vs=x({__NG_ENV_ID__:x});function hl(e,t,s){let a=e.length;for(;;){const u=e.indexOf(t,s);if(-1===u)return u;if(0===u||e.charCodeAt(u-1)<=32){const c=t.length;if(u+c===a||e.charCodeAt(u+c)<=32)return u}s=u+1}}function Us(e,t,s){let a=0;for(;a<s.length;){const u=s[a];if("number"==typeof u){if(0!==u)break;a++;const c=s[a++],f=s[a++],g=s[a++];e.setAttribute(t,f,g,c)}else{const c=u,f=s[++a];as(c)?e.setProperty(t,c,f):e.setAttribute(t,c,f),a++}}return a}function mi(e){return 3===e||4===e||6===e}function as(e){return 64===e.charCodeAt(0)}function mo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let s=-1;for(let a=0;a<t.length;a++){const u=t[a];"number"==typeof u?s=u:0===s||_o(e,s,u,null,-1===s||2===s?t[++a]:null)}}return e}function _o(e,t,s,a,u){let c=0,f=e.length;if(-1===t)f=-1;else for(;c<e.length;){const g=e[c++];if("number"==typeof g){if(g===t){f=-1;break}if(g>t){f=c-1;break}}}for(;c<e.length;){const g=e[c];if("number"==typeof g)break;if(g===s){if(null===a)return void(null!==u&&(e[c+1]=u));if(a===e[c+1])return void(e[c+2]=u)}c++,null!==a&&c++,null!==u&&c++}-1!==f&&(e.splice(f,0,t),c=f+1),e.splice(c++,0,s),null!==a&&e.splice(c++,0,a),null!==u&&e.splice(c++,0,u)}const en="ng-template";function sf(e,t,s){let a=0,u=!0;for(;a<e.length;){let c=e[a++];if("string"==typeof c&&u){const f=e[a++];if(s&&"class"===c&&-1!==hl(f.toLowerCase(),t,0))return!0}else{if(1===c){for(;a<e.length&&"string"==typeof(c=e[a++]);)if(c.toLowerCase()===t)return!0;return!1}"number"==typeof c&&(u=!1)}}return!1}function vo(e){return 4===e.type&&e.value!==en}function af(e,t,s){return t===(4!==e.type||s?e.value:en)}function Fu(e,t,s){let a=4;const u=e.attrs||[],c=function Eo(e){for(let t=0;t<e.length;t++)if(mi(e[t]))return t;return e.length}(u);let f=!1;for(let g=0;g<t.length;g++){const _=t[g];if("number"!=typeof _){if(!f)if(4&a){if(a=2|1&a,""!==_&&!af(e,_,s)||""===_&&1===t.length){if(lr(a))return!1;f=!0}}else{const C=8&a?_:t[++g];if(8&a&&null!==e.attrs){if(!sf(e.attrs,C,s)){if(lr(a))return!1;f=!0}continue}const O=yo(8&a?"class":_,u,vo(e),s);if(-1===O){if(lr(a))return!1;f=!0;continue}if(""!==C){let L;L=O>c?"":u[O+1].toLowerCase();const j=8&a?L:null;if(j&&-1!==hl(j,C,0)||2&a&&C!==L){if(lr(a))return!1;f=!0}}}}else{if(!f&&!lr(a)&&!lr(_))return!1;if(f&&lr(_))continue;f=!1,a=_|1&a}}return lr(a)||f}function lr(e){return 0==(1&e)}function yo(e,t,s,a){if(null===t)return-1;let u=0;if(a||!s){let c=!1;for(;u<t.length;){const f=t[u];if(f===e)return u;if(3===f||6===f)c=!0;else{if(1===f||2===f){let g=t[++u];for(;"string"==typeof g;)g=t[++u];continue}if(4===f)break;if(0===f){u+=4;continue}}u+=c?1:2}return-1}return function fl(e,t){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const a=e[s];if("number"==typeof a)return-1;if(a===t)return s;s++}return-1}(t,e)}function ra(e,t,s=!1){for(let a=0;a<t.length;a++)if(Fu(e,t[a],s))return!0;return!1}function ia(e,t){return e?":not("+t.trim()+")":t}function pl(e){let t=e[0],s=1,a=2,u="",c=!1;for(;s<e.length;){let f=e[s];if("string"==typeof f)if(2&a){const g=e[++s];u+="["+f+(g.length>0?'="'+g+'"':"")+"]"}else 8&a?u+="."+f:4&a&&(u+=" "+f);else""!==u&&!lr(f)&&(t+=ia(c,u),u=""),a=f,c=c||!lr(a);s++}return""!==u&&(t+=ia(c,u)),t}function sa(e){return ie(()=>{const t=_d(e),s={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ye.Emulated,styles:e.styles||xe,_:null,schemas:e.schemas||null,tView:null,id:""};vl(s);const a=e.dependencies;return s.directiveDefs=ls(a,!1),s.pipeDefs=ls(a,!0),s.id=function us(e){let t=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const u of s)t=Math.imul(31,t)+u.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(s),s})}function oa(e){return vt(e)||En(e)}function gl(e){return null!==e}function ml(e){return ie(()=>({type:e.type,bootstrap:e.bootstrap||xe,declarations:e.declarations||xe,imports:e.imports||xe,exports:e.exports||xe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function la(e,t){if(null==e)return Ve;const s={};for(const a in e)if(e.hasOwnProperty(a)){let u=e[a],c=u;Array.isArray(u)&&(c=u[1],u=u[0]),s[u]=a,t&&(t[u]=c)}return s}function Bs(e){return ie(()=>{const t=_d(e);return vl(t),t})}function _l(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function vt(e){return e[ot]||null}function En(e){return e[At]||null}function Pn(e){return e[yn]||null}function js(e){const t=vt(e)||En(e)||Pn(e);return null!==t&&t.standalone}function xn(e,t){const s=e[Xt]||null;if(!s&&!0===t)throw new Error(`Type ${Z(e)} does not have '\u0275mod' property.`);return s}function _d(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ve,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||xe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:la(e.inputs,t),outputs:la(e.outputs)}}function vl(e){e.features?.forEach(t=>t(e))}function ls(e,t){if(!e)return null;const s=t?Pn:oa;return()=>("function"==typeof e?e():e).map(a=>s(a)).filter(gl)}const tn=0,Re=1,ut=2,Ft=3,Ir=4,_i=5,Xn=6,cs=7,on=8,vi=9,Pi=10,Ke=11,Hr=12,vd=13,Nr=14,Cn=15,Hs=16,Dr=17,er=18,xi=19,ua=20,ds=21,$r=22,ca=23,wr=24,_t=25,El=1,$s=2,kn=7,ki=9,In=11;function Wn(e){return Array.isArray(e)&&"object"==typeof e[El]}function zn(e){return Array.isArray(e)&&!0===e[El]}function Cl(e){return 0!=(4&e.flags)}function yi(e){return e.componentOffset>-1}function br(e){return 1==(1&e.flags)}function cr(e){return!!e.template}function fs(e){return 0!=(512&e[ut])}function Ei(e,t){return e.hasOwnProperty(Hn)?e[Hn]:null}let fn=null,Io=!1;function Zn(e){const t=fn;return fn=e,t}const Do={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function bl(e){if(!To(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Td(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Tl(e){e.dirty=!0,function ju(e){if(void 0===e.liveConsumerNode)return;const t=Io;Io=!0;try{for(const s of e.liveConsumerNode)s.dirty||Tl(s)}finally{Io=t}}(e),e.consumerMarkedDirty?.(e)}function Hu(e){return e&&(e.nextProducerIndex=0),Zn(e)}function pn(e,t){if(Zn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(To(e))for(let s=e.nextProducerIndex;s<e.producerNode.length;s++)ps(e.producerNode[s],e.producerIndexOfThis[s]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Td(e){ei(e);for(let t=0;t<e.producerNode.length;t++){const s=e.producerNode[t],a=e.producerLastReadVersion[t];if(a!==s.version||(bl(s),a!==s.version))return!0}return!1}function bo(e){if(ei(e),To(e))for(let t=0;t<e.producerNode.length;t++)ps(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ps(e,t){if(function Sl(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ei(e),1===e.liveConsumerNode.length)for(let a=0;a<e.producerNode.length;a++)ps(e.producerNode[a],e.producerIndexOfThis[a]);const s=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[s],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[s],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const a=e.liveConsumerIndexOfThis[t],u=e.liveConsumerNode[t];ei(u),u.producerIndexOfThis[a]=t}}function To(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ei(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let zu=null;function Ml(e){const t=Zn(null);try{return e()}finally{Zn(t)}}const Rl=()=>{},hf=(()=>({...Do,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Rl}))();class Rd{constructor(t,s,a){this.previousValue=t,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function va(){return Ro}function Ro(e){return e.type.prototype.ngOnChanges&&(e.setInput=zr),ya}function ya(){const e=No(this),t=e?.current;if(t){const s=e.previous;if(s===Ve)e.previous=t;else for(let a in t)s[a]=t[a];e.current=null,this.ngOnChanges(t)}}function zr(e,t,s,a){const u=this.declaredInputs[s],c=No(e)||function Yu(e,t){return e[zs]=t}(e,{previous:Ve,current:null}),f=c.current||(c.current={}),g=c.previous,_=g[u];f[u]=new Rd(_&&_.currentValue,t,g===Ve),e[a]=t}va.ngInherit=!0;const zs="__ngSimpleChanges__";function No(e){return e[zs]||null}const Or=function(e,t,s){};function Nt(e){for(;Array.isArray(e);)e=e[tn];return e}function ti(e,t){return Nt(t[e])}function tr(e,t){return Nt(t[e.index])}function Ol(e,t){return e.data[t]}function Kn(e,t){const s=t[e];return Wn(s)?s:s[tn]}function ms(e,t){return null==t?null:e[t]}function Nd(e){e[Dr]=0}function _s(e){1024&e[ut]||(e[ut]|=1024,Dn(e,1))}function gf(e){1024&e[ut]&&(e[ut]&=-1025,Dn(e,-1))}function Dn(e,t){let s=e[Ft];if(null===s)return;s[_i]+=t;let a=s;for(s=s[Ft];null!==s&&(1===t&&1===a[_i]||-1===t&&0===a[_i]);)s[_i]+=t,a=s,s=s[Ft]}const Xe={lFrame:Sa(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gn(){return Xe.bindingsEnabled}function ge(){return Xe.lFrame.lView}function Ct(){return Xe.lFrame.tView}function Tr(e){return Xe.lFrame.contextLView=e,e[on]}function kl(e){return Xe.lFrame.contextLView=null,e}function Fn(){let e=wa();for(;null!==e&&64===e.type;)e=e.parent;return e}function wa(){return Xe.lFrame.currentTNode}function ni(e,t){const s=Xe.lFrame;s.currentTNode=e,s.isParent=t}function nc(){return Xe.lFrame.isParent}function vs(){return Xe.lFrame.bindingIndex++}function ba(e,t){const s=Xe.lFrame;s.bindingIndex=s.bindingRootIndex=e,Ta(t)}function Ta(e){Xe.lFrame.currentDirectiveIndex=e}function Ul(){return Xe.lFrame.currentQueryIndex}function sc(e){Xe.lFrame.currentQueryIndex=e}function oc(e){const t=e[Re];return 2===t.type?t.declTNode:1===t.type?e[Xn]:null}function Bl(e,t,s){if(s&Ge.SkipSelf){let u=t,c=e;for(;!(u=u.parent,null!==u||s&Ge.Host||(u=oc(c),null===u||(c=c[Nr],10&u.type))););if(null===u)return!1;t=u,e=c}const a=Xe.lFrame=Ui();return a.currentTNode=t,a.lView=e,!0}function Sr(e){const t=Ui(),s=e[Re];Xe.lFrame=t,t.currentTNode=s.firstChild,t.lView=e,t.tView=s,t.contextLView=e,t.bindingIndex=s.bindingStartIndex,t.inI18n=!1}function Ui(){const e=Xe.lFrame,t=null===e?null:e.child;return null===t?Sa(e):t}function Sa(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function an(){const e=Xe.lFrame;return Xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const qe=an;function Vn(){const e=an();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function nr(){return Xe.lFrame.selectedIndex}function Zr(e){Xe.lFrame.selectedIndex=e}function $t(){const e=Xe.lFrame;return Ol(e.tView,e.selectedIndex)}let Bi=!0;function Kr(){return Bi}function si(e){Bi=e}function ji(e,t){for(let s=t.directiveStart,a=t.directiveEnd;s<a;s++){const c=e.data[s].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:g,ngAfterViewInit:_,ngAfterViewChecked:C,ngOnDestroy:w}=c;f&&(e.contentHooks??=[]).push(-s,f),g&&((e.contentHooks??=[]).push(s,g),(e.contentCheckHooks??=[]).push(s,g)),_&&(e.viewHooks??=[]).push(-s,_),C&&((e.viewHooks??=[]).push(s,C),(e.viewCheckHooks??=[]).push(s,C)),null!=w&&(e.destroyHooks??=[]).push(s,w)}}function Fo(e,t,s){Hl(e,t,3,s)}function qs(e,t,s,a){(3&e[ut])===s&&Hl(e,t,s,a)}function Ma(e,t){let s=e[ut];(3&s)===t&&(s&=8191,s+=1,e[ut]=s)}function Hl(e,t,s,a){const c=a??-1,f=t.length-1;let g=0;for(let _=void 0!==a?65535&e[Dr]:0;_<f;_++)if("number"==typeof t[_+1]){if(g=t[_],null!=a&&g>=a)break}else t[_]<0&&(e[Dr]+=65536),(g<c||-1==c)&&(Lo(e,s,t,_),e[Dr]=(4294901760&e[Dr])+_+2),_++}function Es(e,t){Or(4,e,t);const s=Zn(null);try{t.call(e)}finally{Zn(s),Or(5,e,t)}}function Lo(e,t,s,a){const u=s[a]<0,c=s[a+1],g=e[u?-s[a]:s[a]];u?e[ut]>>13<e[Dr]>>16&&(3&e[ut])===t&&(e[ut]+=8192,Es(g,c)):Es(g,c)}const Pr=-1;class Ys{constructor(t,s,a){this.factory=t,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Bo(e){return e!==Pr}function hr(e){return 32767&e}function oi(e,t){let s=function mn(e){return e>>16}(e),a=t;for(;s>0;)a=a[Nr],s--;return a}let Gl=!0;function fr(e){const t=Gl;return Gl=e,t}const jo=255,Oa=5;let kd=0;const bn={};function ln(e,t){const s=Qs(e,t);if(-1!==s)return s;const a=t[Re];a.firstCreatePass&&(e.injectorIndex=t.length,ai(a.data,e),ai(t,null),ai(a.blueprint,null));const u=Hi(e,t),c=e.injectorIndex;if(Bo(u)){const f=hr(u),g=oi(u,t),_=g[Re].data;for(let C=0;C<8;C++)t[c+C]=g[f+C]|_[f+C]}return t[c+8]=u,c}function ai(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qs(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Hi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,a=null,u=t;for(;null!==u;){if(a=Kl(u),null===a)return Pr;if(s++,u=u[Nr],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Pr}function $i(e,t,s){!function Is(e,t,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(gi)&&(a=s[gi]),null==a&&(a=s[gi]=kd++);const u=a&jo;t.data[e+(u>>Oa)]|=1<<u}(e,t,s)}function Ho(e,t,s){if(s&Ge.Optional||void 0!==e)return e;Ze()}function Js(e,t,s,a){if(s&Ge.Optional&&void 0===a&&(a=null),!(s&(Ge.Self|Ge.Host))){const u=e[vi],c=mt(void 0);try{return u?u.get(t,a,s&Ge.Optional):un(t,a,s&Ge.Optional)}finally{mt(c)}}return Ho(a,0,s)}function Xs(e,t,s,a=Ge.Default,u){if(null!==e){if(2048&t[ut]&&!(a&Ge.Self)){const f=function Fd(e,t,s,a,u){let c=e,f=t;for(;null!==c&&null!==f&&2048&f[ut]&&!(512&f[ut]);){const g=Wl(c,f,s,a|Ge.Self,bn);if(g!==bn)return g;let _=c.parent;if(!_){const C=f[ua];if(C){const w=C.get(s,bn,a);if(w!==bn)return w}_=Kl(f),f=f[Nr]}c=_}return u}(e,t,s,a,bn);if(f!==bn)return f}const c=Wl(e,t,s,a,bn);if(c!==bn)return c}return Js(t,s,a,u)}function Wl(e,t,s,a,u){const c=function Gi(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(gi)?e[gi]:void 0;return"number"==typeof t?t>=0?t&jo:Wi:t}(s);if("function"==typeof c){if(!Bl(t,e,a))return a&Ge.Host?Ho(u,0,a):Js(t,s,a,u);try{let f;if(f=c(a),null!=f||a&Ge.Optional)return f;Ze()}finally{qe()}}else if("number"==typeof c){let f=null,g=Qs(e,t),_=Pr,C=a&Ge.Host?t[Cn][Xn]:null;for((-1===g||a&Ge.SkipSelf)&&(_=-1===g?Hi(e,t):t[g+8],_!==Pr&&zl(a,!1)?(f=t[Re],g=hr(_),t=oi(_,t)):g=-1);-1!==g;){const w=t[Re];if(bs(c,g,w.data)){const O=dt(g,t,s,f,a,C);if(O!==bn)return O}_=t[g+8],_!==Pr&&zl(a,t[Re].data[g+8]===C)&&bs(c,g,t)?(f=w,g=hr(_),t=oi(_,t)):g=-1}}return u}function dt(e,t,s,a,u,c){const f=t[Re],g=f.data[e+8],w=Ds(g,f,s,null==a?yi(g)&&Gl:a!=f&&0!=(3&g.type),u&Ge.Host&&c===g);return null!==w?ws(t,f,w,g):bn}function Ds(e,t,s,a,u){const c=e.providerIndexes,f=t.data,g=1048575&c,_=e.directiveStart,w=c>>20,L=u?g+w:e.directiveEnd;for(let j=a?g:g+w;j<L;j++){const ne=f[j];if(j<_&&s===ne||j>=_&&ne.type===s)return j}if(u){const j=f[_];if(j&&cr(j)&&j.type===s)return _}return null}function ws(e,t,s,a){let u=e[s];const c=t.data;if(function Ra(e){return e instanceof Ys}(u)){const f=u;f.resolving&&function De(e,t){const s=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new z(-200,`Circular dependency in DI detected for ${e}${s}`)}(function de(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Q(e)}(c[s]));const g=fr(f.canSeeViewProviders);f.resolving=!0;const C=f.injectImpl?mt(f.injectImpl):null;Bl(e,a,Ge.Default);try{u=e[s]=f.factory(void 0,c,e,a),t.firstCreatePass&&s>=a.directiveStart&&function Gt(e,t,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:c}=t.type.prototype;if(a){const f=Ro(t);(s.preOrderHooks??=[]).push(e,f),(s.preOrderCheckHooks??=[]).push(e,f)}u&&(s.preOrderHooks??=[]).push(0-e,u),c&&((s.preOrderHooks??=[]).push(e,c),(s.preOrderCheckHooks??=[]).push(e,c))}(s,c[s],t)}finally{null!==C&&mt(C),fr(g),f.resolving=!1,qe()}}return u}function bs(e,t,s){return!!(s[t+(e>>Oa)]&1<<e)}function zl(e,t){return!(e&Ge.Self||e&Ge.Host&&t)}class Ut{constructor(t,s){this._tNode=t,this._lView=s}get(t,s,a){return Xs(this._tNode,this._lView,t,wt(a),s)}}function Wi(){return new Ut(Fn(),ge())}function zi(e){return ie(()=>{const t=e.prototype.constructor,s=t[Hn]||Zl(t),a=Object.prototype;let u=Object.getPrototypeOf(e.prototype).constructor;for(;u&&u!==a;){const c=u[Hn]||Zl(u);if(c&&c!==s)return c;u=Object.getPrototypeOf(u)}return c=>new c})}function Zl(e){return Oe(e)?()=>{const t=Zl(ve(e));return t&&t()}:Ei(e)}function Kl(e){const t=e[Re],s=t.type;return 2===s?t.declTNode:1===s?e[Xn]:null}function xa(e){return function Pa(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const s=e.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const c=s[u];if(mi(c))break;if(0===c)u+=2;else if("number"==typeof c)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(c===t)return s[u+1];u+=2}}}return null}(Fn(),e)}const to="__parameters__";function M(e,t,s){return ie(()=>{const a=function I(e){return function(...s){if(e){const a=e(...s);for(const u in a)this[u]=a[u]}}}(t);function u(...c){if(this instanceof u)return a.apply(this,c),this;const f=new u(...c);return g.annotation=f,g;function g(_,C,w){const O=_.hasOwnProperty(to)?_[to]:Object.defineProperty(_,to,{value:[]})[to];for(;O.length<=w;)O.push(null);return(O[w]=O[w]||[]).push(f),_}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=e,u.annotationCls=u,u})}function ka(e,t){e.forEach(s=>Array.isArray(s)?ka(s,t):t(s))}function Pg(e,t,s){t>=e.length?e.push(s):e.splice(t,0,s)}function Fa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function qr(e,t,s){let a=La(e,t);return a>=0?e[1|a]=s:(a=~a,function yf(e,t,s,a){let u=e.length;if(u==t)e.push(s,a);else if(1===u)e.push(a,e[0]),e[0]=s;else{for(u--,e.push(e[u-1],e[u]);u>t;)e[u]=e[u-2],u--;e[t]=s,e[t+1]=a}}(e,a,t,s)),a}function Ld(e,t){const s=La(e,t);if(s>=0)return e[1|s]}function La(e,t){return function dc(e,t,s){let a=0,u=e.length>>s;for(;u!==a;){const c=a+(u-a>>1),f=e[c<<s];if(t===f)return c<<s;f>t?u=c:a=c+1}return~(u<<s)}(e,t,1)}const X=Pt(M("Optional"),8),Pe=Pt(M("SkipSelf"),4);function If(e){return 128==(128&e.flags)}var Bd=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bd||{});const wf=new Map;let gD=0;const Tf="__ngContext__";function xr(e,t){Wn(t)?(e[Tf]=t[xi],function sy(e){wf.set(e[xi],e)}(t)):e[Tf]=t}let $d;function Di(e,t){return $d(e,t)}function Wo(e){const t=e[Ft];return zn(t)?t[Ft]:t}function ly(e){return Gd(e[Hr])}function zg(e){return Gd(e[Ir])}function Gd(e){for(;null!==e&&!zn(e);)e=e[Ir];return e}function _c(e,t,s,a,u){if(null!=a){let c,f=!1;zn(a)?c=a:Wn(a)&&(f=!0,a=a[tn]);const g=Nt(a);0===e&&null!==s?null==u?hy(t,s,g):iu(t,s,g,u||null,!0):1===e&&null!==s?iu(t,s,g,u||null,!0):2===e?function Nf(e,t,s){const a=Rf(e,t);a&&function RD(e,t,s,a){e.removeChild(t,s,a)}(e,a,t,s)}(t,g,f):3===e&&t.destroyNode(g),null!=c&&function OD(e,t,s,a,u){const c=s[kn];c!==Nt(s)&&_c(t,e,a,c,u);for(let g=In;g<s.length;g++){const _=s[g];Yd(_[Re],_,e,t,a,c)}}(t,e,c,s,u)}}function Af(e,t,s){return e.createElement(t,s)}function uy(e,t){const s=e[ki],a=s.indexOf(t);gf(t),s.splice(a,1)}function Mf(e,t){if(e.length<=In)return;const s=In+t,a=e[s];if(a){const u=a[Hs];null!==u&&u!==e&&uy(u,a),t>0&&(e[s-1][Ir]=a[Ir]);const c=Fa(e,In+t);!function bD(e,t){Yd(e,t,t[Ke],2,null,null),t[tn]=null,t[Xn]=null}(a[Re],a);const f=c[er];null!==f&&f.detachView(c[Re]),a[Ft]=null,a[Ir]=null,a[ut]&=-129}return a}function Zg(e,t){if(!(256&t[ut])){const s=t[Ke];t[ca]&&bo(t[ca]),t[wr]&&bo(t[wr]),s.destroyNode&&Yd(e,t,s,3,null,null),function TD(e){let t=e[Hr];if(!t)return cy(e[Re],e);for(;t;){let s=null;if(Wn(t))s=t[Hr];else{const a=t[In];a&&(s=a)}if(!s){for(;t&&!t[Ir]&&t!==e;)Wn(t)&&cy(t[Re],t),t=t[Ft];null===t&&(t=e),Wn(t)&&cy(t[Re],t),s=t&&t[Ir]}t=s}}(t)}}function cy(e,t){if(!(256&t[ut])){t[ut]&=-129,t[ut]|=256,function dy(e,t){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let a=0;a<s.length;a+=2){const u=t[s[a]];if(!(u instanceof Ys)){const c=s[a+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){const g=u[c[f]],_=c[f+1];Or(4,g,_);try{_.call(g)}finally{Or(5,g,_)}}else{Or(4,u,c);try{c.call(u)}finally{Or(5,u,c)}}}}}(e,t),function MD(e,t){const s=e.cleanup,a=t[cs];if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const f=s[c+3];f>=0?a[f]():a[-f].unsubscribe(),c+=2}else s[c].call(a[s[c+1]]);null!==a&&(t[cs]=null);const u=t[ds];if(null!==u){t[ds]=null;for(let c=0;c<u.length;c++)(0,u[c])()}}(e,t),1===t[Re].type&&t[Ke].destroy();const s=t[Hs];if(null!==s&&zn(t[Ft])){s!==t[Ft]&&uy(s,t);const a=t[er];null!==a&&a.detachView(e)}!function jd(e){wf.delete(e[xi])}(t)}}function vc(e,t,s){return function ru(e,t,s){let a=t;for(;null!==a&&40&a.type;)a=(t=a).parent;if(null===a)return s[tn];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:c}=e.data[a.directiveStart+u];if(c===ye.None||c===ye.Emulated)return null}return tr(a,s)}}(e,t.parent,s)}function iu(e,t,s,a,u){e.insertBefore(t,s,a,u)}function hy(e,t,s){e.appendChild(t,s)}function fy(e,t,s,a,u){null!==a?iu(e,t,s,a,u):hy(e,t,s)}function Rf(e,t){return e.parentNode(t)}let qg,yy,Pf,Kg=function gy(e,t,s){return 40&e.type?tr(e,s):null};function Kd(e,t,s,a){const u=vc(e,a,t),c=t[Ke],g=function py(e,t,s){return Kg(e,t,s)}(a.parent||t[Xn],a,t);if(null!=u)if(Array.isArray(s))for(let _=0;_<s.length;_++)fy(c,u,s[_],g,!1);else fy(c,u,s,g,!1);void 0!==qg&&qg(c,a,t,s,u)}function so(e,t){if(null!==t){const s=t.type;if(3&s)return tr(t,e);if(4&s)return Qg(-1,e[t.index]);if(8&s){const a=t.child;if(null!==a)return so(e,a);{const u=e[t.index];return zn(u)?Qg(-1,u):Nt(u)}}if(32&s)return Di(t,e)()||Nt(e[t.index]);{const a=Yg(e,t);return null!==a?Array.isArray(a)?a[0]:so(Wo(e[Cn]),a):so(e,t.next)}}return null}function Yg(e,t){return null!==t?e[Cn][Xn].projection[t.projection]:null}function Qg(e,t){const s=In+e+1;if(s<t.length){const a=t[s],u=a[Re].firstChild;if(null!==u)return so(a,u)}return t[kn]}function qd(e,t,s,a,u,c,f){for(;null!=s;){const g=a[s.index],_=s.type;if(f&&0===t&&(g&&xr(Nt(g),a),s.flags|=2),32!=(32&s.flags))if(8&_)qd(e,t,s.child,a,u,c,!1),_c(t,e,u,g,c);else if(32&_){const C=Di(s,a);let w;for(;w=C();)_c(t,e,u,w,c);_c(t,e,u,g,c)}else 16&_?Xg(e,t,a,s,u,c):_c(t,e,u,g,c);s=f?s.projectionNext:s.next}}function Yd(e,t,s,a,u,c){qd(s,a,e.firstChild,t,u,c,!1)}function Xg(e,t,s,a,u,c){const f=s[Cn],_=f[Xn].projection[a.projection];if(Array.isArray(_))for(let C=0;C<_.length;C++)_c(t,e,u,_[C],c);else{let C=_;const w=f[Ft];If(a)&&(C.flags|=128),qd(e,t,C,w,u,c,!0)}}function _y(e,t,s){""===s?e.removeAttribute(t,"class"):e.setAttribute(t,"class",s)}function Qd(e,t,s){const{mergedAttrs:a,classes:u,styles:c}=s;null!==a&&Us(e,t,a),null!==u&&_y(e,t,u),null!==c&&function xD(e,t,s){e.setAttribute(t,"style",s)}(e,t,c)}function Ey(e){yy=e}function Dy(e){return function tm(){if(void 0===Pf&&(Pf=null,ft.trustedTypes))try{Pf=ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pf}()?.createScriptURL(e)||e}class wy{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${je})`}}function Ba(e){return e instanceof wy?e.changingThisBreaksApplicationSecurity:e}function Cc(e,t){const s=function xf(e){return e instanceof wy&&e.getTypeName()||null}(e);if(null!=s&&s!==t){if("ResourceURL"===s&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${s} (see ${je})`)}return s===t}const Jd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var eh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(eh||{});function th(e){const t=nh();return t?t.sanitize(eh.URL,e)||"":Cc(e,"URL")?Ba(e):function Ff(e){return(e=String(e)).match(Jd)?e:"unsafe:"+e}(Q(e))}function xy(e){const t=nh();if(t)return Dy(t.sanitize(eh.RESOURCE_URL,e)||"");if(Cc(e,"ResourceURL"))return Dy(Ba(e));throw new z(904,!1)}function qD(e,t,s){return function KD(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?xy:th}(t,s)(e)}function nh(){const e=ge();return e&&e[Pi].sanitizer}class Lt{constructor(t,s){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=nt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ic=new Lt("ENVIRONMENT_INITIALIZER"),Fy=new Lt("INJECTOR",-1),Ly=new Lt("INJECTOR_DEF_TYPES");class Lf{get(t,s=Ht){if(s===Ht){const a=new Error(`NullInjectorError: No provider for ${Z(t)}!`);throw a.name="NullInjectorError",a}return s}}function YD(...e){return{\u0275providers:Uy(0,e),\u0275fromNgModule:!0}}function Uy(e,...t){const s=[],a=new Set;let u;const c=f=>{s.push(f)};return ka(t,f=>{const g=f;Vf(g,c,[],a)&&(u||=[],u.push(g))}),void 0!==u&&By(u,c),s}function By(e,t){for(let s=0;s<e.length;s++){const{ngModule:a,providers:u}=e[s];lm(u,c=>{t(c,a)})}}function Vf(e,t,s,a){if(!(e=ve(e)))return!1;let u=null,c=sr(e);const f=!c&&vt(e);if(c||f){if(f&&!f.standalone)return!1;u=e}else{const _=e.ngModule;if(c=sr(_),!c)return!1;u=_}const g=a.has(u);if(f){if(g)return!1;if(a.add(u),f.dependencies){const _="function"==typeof f.dependencies?f.dependencies():f.dependencies;for(const C of _)Vf(C,t,s,a)}}else{if(!c)return!1;{if(null!=c.imports&&!g){let C;a.add(u);try{ka(c.imports,w=>{Vf(w,t,s,a)&&(C||=[],C.push(w))})}finally{}void 0!==C&&By(C,t)}if(!g){const C=Ei(u)||(()=>new u);t({provide:u,useFactory:C,deps:xe},u),t({provide:Ly,useValue:u,multi:!0},u),t({provide:Ic,useValue:()=>be(u),multi:!0},u)}const _=c.providers;if(null!=_&&!g){const C=e;lm(_,w=>{t(w,C)})}}}return u!==e&&void 0!==e.providers}function lm(e,t){for(let s of e)Ce(s)&&(s=s.\u0275providers),Array.isArray(s)?lm(s,t):t(s)}const ST=x({provide:String,useValue:x});function jy(e){return null!==e&&"object"==typeof e&&ST in e}function Dc(e){return"function"==typeof e}const um=new Lt("Set Injector scope."),Uf={},Hy={};let cm;function wc(){return void 0===cm&&(cm=new Lf),cm}class Ms{}class Bf extends Ms{get destroyed(){return this._destroyed}constructor(t,s,a,u){super(),this.parent=s,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zo(t,f=>this.processProvider(f)),this.records.set(Fy,rh(void 0,this)),u.has("environment")&&this.records.set(Ms,rh(void 0,this));const c=this.records.get(um);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Ly.multi,xe,Ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of t)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const s=$(this),a=mt(void 0);try{return t()}finally{$(s),mt(a)}}get(t,s=Ht,a=Ge.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Vs))return t[Vs](this);a=wt(a);const c=$(this),f=mt(void 0);try{if(!(a&Ge.SkipSelf)){let _=this.records.get(t);if(void 0===_){const C=function ja(e){return"function"==typeof e||"object"==typeof e&&e instanceof Lt}(t)&&jt(t);_=C&&this.injectableDefInScope(C)?rh(dm(t),Uf):null,this.records.set(t,_)}if(null!=_)return this.hydrate(t,_)}return(a&Ge.Self?wc():this.parent).get(t,s=a&Ge.Optional&&s===Ht?null:s)}catch(g){if("NullInjectorError"===g.name){if((g[Nn]=g[Nn]||[]).unshift(Z(t)),c)throw g;return function On(e,t,s,a){const u=e[Nn];throw t[A]&&u.unshift(t[A]),e.message=function pi(e,t,s,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let u=Z(t);if(Array.isArray(t))u=t.map(Z).join(" -> ");else if("object"==typeof t){let c=[];for(let f in t)if(t.hasOwnProperty(f)){let g=t[f];c.push(f+":"+("string"==typeof g?JSON.stringify(g):Z(g)))}u=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${e.replace(U,"\n  ")}`}("\n"+e.message,u,s,a),e.ngTokenPath=u,e[Nn]=null,e}(g,t,"R3InjectorError",this.source)}throw g}finally{mt(f),$(c)}}resolveInjectorInitializers(){const t=$(this),s=mt(void 0);try{const u=this.get(Ic.multi,xe,Ge.Self);for(const c of u)c()}finally{$(t),mt(s)}}toString(){const t=[],s=this.records;for(const a of s.keys())t.push(Z(a));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(t){let s=Dc(t=ve(t))?t:ve(t&&t.provide);const a=function bi(e){return jy(e)?rh(void 0,e.useValue):rh(qi(e),Uf)}(t);if(Dc(t)||!0!==t.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=rh(void 0,Uf,!0),u.factory=()=>Je(u.multi),this.records.set(s,u)),s=t,u.multi.push(t)}this.records.set(s,a)}hydrate(t,s){return s.value===Uf&&(s.value=Hy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ou(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(t){if(!t.providedIn)return!1;const s=ve(t.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(t){const s=this._onDestroyHooks.indexOf(t);-1!==s&&this._onDestroyHooks.splice(s,1)}}function dm(e){const t=jt(e),s=null!==t?t.factory:Ei(e);if(null!==s)return s;if(e instanceof Lt)throw new z(204,!1);if(e instanceof Function)return function e0(e){const t=e.length;if(t>0)throw function no(e,t){const s=[];for(let a=0;a<e;a++)s.push(t);return s}(t,"?"),new z(204,!1);const s=function Er(e){return e&&(e[Rn]||e[Jn])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new z(204,!1)}function qi(e,t,s){let a;if(Dc(e)){const u=ve(e);return Ei(u)||dm(u)}if(jy(e))a=()=>ve(e.useValue);else if(function XD(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...Je(e.deps||[]));else if(function JD(e){return!(!e||!e.useExisting)}(e))a=()=>be(ve(e.useExisting));else{const u=ve(e&&(e.useClass||e.provide));if(!function t0(e){return!!e.deps}(e))return Ei(u)||dm(u);a=()=>new u(...Je(e.deps))}return a}function rh(e,t,s=!1){return{factory:e,value:t,multi:s?[]:void 0}}function Zo(e,t){for(const s of e)Array.isArray(s)?Zo(s,t):s&&Ce(s)?Zo(s.\u0275providers,t):t(s)}const P=new Lt("AppId",{providedIn:"root",factory:()=>jf}),jf="ng",hm=new Lt("Platform Initializer"),Hf=new Lt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),r0=new Lt("CSP nonce",{providedIn:"root",factory:()=>function su(){if(void 0!==yy)return yy;if(typeof document<"u")return document;throw new z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let lo=(e,t,s)=>null;function lu(e,t,s=!1){return lo(e,t,s)}class Rc{}class zy{}class lh{resolveComponentFactory(t){throw function ah(e){const t=Error(`No component factory found for ${Z(e)}.`);return t.ngComponent=e,t}(t)}}let uu=(()=>{class e{static#e=this.NULL=new lh}return e})();function Ky(){return cu(Fn(),ge())}function cu(e,t){return new Nc(tr(e,t))}let Nc=(()=>{class e{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Ky}return e})();function qy(e){return e instanceof Nc?e.nativeElement:e}class gm{}let Yy=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Qy(){const e=ge(),s=Kn(Fn().index,e);return(Wn(s)?s:e)[Ke]}()}return e})(),mm=(()=>{class e{static#e=this.\u0275prov=nt({token:e,providedIn:"root",factory:()=>null})}return e})();class _m{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const vm=new _m("16.2.8"),uh={};function tE(e,t=null,s=null,a){const u=Cm(e,t,s,a);return u.resolveInjectorInitializers(),u}function Cm(e,t=null,s=null,a,u=new Set){const c=[s||xe,YD(e)];return a=a||("object"==typeof e?void 0:Z(e)),new Bf(c,t||wc(),a||null,u)}let Qi=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=Ht;static#t=this.NULL=new Lf;static create(s,a){if(Array.isArray(s))return tE({name:""},a,s,"");{const u=s.name??"";return tE({name:u},s.parent,s.providers,u)}}static#n=this.\u0275prov=nt({token:e,providedIn:"any",factory:()=>be(Fy)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Dm(e){return e.ngOriginalError}class $a{constructor(){this._console=console}handleError(t){const s=this._findOriginalError(t);this._console.error("ERROR",t),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(t){let s=t&&Dm(t);for(;s&&Dm(s);)s=Dm(s);return s||null}}function bm(e){return t=>{setTimeout(e,void 0,t)}}const uo=class nE extends d.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,s,a){let u=t,c=s||(()=>null),f=a;if(t&&"object"==typeof t){const _=t;u=_.next?.bind(_),c=_.error?.bind(_),f=_.complete?.bind(_)}this.__isAsync&&(c=bm(c),u&&(u=bm(u)),f&&(f=bm(f)));const g=super.subscribe({next:u,error:c,complete:f});return t instanceof k.w0&&t.add(g),g}};function rE(...e){}class _r{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uo(!1),this.onMicrotaskEmpty=new uo(!1),this.onStable=new uo(!1),this.onError=new uo(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Ga(){const e="function"==typeof ft.requestAnimationFrame;let t=ft[e?"requestAnimationFrame":"setTimeout"],s=ft[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&s){const a=t[Zone.__symbol__("OriginalDelegate")];a&&(t=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function sE(e){const t=()=>{!function Pc(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ft,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Tm(e),e.isCheckStableRunning=!0,Oc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Tm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,c,f,g)=>{if(function _0(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(g))return s.invokeTask(u,c,f,g);try{return oE(e),s.invokeTask(u,c,f,g)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),aE(e)}},onInvoke:(s,a,u,c,f,g,_)=>{try{return oE(e),s.invoke(u,c,f,g,_)}finally{e.shouldCoalesceRunChangeDetection&&t(),aE(e)}},onHasTask:(s,a,u,c)=>{s.hasTask(u,c),a===u&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,Tm(e),Oc(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,u,c)=>(s.handleError(u,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_r.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(_r.isInAngularZone())throw new z(909,!1)}run(t,s,a){return this._inner.run(t,s,a)}runTask(t,s,a,u){const c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+u,t,g0,rE,rE);try{return c.runTask(f,s,a)}finally{c.cancelTask(f)}}runGuarded(t,s,a){return this._inner.runGuarded(t,s,a)}runOutsideAngular(t){return this._outer.run(t)}}const g0={};function Oc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function oE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function aE(e){e._nesting--,Oc(e)}class m0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uo,this.onMicrotaskEmpty=new uo,this.onStable=new uo,this.onError=new uo}run(t,s,a){return t.apply(s,a)}runGuarded(t,s,a){return t.apply(s,a)}runOutsideAngular(t){return t()}runTask(t,s,a,u){return t.apply(s,a)}}const Yf=new Lt("",{providedIn:"root",factory:Sm});function Sm(){const e=Le(_r);let t=!0;const s=new S.y(u=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{u.next(t),u.complete()})}),a=new S.y(u=>{let c;e.runOutsideAngular(()=>{c=e.onStable.subscribe(()=>{_r.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,u.next(!0))})})});const f=e.onUnstable.subscribe(()=>{_r.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),f.unsubscribe()}});return(0,W.T)(s,a.pipe((0,ae.B)()))}function co(e){return e instanceof Function?e():e}let xc=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=nt({token:e,providedIn:"root",factory:()=>new e})}return e})();function kc(e){for(;e;){e[ut]|=64;const t=Wo(e);if(fs(e)&&!t)return e;e=t}return null}const xt=new Lt("",{providedIn:"root",factory:()=>!1});let Yr=null;function pE(e,t){return e[t]??Jf()}function gE(e,t){const s=Jf();s.producerNode?.length&&(e[t]=Yr,s.lView=e,Yr=za())}const mE={...Do,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{kc(e.lView)},lView:null};function za(){return Object.create(mE)}function Jf(){return Yr??=za(),Yr}const lt={};function _E(e){Om(Ct(),ge(),nr()+e,!1)}function Om(e,t,s,a){if(!a)if(3==(3&t[ut])){const c=e.preOrderCheckHooks;null!==c&&Fo(t,c,s)}else{const c=e.preOrderHooks;null!==c&&qs(t,c,0,s)}Zr(s)}function Fc(e,t=Ge.Default){const s=ge();return null===s?be(e,t):Xs(Fn(),s,ve(e),t)}function vE(){throw new Error("invalid")}function dh(e,t,s,a,u,c,f,g,_,C,w){const O=t.blueprint.slice();return O[tn]=u,O[ut]=140|a,(null!==C||e&&2048&e[ut])&&(O[ut]|=2048),Nd(O),O[Ft]=O[Nr]=e,O[on]=s,O[Pi]=f||e&&e[Pi],O[Ke]=g||e&&e[Ke],O[vi]=_||e&&e[vi]||null,O[Xn]=c,O[xi]=function bf(){return gD++}(),O[$r]=w,O[ua]=C,O[Cn]=2==t.type?e[Cn]:O,O}function Ji(e,t,s,a,u){let c=e.data[t];if(null===c)c=function Et(e,t,s,a,u){const c=wa(),f=nc(),_=e.data[t]=function CE(e,t,s,a,u,c){let f=t?t.injectorIndex:-1,g=0;return function Vi(){return null!==Xe.skipHydrationRootTNode}()&&(g|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:f,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:u,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?c:c&&c.parent,s,t,a,u);return null===e.firstChild&&(e.firstChild=_),null!==c&&(f?null==c.child&&null!==_.parent&&(c.child=_):null===c.next&&(c.next=_,_.prev=c)),_}(e,t,s,a,u),function _f(){return Xe.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=s,c.value=a,c.attrs=u;const f=function xo(){const e=Xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===f?-1:f.injectorIndex}return ni(c,!0),c}function Za(e,t,s,a){if(0===s)return-1;const u=t.length;for(let c=0;c<s;c++)t.push(a),e.blueprint.push(a),e.data.push(null);return u}function hh(e,t,s,a,u){const c=pE(t,ca),f=nr(),g=2&a;try{Zr(-1),g&&t.length>_t&&Om(e,t,_t,!1),Or(g?2:0,u);const C=g?c:null,w=Hu(C);try{null!==C&&(C.dirty=!1),s(a,u)}finally{pn(C,w)}}finally{g&&null===t[ca]&&gE(t,ca),Zr(f),Or(g?3:1,u)}}function Xf(e,t,s){if(Cl(t)){const a=Zn(null);try{const c=t.directiveEnd;for(let f=t.directiveStart;f<c;f++){const g=e.data[f];g.contentQueries&&g.contentQueries(1,s[f],f)}}finally{Zn(a)}}}function Xi(e,t,s){gn()&&(function qo(e,t,s,a){const u=s.directiveStart,c=s.directiveEnd;yi(s)&&function Um(e,t,s){const a=tr(t,e),u=es(s);let f=16;s.signals?f=4096:s.onPush&&(f=64);const g=np(e,dh(e,u,null,f,a,t,null,e[Pi].rendererFactory.createRenderer(a,s),null,null,null));e[t.index]=g}(t,s,e.data[u+s.componentOffset]),e.firstCreatePass||ln(s,t),xr(a,t);const f=s.initialInputs;for(let g=u;g<c;g++){const _=e.data[g],C=ws(t,e,g,s);xr(C,t),null!==f&&ph(0,g-u,C,_,0,f),cr(_)&&(Kn(s.index,t)[on]=ws(t,e,g,s))}}(e,t,s,tr(s,t)),64==(64&s.flags)&&Uc(e,t,s))}function Lc(e,t,s=tr){const a=t.localNames;if(null!==a){let u=t.index+1;for(let c=0;c<a.length;c+=2){const f=a[c+1],g=-1===f?s(t,e):e[f];e[u++]=g}}}function es(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Pm(e,t,s,a,u,c,f,g,_,C,w){const O=_t+a,L=O+u,j=function di(e,t){const s=[];for(let a=0;a<t;a++)s.push(a<e?null:lt);return s}(O,L),ne="function"==typeof C?C():C;return j[Re]={type:e,blueprint:j,template:s,queries:null,viewQuery:g,declTNode:t,data:j.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:_,consts:ne,incompleteFirstPass:!1,ssrId:w}}let ep=e=>null;function fu(e,t,s,a){for(let u in e)if(e.hasOwnProperty(u)){s=null===s?{}:s;const c=e[u];null===a?km(s,t,u,c):a.hasOwnProperty(u)&&km(s,t,a[u],c)}return s}function km(e,t,s,a){e.hasOwnProperty(s)?e[s].push(t,a):e[s]=[t,a]}function Fm(e,t,s,a){if(gn()){const u=null===a?null:{"":-1},c=function b0(e,t){const s=e.directiveRegistry;let a=null,u=null;if(s)for(let c=0;c<s.length;c++){const f=s[c];if(ra(t,f.selectors,!1))if(a||(a=[]),cr(f))if(null!==f.findHostDirectiveDefs){const g=[];u=u||new Map,f.findHostDirectiveDefs(f,g,u),a.unshift(...g,f),pu(e,t,g.length)}else a.unshift(f),pu(e,t,0);else u=u||new Map,f.findHostDirectiveDefs?.(f,a,u),a.push(f)}return null===a?null:[a,u]}(e,s);let f,g;null===c?f=g=null:[f,g]=c,null!==f&&fh(e,t,s,f,u,g),u&&function T0(e,t,s){if(t){const a=e.localNames=[];for(let u=0;u<t.length;u+=2){const c=s[t[u+1]];if(null==c)throw new z(-301,!1);a.push(t[u],c)}}}(s,a,u)}s.mergedAttrs=mo(s.mergedAttrs,s.attrs)}function fh(e,t,s,a,u,c){for(let C=0;C<a.length;C++)$i(ln(s,t),e,a[C].type);!function Vm(e,t,s){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+s,e.providerIndexes=t}(s,e.data.length,a.length);for(let C=0;C<a.length;C++){const w=a[C];w.providersResolver&&w.providersResolver(w)}let f=!1,g=!1,_=Za(e,t,a.length,null);for(let C=0;C<a.length;C++){const w=a[C];s.mergedAttrs=mo(s.mergedAttrs,w.hostAttrs),S0(e,s,t,_,w),An(_,w,u),null!==w.contentQueries&&(s.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(s.flags|=64);const O=w.type.prototype;!f&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((e.preOrderHooks??=[]).push(s.index),f=!0),!g&&(O.ngOnChanges||O.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(s.index),g=!0),_++}!function IE(e,t,s){const u=t.directiveEnd,c=e.data,f=t.attrs,g=[];let _=null,C=null;for(let w=t.directiveStart;w<u;w++){const O=c[w],L=s?s.get(O):null,ne=L?L.outputs:null;_=fu(O.inputs,w,_,L?L.inputs:null),C=fu(O.outputs,w,C,ne);const ue=null===_||null===f||vo(t)?null:A0(_,w,f);g.push(ue)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=8),_.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=g,t.inputs=_,t.outputs=C}(e,s,c)}function Uc(e,t,s){const a=s.directiveStart,u=s.directiveEnd,c=s.index,f=function vf(){return Xe.lFrame.currentDirectiveIndex}();try{Zr(c);for(let g=a;g<u;g++){const _=e.data[g],C=t[g];Ta(g),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&pt(_,C)}}finally{Zr(-1),Ta(f)}}function pt(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function pu(e,t,s){t.componentOffset=s,(e.components??=[]).push(t.index)}function An(e,t,s){if(s){if(t.exportAs)for(let a=0;a<t.exportAs.length;a++)s[t.exportAs[a]]=e;cr(t)&&(s[""]=e)}}function S0(e,t,s,a,u){e.data[a]=u;const c=u.factory||(u.factory=Ei(u.type)),f=new Ys(c,cr(u),Fc);e.blueprint[a]=f,s[a]=f,function Lm(e,t,s,a,u){const c=u.hostBindings;if(c){let f=e.hostBindingOpCodes;null===f&&(f=e.hostBindingOpCodes=[]);const g=~t.index;(function Vc(e){let t=e.length;for(;t>0;){const s=e[--t];if("number"==typeof s&&s<0)return s}return 0})(f)!=g&&f.push(g),f.push(s,a,c)}}(e,t,a,Za(e,s,u.hostVars,lt),u)}function Rs(e,t,s,a,u,c){const f=tr(e,t);!function Ka(e,t,s,a,u,c,f){if(null==c)e.removeAttribute(t,u,s);else{const g=null==f?Q(c):f(c,a||"",u);e.setAttribute(t,u,g,s)}}(t[Ke],f,c,e.value,s,a,u)}function ph(e,t,s,a,u,c){const f=c[t];if(null!==f)for(let g=0;g<f.length;)Bc(a,s,f[g++],f[g++],f[g++])}function Bc(e,t,s,a,u){const c=Zn(null);try{const f=e.inputTransforms;null!==f&&f.hasOwnProperty(a)&&(u=f[a].call(t,u)),null!==e.setInput?e.setInput(t,u,s,a):t[a]=u}finally{Zn(c)}}function A0(e,t,s){let a=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===a&&(a=[]);const f=e[c];for(let g=0;g<f.length;g+=2)if(f[g]===t){a.push(c,f[g+1],s[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function tp(e,t,s,a){return[e,!0,!1,t,null,0,a,s,null,null,null]}function jc(e,t){const s=e.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const c=s[a+1];if(-1!==c){const f=e.data[c];sc(s[a]),f.contentQueries(2,t[c],c)}}}function np(e,t){return e[Hr]?e[vd][Ir]=t:e[Hr]=t,e[vd]=t,t}function Hc(e,t,s){sc(0);const a=Zn(null);try{t(e,s)}finally{Zn(a)}}function DE(e){return e[cs]||(e[cs]=[])}function wE(e){return e.cleanup||(e.cleanup=[])}function bE(e,t){const s=e[vi],a=s?s.get($a,null):null;a&&a.handleError(t)}function gh(e,t,s,a,u){for(let c=0;c<s.length;){const f=s[c++],g=s[c++];Bc(e.data[f],t[f],a,g,u)}}function ip(e,t){const s=Kn(t,e),a=s[Re];!function TE(e,t){for(let s=t.length;s<e.blueprint.length;s++)t.push(e.blueprint[s])}(a,s);const u=s[tn];null!==u&&null===s[$r]&&(s[$r]=lu(u,s[vi])),sp(a,s,s[on])}function sp(e,t,s){Sr(t);try{const a=e.viewQuery;null!==a&&Hc(1,a,s);const u=e.template;null!==u&&hh(e,t,u,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&jc(e,t),e.staticViewQueries&&Hc(2,e.viewQuery,s);const c=e.components;null!==c&&function op(e,t){for(let s=0;s<t.length;s++)ip(e,t[s])}(t,c)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[ut]&=-5,Vn()}}let SE=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(s,a,u){const c=typeof Zone>"u"?null:Zone.current,f=function Md(e,t,s){const a=Object.create(hf);s&&(a.consumerAllowSignalWrites=!0),a.fn=e,a.schedule=t;const u=f=>{a.cleanupFn=f};return a.ref={notify:()=>Tl(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Td(a))return;a.hasRun=!0;const f=Hu(a);try{a.cleanupFn(),a.cleanupFn=Rl,a.fn(u)}finally{pn(a,f)}},cleanup:()=>a.cleanupFn()},a.ref}(s,C=>{this.all.has(C)&&this.queue.set(C,c)},u);let g;this.all.add(f),f.notify();const _=()=>{f.cleanup(),g?.(),this.all.delete(f),this.queue.delete(f)};return g=a?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=nt({token:e,providedIn:"root",factory:()=>new e})}return e})();function Qo(e,t,s){let a=s?e.styles:null,u=s?e.classes:null,c=0;if(null!==t)for(let f=0;f<t.length;f++){const g=t[f];"number"==typeof g?c=g:1==c?u=Ie(u,g):2==c&&(a=Ie(a,g+": "+t[++f]+";"))}s?e.styles=a:e.stylesWithoutHost=a,s?e.classes=u:e.classesWithoutHost=u}function gu(e,t,s,a,u=!1){for(;null!==s;){const c=t[s.index];null!==c&&a.push(Nt(c)),zn(c)&&lp(c,a);const f=s.type;if(8&f)gu(e,t,s.child,a);else if(32&f){const g=Di(s,t);let _;for(;_=g();)a.push(_)}else if(16&f){const g=Yg(t,s);if(Array.isArray(g))a.push(...g);else{const _=Wo(t[Cn]);gu(_[Re],_,g,a,!0)}}s=u?s.projectionNext:s.next}return a}function lp(e,t){for(let s=In;s<e.length;s++){const a=e[s],u=a[Re].firstChild;null!==u&&gu(a[Re],a,u,t)}e[kn]!==e[tn]&&t.push(e[kn])}function up(e,t,s,a=!0){const u=t[Pi],c=u.rendererFactory,f=u.afterRenderEventManager;c.begin?.(),f?.begin();try{ME(e,t,e.template,s)}catch(_){throw a&&bE(t,_),_}finally{c.end?.(),u.effectManager?.flush(),f?.end()}}function ME(e,t,s,a){const u=t[ut];if(256!=(256&u)){t[Pi].effectManager?.flush(),Sr(t);try{Nd(t),function rc(e){return Xe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&hh(e,t,s,2,a);const f=3==(3&u);if(f){const C=e.preOrderCheckHooks;null!==C&&Fo(t,C,null)}else{const C=e.preOrderHooks;null!==C&&qs(t,C,0,null),Ma(t,0)}if(function M0(e){for(let t=ly(e);null!==t;t=zg(t)){if(!t[$s])continue;const s=t[ki];for(let a=0;a<s.length;a++){_s(s[a])}}}(t),RE(t,2),null!==e.contentQueries&&jc(e,t),f){const C=e.contentCheckHooks;null!==C&&Fo(t,C)}else{const C=e.contentHooks;null!==C&&qs(t,C,1),Ma(t,1)}!function E0(e,t){const s=e.hostBindingOpCodes;if(null===s)return;const a=pE(t,wr);try{for(let u=0;u<s.length;u++){const c=s[u];if(c<0)Zr(~c);else{const f=c,g=s[++u],_=s[++u];ba(g,f),a.dirty=!1;const C=Hu(a);try{_(2,t[f])}finally{pn(a,C)}}}}finally{null===t[wr]&&gE(t,wr),Zr(-1)}}(e,t);const g=e.components;null!==g&&dp(t,g,0);const _=e.viewQuery;if(null!==_&&Hc(2,_,a),f){const C=e.viewCheckHooks;null!==C&&Fo(t,C)}else{const C=e.viewHooks;null!==C&&qs(t,C,2),Ma(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[ut]&=-73,gf(t)}finally{Vn()}}}function RE(e,t){for(let s=ly(e);null!==s;s=zg(s))for(let a=In;a<s.length;a++)cp(s[a],t)}function ho(e,t,s){cp(Kn(t,e),s)}function cp(e,t){if(!function Ju(e){return 128==(128&e[ut])}(e))return;const s=e[Re],a=e[ut];if(80&a&&0===t||1024&a||2===t)ME(s,e,s.template,e[on]);else if(e[_i]>0){RE(e,1);const u=s.components;null!==u&&dp(e,u,1)}}function dp(e,t,s){for(let a=0;a<t.length;a++)ho(e,t[a],s)}class mu{get rootNodes(){const t=this._lView,s=t[Re];return gu(s,t,s.firstChild,[])}constructor(t,s){this._lView=t,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[on]}set context(t){this._lView[on]=t}get destroyed(){return 256==(256&this._lView[ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ft];if(zn(t)){const s=t[8],a=s?s.indexOf(this):-1;a>-1&&(Mf(t,a),Fa(s,a))}this._attachedToViewContainer=!1}Zg(this._lView[Re],this._lView)}onDestroy(t){!function Zs(e,t){if(256==(256&e[ut]))throw new z(911,!1);null===e[ds]&&(e[ds]=[]),e[ds].push(t)}(this._lView,t)}markForCheck(){kc(this._cdRefInjectingView||this._lView)}detach(){this._lView[ut]&=-129}reattach(){this._lView[ut]|=128}detectChanges(){up(this._lView[Re],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zd(e,t){Yd(e,t,t[Ke],2,null,null)}(this._lView[Re],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=t}}class hp extends mu{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;up(t[Re],t,t[on],!1)}checkNoChanges(){}get context(){return null}}class $c extends uu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const s=vt(t);return new mh(s,this.ngModule)}}function qa(e){const t=[];for(let s in e)e.hasOwnProperty(s)&&t.push({propName:e[s],templateName:s});return t}class Ya{constructor(t,s){this.injector=t,this.parentInjector=s}get(t,s,a){a=wt(a);const u=this.injector.get(t,uh,a);return u!==uh||s===uh?u:this.parentInjector.get(t,s,a)}}class mh extends zy{get inputs(){const t=this.componentDef,s=t.inputTransforms,a=qa(t.inputs);if(null!==s)for(const u of a)s.hasOwnProperty(u.propName)&&(u.transform=s[u.propName]);return a}get outputs(){return qa(this.componentDef.outputs)}constructor(t,s){super(),this.componentDef=t,this.ngModule=s,this.componentType=t.type,this.selector=function lf(e){return e.map(pl).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!s}create(t,s,a,u){let c=(u=u||this.ngModule)instanceof Ms?u:u?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const f=c?new Ya(t,c):t,g=f.get(gm,null);if(null===g)throw new z(407,!1);const O={rendererFactory:g,sanitizer:f.get(mm,null),effectManager:f.get(SE,null),afterRenderEventManager:f.get(xc,null)},L=g.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",ne=a?function C0(e,t,s,a){const c=a.get(xt,!1)||s===ye.ShadowDom,f=e.selectRootElement(t,c);return function xm(e){ep(e)}(f),f}(L,a,this.componentDef.encapsulation,f):Af(L,j,function Gc(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(j)),$e=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ee=null;null!==ne&&(Ee=lu(ne,f,!0));const ht=Pm(0,null,null,1,0,null,null,null,null,null,null),Tt=dh(null,ht,null,$e,null,null,O,L,f,null,Ee);let Qt,os;Sr(Tt);try{const ku=this.componentDef;let Mg,cT=null;ku.findHostDirectiveDefs?(Mg=[],cT=new Map,ku.findHostDirectiveDefs(ku,Mg,cT),Mg.push(ku)):Mg=[ku];const cA=function _h(e,t){const s=e[Re],a=_t;return e[a]=t,Ji(s,a,2,"#host",null)}(Tt,ne),dA=function N0(e,t,s,a,u,c,f){const g=u[Re];!function O0(e,t,s,a){for(const u of e)t.mergedAttrs=mo(t.mergedAttrs,u.hostAttrs);null!==t.mergedAttrs&&(Qo(t,t.mergedAttrs,!0),null!==s&&Qd(a,s,t))}(a,e,t,f);let _=null;null!==t&&(_=lu(t,u[vi]));const C=c.rendererFactory.createRenderer(t,s);let w=16;s.signals?w=4096:s.onPush&&(w=64);const O=dh(u,es(s),null,w,u[e.index],e,c,C,null,null,_);return g.firstCreatePass&&pu(g,e,a.length-1),np(u,O),u[e.index]=O}(cA,ne,ku,Mg,Tt,O,L);os=Ol(ht,_t),ne&&function vh(e,t,s,a){if(a)Us(e,s,["ng-version",vm.full]);else{const{attrs:u,classes:c}=function ur(e){const t=[],s=[];let a=1,u=2;for(;a<e.length;){let c=e[a];if("string"==typeof c)2===u?""!==c&&t.push(c,e[++a]):8===u&&s.push(c);else{if(!lr(u))break;u=c}a++}return{attrs:t,classes:s}}(t.selectors[0]);u&&Us(e,s,u),c&&c.length>0&&_y(e,s,c.join(" "))}}(L,ku,ne,a),void 0!==s&&function NE(e,t,s){const a=e.projection=[];for(let u=0;u<t.length;u++){const c=s[u];a.push(null!=c?Array.from(c):null)}}(os,this.ngContentSelectors,s),Qt=function fp(e,t,s,a,u,c){const f=Fn(),g=u[Re],_=tr(f,u);fh(g,u,f,s,null,a);for(let w=0;w<s.length;w++)xr(ws(u,g,f.directiveStart+w,f),u);Uc(g,u,f),_&&xr(_,u);const C=ws(u,g,f.directiveStart+f.componentOffset,f);if(e[on]=u[on]=C,null!==c)for(const w of c)w(C,t);return Xf(g,f,e),C}(dA,ku,Mg,cT,Tt,[pp]),sp(ht,Tt,null)}finally{Vn()}return new R0(this.componentType,Qt,cu(os,Tt),Tt,os)}}class R0 extends Rc{constructor(t,s,a,u,c){super(),this.location=a,this._rootLView=u,this._tNode=c,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new hp(u),this.componentType=t}setInput(t,s){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),s))return;const c=this._rootLView;gh(c[Re],c,u,t,s),this.previousInputValues.set(t,s),kc(Kn(this._tNode.index,c))}}get injector(){return new Ut(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function pp(){const e=Fn();ji(ge()[Re],e)}function yh(e){let t=function Qa(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),s=!0;const a=[e];for(;t;){let u;if(cr(e))u=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new z(903,!1);u=t.\u0275dir}if(u){if(s){a.push(u);const f=e;f.inputs=Bt(e.inputs),f.inputTransforms=Bt(e.inputTransforms),f.declaredInputs=Bt(e.declaredInputs),f.outputs=Bt(e.outputs);const g=u.hostBindings;g&&Bm(e,g);const _=u.viewQuery,C=u.contentQueries;if(_&&Ns(e,_),C&&Eh(e,C),V(e.inputs,u.inputs),V(e.declaredInputs,u.declaredInputs),V(e.outputs,u.outputs),null!==u.inputTransforms&&(null===f.inputTransforms&&(f.inputTransforms={}),V(f.inputTransforms,u.inputTransforms)),cr(u)&&u.data.animation){const w=e.data;w.animation=(w.animation||[]).concat(u.data.animation)}}const c=u.features;if(c)for(let f=0;f<c.length;f++){const g=c[f];g&&g.ngInherit&&g(e),g===yh&&(s=!1)}}t=Object.getPrototypeOf(t)}!function P0(e){let t=0,s=null;for(let a=e.length-1;a>=0;a--){const u=e[a];u.hostVars=t+=u.hostVars,u.hostAttrs=mo(u.hostAttrs,s=mo(s,u.hostAttrs))}}(a)}function Bt(e){return e===Ve?{}:e===xe?[]:e}function Ns(e,t){const s=e.viewQuery;e.viewQuery=s?(a,u)=>{t(a,u),s(a,u)}:t}function Eh(e,t){const s=e.contentQueries;e.contentQueries=s?(a,u,c)=>{t(a,u,c),s(a,u,c)}:t}function Bm(e,t){const s=e.hostBindings;e.hostBindings=s?(a,u)=>{t(a,u),s(a,u)}:t}function xE(e){const t=e.inputConfig,s={};for(const a in t)if(t.hasOwnProperty(a)){const u=t[a];Array.isArray(u)&&u[2]&&(s[a]=u[2])}e.inputTransforms=s}function mp(e){return!!Hm(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Hm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Fr(e,t,s){return!Object.is(e[t],s)&&(e[t]=s,!0)}function $m(e,t,s,a){const u=ge();return Fr(u,vs(),t)&&(Ct(),Rs($t(),u,e,t,s,a)),$m}function $E(e,t,s,a,u,c,f,g){const _=ge(),C=Ct(),w=e+_t,O=C.firstCreatePass?function Z0(e,t,s,a,u,c,f,g,_){const C=t.consts,w=Ji(t,e,4,f||null,ms(C,g));Fm(t,s,w,ms(C,_)),ji(t,w);const O=w.tView=Pm(2,w,a,u,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,C,null);return null!==t.queries&&(t.queries.template(t,w),O.queries=t.queries.embeddedTView(w)),w}(w,C,_,t,s,a,u,c,f):C.data[w];ni(O,!1);const L=GE(C,_,O,e);Kr()&&Kd(C,_,L,O),xr(L,_),np(_,_[w]=tp(L,_,L,O)),br(O)&&Xi(C,_,O),null!=f&&Lc(_,O,g)}let GE=function Xm(e,t,s,a){return si(!0),t[Ke].createComment("")};function t_(e,t,s){const a=ge();return Fr(a,vs(),t)&&function Ti(e,t,s,a,u,c,f,g){const _=tr(t,s);let w,C=t.inputs;!g&&null!=C&&(w=C[a])?(gh(e,s,w,a,u),yi(t)&&function w0(e,t){const s=Kn(t,e);16&s[ut]||(s[ut]|=64)}(s,t.index)):3&t.type&&(a=function D0(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),u=null!=f?f(u,t.value||"",a):u,c.setProperty(_,a,u))}(Ct(),$t(),a,e,t,a[Ke],s,!1),t_}function n_(e,t,s,a,u){const f=u?"class":"style";gh(e,s,t.inputs[f],f,a)}function Iu(e,t,s,a){const u=ge(),c=Ct(),f=_t+e,g=u[Ke],_=c.firstCreatePass?function q0(e,t,s,a,u,c){const f=t.consts,_=Ji(t,e,2,a,ms(f,u));return Fm(t,s,_,ms(f,c)),null!==_.attrs&&Qo(_,_.attrs,!1),null!==_.mergedAttrs&&Qo(_,_.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,_),_}(f,c,u,t,s,a):c.data[f],C=bp(c,u,_,g,t,e);u[f]=C;const w=br(_);return ni(_,!0),Qd(g,C,_),32!=(32&_.flags)&&Kr()&&Kd(c,u,C,_),0===function Da(){return Xe.lFrame.elementDepthCount}()&&xr(C,u),function wn(){Xe.lFrame.elementDepthCount++}(),w&&(Xi(c,u,_),Xf(c,_,u)),null!==a&&Lc(u,_),Iu}function Th(){let e=Fn();nc()?function Fl(){Xe.lFrame.isParent=!1}():(e=e.parent,ni(e,!1));const t=e;(function Ks(e){return Xe.skipHydrationRootTNode===e})(t)&&function tc(){Xe.skipHydrationRootTNode=null}(),function Od(){Xe.lFrame.elementDepthCount--}();const s=Ct();return s.firstCreatePass&&(ji(s,e),Cl(e)&&s.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Cs(e){return 0!=(8&e.flags)}(t)&&n_(s,t,ge(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function $l(e){return 0!=(16&e.flags)}(t)&&n_(s,t,ge(),t.stylesWithoutHost,!1),Th}function r_(e,t,s,a){return Iu(e,t,s,a),Th(),r_}let bp=(e,t,s,a,u,c)=>(si(!0),Af(a,u,function jl(){return Xe.lFrame.currentNamespace}()));function Rp(){return ge()}function Sh(e){return!!e&&"function"==typeof e.then}function WE(e){return!!e&&"function"==typeof e.subscribe}function Du(e,t,s,a){const u=ge(),c=Ct(),f=Fn();return function ZE(e,t,s,a,u,c,f){const g=br(a),C=e.firstCreatePass&&wE(e),w=t[on],O=DE(t);let L=!0;if(3&a.type||f){const ue=tr(a,t),Te=f?f(ue):ue,$e=O.length,Ee=f?Tt=>f(Nt(Tt[a.index])):a.index;let ht=null;if(!f&&g&&(ht=function Q0(e,t,s,a){const u=e.cleanup;if(null!=u)for(let c=0;c<u.length-1;c+=2){const f=u[c];if(f===s&&u[c+1]===a){const g=t[cs],_=u[c+2];return g.length>_?g[_]:null}"string"==typeof f&&(c+=2)}return null}(e,t,u,a.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=c,ht.__ngLastListenerFn__=c,L=!1;else{c=Op(a,t,w,c,!1);const Tt=s.listen(Te,u,c);O.push(c,Tt),C&&C.push(u,Ee,$e,$e+1)}}else c=Op(a,t,w,c,!1);const j=a.outputs;let ne;if(L&&null!==j&&(ne=j[u])){const ue=ne.length;if(ue)for(let Te=0;Te<ue;Te+=2){const Qt=t[ne[Te]][ne[Te+1]].subscribe(c),os=O.length;O.push(c,Qt),C&&C.push(u,a.index,os,-(os+1))}}}(c,u,u[Ke],f,e,t,a),Du}function Np(e,t,s,a){try{return Or(6,t,s),!1!==s(a)}catch(u){return bE(e,u),!1}finally{Or(7,t,s)}}function Op(e,t,s,a,u){return function c(f){if(f===Function)return a;kc(e.componentOffset>-1?Kn(e.index,t):t);let _=Np(t,s,a,f),C=c.__ngNextListenerFn__;for(;C;)_=Np(t,s,C,f)&&_,C=C.__ngNextListenerFn__;return u&&!1===_&&f.preventDefault(),_}}function KE(e=1){return function ko(e){return(Xe.lFrame.contextLView=function Aa(e,t){for(;e>0;)t=t[Nr],e--;return t}(e,Xe.lFrame.contextLView))[on]}(e)}function Nh(e,t){return e<<17|t<<2}function il(e){return e>>17&32767}function u_(e){return 2|e}function wu(e){return(131068&e)>>2}function c_(e,t){return-131069&e|t<<2}function ed(e){return 1|e}function td(e,t,s,a,u){const c=e[s+1],f=null===t;let g=a?il(c):wu(c),_=!1;for(;0!==g&&(!1===_||f);){const w=e[g+1];tw(e[g],t)&&(_=!0,e[g+1]=a?ed(w):u_(w)),g=a?il(w):wu(w)}_&&(e[s+1]=a?u_(c):ed(c))}function tw(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&La(e,t)>=0}function g_(e,t){return function ks(e,t,s,a){const u=ge(),c=Ct(),f=function ii(e){const t=Xe.lFrame,s=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,s}(2);c.firstUpdatePass&&function nC(e,t,s,a){const u=e.data;if(null===u[s+1]){const c=u[nr()],f=function Lh(e,t){return t>=e.expandoStartIndex}(e,s);(function Vp(e,t){return 0!=(e.flags&(t?8:16))})(c,a)&&null===t&&!f&&(t=!1),t=function m_(e,t,s,a){const u=function Vl(e){const t=Xe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=a?t.residualClasses:t.residualStyles;if(null===u)0===(a?t.classBindings:t.styleBindings)&&(s=Vh(s=Lp(null,e,t,s,a),t.attrs,a),c=null);else{const f=t.directiveStylingLast;if(-1===f||e[f]!==u)if(s=Lp(u,e,t,s,a),null===c){let _=function rw(e,t,s){const a=s?t.classBindings:t.styleBindings;if(0!==wu(a))return e[il(a)]}(e,t,a);void 0!==_&&Array.isArray(_)&&(_=Lp(null,e,t,_[1],a),_=Vh(_,t.attrs,a),function iw(e,t,s,a){e[il(s?t.classBindings:t.styleBindings)]=a}(e,t,a,_))}else c=function sw(e,t,s){let a;const u=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<u;c++)a=Vh(a,e[c].hostAttrs,s);return Vh(a,t.attrs,s)}(e,t,a)}return void 0!==c&&(a?t.residualClasses=c:t.residualStyles=c),s}(u,c,t,a),function Ph(e,t,s,a,u,c){let f=c?t.classBindings:t.styleBindings,g=il(f),_=wu(f);e[a]=s;let w,C=!1;if(Array.isArray(s)?(w=s[1],(null===w||La(s,w)>0)&&(C=!0)):w=s,u)if(0!==_){const L=il(e[g+1]);e[a+1]=Nh(L,g),0!==L&&(e[L+1]=c_(e[L+1],a)),e[g+1]=function l_(e,t){return 131071&e|t<<17}(e[g+1],a)}else e[a+1]=Nh(g,0),0!==g&&(e[g+1]=c_(e[g+1],a)),g=a;else e[a+1]=Nh(_,0),0===g?g=a:e[_+1]=c_(e[_+1],a),_=a;C&&(e[a+1]=u_(e[a+1])),td(e,w,a,!0),td(e,w,a,!1),function fo(e,t,s,a,u){const c=u?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&La(c,t)>=0&&(s[a+1]=ed(s[a+1]))}(t,w,e,a,c),f=Nh(g,_),c?t.classBindings=f:t.styleBindings=f}(u,c,t,s,f,a)}}(c,e,f,a),t!==lt&&Fr(u,f,t)&&function sC(e,t,s,a,u,c,f,g){if(!(3&t.type))return;const _=e.data,C=_[g+1],w=function d_(e){return 1==(1&e)}(C)?bu(_,t,s,u,wu(C),f):void 0;Fs(w)||(Fs(c)||function Oh(e){return 2==(2&e)}(C)&&(c=bu(_,null,s,u,g,f)),function PD(e,t,s,a,u){if(t)u?e.addClass(s,a):e.removeClass(s,a);else{let c=-1===a.indexOf("-")?void 0:Bd.DashCase;null==u?e.removeStyle(s,a,c):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),c|=Bd.Important),e.setStyle(s,a,u,c))}}(a,f,ti(nr(),s),u,c))}(c,c.data[nr()],u,u[Ke],e,u[f+1]=function aw(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Z(Ba(e)))),e}(t,s),a,f)}(e,t,null,!0),g_}function Lp(e,t,s,a,u){let c=null;const f=s.directiveEnd;let g=s.directiveStylingLast;for(-1===g?g=s.directiveStart:g++;g<f&&(c=t[g],a=Vh(a,c.hostAttrs,u),c!==e);)g++;return null!==e&&(s.directiveStylingLast=g),a}function Vh(e,t,s){const a=s?1:2;let u=-1;if(null!==t)for(let c=0;c<t.length;c++){const f=t[c];"number"==typeof f?u=f:u===a&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),qr(e,f,!!s||t[++c]))}return void 0===e?null:e}function bu(e,t,s,a,u,c){const f=null===t;let g;for(;u>0;){const _=e[u],C=Array.isArray(_),w=C?_[1]:_,O=null===w;let L=s[u+1];L===lt&&(L=O?xe:void 0);let j=O?Ld(L,a):w===a?L:void 0;if(C&&!Fs(j)&&(j=Ld(_,a)),Fs(j)&&(g=j,f))return g;const ne=e[u+1];u=f?il(ne):wu(ne)}if(null!==t){let _=c?t.residualClasses:t.residualStyles;null!=_&&(g=Ld(_,a))}return g}function Fs(e){return void 0!==e}function Uh(e,t=""){const s=ge(),a=Ct(),u=e+_t,c=a.firstCreatePass?Ji(a,u,1,t,null):a.data[u],f=oC(a,s,c,t,e);s[u]=f,Kr()&&Kd(a,s,f,c),ni(c,!1)}let oC=(e,t,s,a,u)=>(si(!0),function Sf(e,t){return e.createText(t)}(t[Ke],a));function Up(e){return Bp("",e,""),Up}function Bp(e,t,s){const a=ge(),u=function Xo(e,t,s,a){return Fr(e,vs(),s)?t+Q(s)+a:lt}(a,e,t,s);return u!==lt&&function Yo(e,t,s){const a=ti(t,e);!function tu(e,t,s){e.setValue(t,s)}(e[Ke],a,s)}(a,nr(),u),Bp}const ol=void 0;var CC=["en",[["a","p"],["AM","PM"],ol],[["AM","PM"],ol,ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ol,"{1} 'at' {0}",ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function EC(e){const s=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Lr={};function I_(e){const t=function fw(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=D_(t);if(s)return s;const a=t.split("-")[0];if(s=D_(a),s)return s;if("en"===a)return CC;throw new z(701,!1)}function IC(e){return I_(e)[sd.PluralCase]}function D_(e){return e in Lr||(Lr[e]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[e]),Lr[e]}var sd=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(sd||{});const od="en-US";let DC=od;function x_(e,t,s,a,u){if(e=ve(e),Array.isArray(e))for(let c=0;c<e.length;c++)x_(e[c],t,s,a,u);else{const c=Ct(),f=ge(),g=Fn();let _=Dc(e)?e:ve(e.provide);const C=qi(e),w=1048575&g.providerIndexes,O=g.directiveStart,L=g.providerIndexes>>20;if(Dc(e)||!e.multi){const j=new Ys(C,u,Fc),ne=ld(_,t,u?w:w+L,O);-1===ne?($i(ln(g,f),c,_),k_(c,e,t.length),t.push(_),g.directiveStart++,g.directiveEnd++,u&&(g.providerIndexes+=1048576),s.push(j),f.push(j)):(s[ne]=j,f[ne]=j)}else{const j=ld(_,t,w+L,O),ne=ld(_,t,w,w+L),Te=ne>=0&&s[ne];if(u&&!Te||!u&&!(j>=0&&s[j])){$i(ln(g,f),c,_);const $e=function tg(e,t,s,a,u){const c=new Ys(e,s,Fc);return c.multi=[],c.index=t,c.componentProviders=0,vr(c,u,a&&!s),c}(u?L_:F_,s.length,u,a,C);!u&&Te&&(s[ne].providerFactory=$e),k_(c,e,t.length,0),t.push(_),g.directiveStart++,g.directiveEnd++,u&&(g.providerIndexes+=1048576),s.push($e),f.push($e)}else k_(c,e,j>-1?j:ne,vr(s[u?ne:j],C,!u&&a));!u&&a&&Te&&s[ne].componentProviders++}}}function k_(e,t,s,a){const u=Dc(t),c=function AT(e){return!!e.useClass}(t);if(u||c){const _=(c?ve(t.useClass):t).prototype.ngOnDestroy;if(_){const C=e.destroyHooks||(e.destroyHooks=[]);if(!u&&t.multi){const w=C.indexOf(s);-1===w?C.push(s,[a,_]):C[w+1].push(a,_)}else C.push(s,_)}}}function vr(e,t,s){return s&&e.componentProviders++,e.multi.push(t)-1}function ld(e,t,s,a){for(let u=s;u<a;u++)if(t[u]===e)return u;return-1}function F_(e,t,s,a){return ud(this.multi,[])}function L_(e,t,s,a){const u=this.multi;let c;if(this.providerFactory){const f=this.providerFactory.componentProviders,g=ws(s,s[Re],this.providerFactory.index,a);c=g.slice(0,f),ud(u,c);for(let _=f;_<g.length;_++)c.push(g[_])}else c=[],ud(u,c);return c}function ud(e,t){for(let s=0;s<e.length;s++)t.push((0,e[s])());return t}function ng(e,t=[]){return s=>{s.providersResolver=(a,u)=>function jw(e,t,s){const a=Ct();if(a.firstCreatePass){const u=cr(e);x_(s,a.data,a.blueprint,u,!0),x_(t,a.data,a.blueprint,u,!1)}}(a,u?u(e):e,t)}}class Au{}class WC{}function zC(e,t){return new V_(e,t??null,[])}class V_ extends Au{constructor(t,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $c(this);const u=xn(t);this._bootstrapComponents=co(u.bootstrap),this._r3Injector=Cm(t,s,[{provide:Au,useValue:this},{provide:uu,useValue:this.componentFactoryResolver},...a],Z(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Mu extends WC{constructor(t){super(),this.moduleType=t}create(t){return new V_(this.moduleType,t,[])}}class zh extends Au{constructor(t){super(),this.componentFactoryResolver=new $c(this),this.instance=null;const s=new Bf([...t.providers,{provide:Au,useValue:this},{provide:uu,useValue:this.componentFactoryResolver}],t.parent||wc(),t.debugName,new Set(["environment"]));this.injector=s,t.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function U_(e,t,s=null){return new zh({providers:e,parent:t,debugName:s,runEnvironmentInitializers:!0}).injector}let Hw=(()=>{class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Uy(0,s.type),u=a.length>0?U_([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,u)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=nt({token:e,providedIn:"environment",factory:()=>new e(be(Ms))})}return e})();function KC(e){e.getStandaloneInjector=t=>t.get(Hw).getOrCreateStandaloneInjector(e)}function Ru(e,t,s,a,u,c){const f=t+s;return Fr(e,f,u)?function Os(e,t,s){return e[t]=s}(e,f+1,c?a.call(c,u):a(u)):function cd(e,t){const s=e[t];return s===lt?void 0:s}(e,f+1)}function sI(e,t){const s=Ct();let a;const u=e+_t;s.firstCreatePass?(a=function Kw(e,t){if(t)for(let s=t.length-1;s>=0;s--){const a=t[s];if(e===a.name)return a}}(t,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks??=[]).push(u,a.onDestroy)):a=s.data[u];const c=a.factory||(a.factory=Ei(a.type)),g=mt(Fc);try{const _=fr(!1),C=c();return fr(_),function nl(e,t,s,a){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),t[s]=a}(s,ge(),u,C),C}finally{mt(g)}}function oI(e,t,s){const a=e+_t,u=ge(),c=function gs(e,t){return e[t]}(u,a);return function Nu(e,t){return e[Re].data[t].pure}(u,a)?Ru(u,function Ln(){const e=Xe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,c.transform,s,c):c.transform(s)}function Yw(){return this._results[Symbol.iterator]()}class J_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new uo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=J_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Yw)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,s){return this._results.reduce(t,s)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,s){const a=this;a.dirty=!1;const u=function qn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ii(e,t,s){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++){let u=e[a],c=t[a];if(s&&(u=s(u),c=s(c)),c!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function uI(e,t,s,a=!0){const u=t[Re];if(function SD(e,t,s,a){const u=In+a,c=s.length;a>0&&(s[u-1][Ir]=t),a<c-In?(t[Ir]=s[u],Pg(s,In+a,t)):(s.push(t),t[Ir]=null),t[Ft]=s;const f=t[Hs];null!==f&&s!==f&&function AD(e,t){const s=e[ki];t[Cn]!==t[Ft][Ft][Cn]&&(e[$s]=!0),null===s?e[ki]=[t]:s.push(t)}(f,t);const g=t[er];null!==g&&g.insertView(e),t[ut]|=128}(u,t,e,s),a){const c=Qg(s,e),f=t[Ke],g=Rf(f,e[kn]);null!==g&&function Wd(e,t,s,a,u,c){a[tn]=u,a[Xn]=t,Yd(e,a,s,1,u,c)}(u,e[Xn],f,t,g,c)}}let dd=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=eb}return e})();const cI=dd,uS=class extends cI{constructor(t,s,a){super(),this._declarationLView=t,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,s){return this.createEmbeddedViewImpl(t,s)}createEmbeddedViewImpl(t,s,a){const u=function Qw(e,t,s,a){const u=t.tView,g=dh(e,u,s,4096&e[ut]?4096:16,null,t,null,null,null,a?.injector??null,a?.hydrationInfo??null);g[Hs]=e[t.index];const C=e[er];return null!==C&&(g[er]=C.createEmbeddedView(u)),sp(u,g,s),g}(this._declarationLView,this._declarationTContainer,t,{injector:s,hydrationInfo:a});return new mu(u)}};function eb(){return X_(Fn(),ge())}function X_(e,t){return 4&e.type?new uS(t,e,cu(e,t)):null}let rv=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=iv}return e})();function iv(){return gI(Fn(),ge())}const cS=rv,pI=class extends cS{constructor(t,s,a){super(),this._lContainer=t,this._hostTNode=s,this._hostLView=a}get element(){return cu(this._hostTNode,this._hostLView)}get injector(){return new Ut(this._hostTNode,this._hostLView)}get parentInjector(){const t=Hi(this._hostTNode,this._hostLView);if(Bo(t)){const s=oi(t,this._hostLView),a=hr(t);return new Ut(s[Re].data[a+8],s)}return new Ut(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const s=ib(this._lContainer);return null!==s&&s[t]||null}get length(){return this._lContainer.length-In}createEmbeddedView(t,s,a){let u,c;"number"==typeof a?u=a:null!=a&&(u=a.index,c=a.injector);const g=t.createEmbeddedViewImpl(s||{},c,null);return this.insertImpl(g,u,false),g}createComponent(t,s,a,u,c){const f=t&&!function Tn(e){return"function"==typeof e}(t);let g;if(f)g=s;else{const ue=s||{};g=ue.index,a=ue.injector,u=ue.projectableNodes,c=ue.environmentInjector||ue.ngModuleRef}const _=f?t:new mh(vt(t)),C=a||this.parentInjector;if(!c&&null==_.ngModule){const Te=(f?C:this.parentInjector).get(Ms,null);Te&&(c=Te)}vt(_.componentType??{});const j=_.create(C,u,null,c);return this.insertImpl(j.hostView,g,false),j}insert(t,s){return this.insertImpl(t,s,!1)}insertImpl(t,s,a){const u=t._lView;if(function Ca(e){return zn(e[Ft])}(u)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const C=u[Ft],w=new pI(C,C[Xn],C[Ft]);w.detach(w.indexOf(t))}}const f=this._adjustIndex(s),g=this._lContainer;return uI(g,u,f,!a),t.attachToViewContainerRef(),Pg(sv(g),f,t),t}move(t,s){return this.insert(t,s)}indexOf(t){const s=ib(this._lContainer);return null!==s?s.indexOf(t):-1}remove(t){const s=this._adjustIndex(t,-1),a=Mf(this._lContainer,s);a&&(Fa(sv(this._lContainer),s),Zg(a[Re],a))}detach(t){const s=this._adjustIndex(t,-1),a=Mf(this._lContainer,s);return a&&null!=Fa(sv(this._lContainer),s)?new mu(a):null}_adjustIndex(t,s=0){return t??this.length+s}};function ib(e){return e[8]}function sv(e){return e[8]||(e[8]=[])}function gI(e,t){let s;const a=t[e.index];return zn(a)?s=a:(s=tp(a,t,null,e),t[e.index]=s,np(t,s)),sb(s,t,e,a),new pI(s,e,t)}let sb=function mI(e,t,s,a){if(e[kn])return;let u;u=8&s.type?Nt(a):function dS(e,t){const s=e[Ke],a=s.createComment(""),u=tr(t,e);return iu(s,Rf(s,u),a,function ND(e,t){return e.nextSibling(t)}(s,u),!1),a}(t,s),e[kn]=u};class _I{constructor(t){this.queryList=t,this.matches=null}clone(){return new _I(this.queryList)}setDirty(){this.queryList.setDirty()}}class vI{constructor(t=[]){this.queries=t}createEmbeddedView(t){const s=t.queries;if(null!==s){const a=null!==t.contentQueries?t.contentQueries[0]:s.length,u=[];for(let c=0;c<a;c++){const f=s.getByIndex(c);u.push(this.queries[f.indexInDeclarationView].clone())}return new vI(u)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let s=0;s<this.queries.length;s++)null!==dv(t,s).matches&&this.queries[s].setDirty()}}class ob{constructor(t,s,a=null){this.predicate=t,this.flags=s,this.read=a}}class lg{constructor(t=[]){this.queries=t}elementStart(t,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(t,s)}elementEnd(t){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(t)}embeddedTView(t){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(t,u);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new lg(s):null}template(t,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(t,s)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ov{constructor(t,s=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(t,s){this.isApplyingToNode(s)&&this.matchTNode(t,s)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,s){this.elementStart(t,s)}embeddedTView(t,s){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,s),new ov(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=t.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(t,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const c=a[u];this.matchTNodeWithReadOption(t,s,yI(s,c)),this.matchTNodeWithReadOption(t,s,Ds(s,t,c,!1,!1))}else a===dd?4&s.type&&this.matchTNodeWithReadOption(t,s,-1):this.matchTNodeWithReadOption(t,s,Ds(s,t,a,!1,!1))}matchTNodeWithReadOption(t,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Nc||u===rv||u===dd&&4&s.type)this.addMatch(s.index,-2);else{const c=Ds(s,t,u,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(t,s){null===this.matches?this.matches=[t,s]:this.matches.push(t,s)}}function yI(e,t){const s=e.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===t)return s[a+1];return null}function CI(e,t,s,a){return-1===s?function EI(e,t){return 11&e.type?cu(e,t):4&e.type?X_(e,t):null}(t,e):-2===s?function II(e,t,s){return s===Nc?cu(t,e):s===dd?X_(t,e):s===rv?gI(t,e):void 0}(e,t,a):ws(e,e[Re],s,t)}function av(e,t,s,a){const u=t[er].queries[a];if(null===u.matches){const c=e.data,f=s.matches,g=[];for(let _=0;_<f.length;_+=2){const C=f[_];g.push(C<0?null:CI(t,c[C],f[_+1],s.metadata.read))}u.matches=g}return u.matches}function ug(e,t,s,a){const u=e.queries.getByIndex(s),c=u.matches;if(null!==c){const f=av(e,t,u,s);for(let g=0;g<c.length;g+=2){const _=c[g];if(_>0)a.push(f[g/2]);else{const C=c[g+1],w=t[-_];for(let O=In;O<w.length;O++){const L=w[O];L[Hs]===L[Ft]&&ug(L[Re],L,C,a)}if(null!==w[ki]){const O=w[ki];for(let L=0;L<O.length;L++){const j=O[L];ug(j[Re],j,C,a)}}}}}return a}function lv(e){const t=ge(),s=Ct(),a=Ul();sc(a+1);const u=dv(s,a);if(e.dirty&&function Pl(e){return 4==(4&e[ut])}(t)===(2==(2&u.metadata.flags))){if(null===u.matches)e.reset([]);else{const c=u.crossesNgTemplate?ug(s,t,a,[]):av(s,t,u,a);e.reset(c,qy),e.notifyOnChanges()}return!0}return!1}function DI(e,t,s,a){const u=Ct();if(u.firstCreatePass){const c=Fn();(function cv(e,t,s){null===e.queries&&(e.queries=new lg),e.queries.track(new ov(t,s))})(u,new ob(t,s,a),c.index),function bI(e,t){const s=e.contentQueries||(e.contentQueries=[]);t!==(s.length?s[s.length-1]:-1)&&s.push(e.queries.length-1,t)}(u,e),2==(2&s)&&(u.staticContentQueries=!0)}!function uv(e,t,s){const a=new J_(4==(4&s));(function EE(e,t,s,a){const u=DE(t);u.push(s),e.firstCreatePass&&wE(e).push(a,u.length-1)})(e,t,a,a.destroy),null===t[er]&&(t[er]=new vI),t[er].queries.push(new _I(a))}(u,ge(),s)}function wI(){return function ab(e,t){return e[er].queries[t].queryList}(ge(),Ul())}function dv(e,t){return e.queries.getByIndex(t)}function fv(e){return!!xn(e)}const Sv=new Lt("Application Initializer");let fg=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Le(Sv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const u of this.appInits){const c=u();if(Sh(c))s.push(c);else if(WE(c)){const f=new Promise((g,_)=>{c.subscribe({complete:g,error:_})});s.push(f)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||e)};static#t=this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ur=(()=>{class e{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||e)};static#t=this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Qh=new Lt("LocaleId",{providedIn:"root",factory:()=>Le(Qh,Ge.Optional|Ge.SkipSelf)||function cl(){return typeof $localize<"u"&&$localize.locale||od}()}),mS=new Lt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let pg=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Y.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||e)};static#t=this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class gg{constructor(t,s){this.ngModuleFactory=t,this.componentFactories=s}}let Nb=(()=>{class e{compileModuleSync(s){return new Mu(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),c=co(xn(s).declarations).reduce((f,g)=>{const _=vt(g);return _&&f.push(new mh(_)),f},[]);return new gg(a,c)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||e)};static#t=this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const WI=new Lt(""),xb=new Lt("");let xu,pd=(()=>{class e{constructor(s,a,u){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xu||(function yg(e){xu=e}(u),u.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_r.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,u){return[]}static#e=this.\u0275fac=function(a){return new(a||e)(be(_r),be(ef),be(xb))};static#t=this.\u0275prov=nt({token:e,factory:e.\u0275fac})}return e})(),ef=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return xu?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||e)};static#t=this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ls=null;const tf=new Lt("AllowMultipleToken"),Pv=new Lt("PlatformDestroyListeners"),nf=new Lt("appBootstrapListener");class kb{constructor(t,s){this.name=t,this.token=s}}function Cg(e,t,s=[]){const a=`Platform: ${t}`,u=new Lt(a);return(c=[])=>{let f=xv();if(!f||f.injector.get(tf,!1)){const g=[...s,...c,{provide:u,useValue:!0}];e?e(g):function KI(e){if(Ls&&!Ls.get(tf,!1))throw new z(400,!1);(function zI(){!function Zu(e){zu=e}(()=>{throw new z(600,!1)})})(),Ls=e;const t=e.get(kv);(function Lb(e){e.get(hm,null)?.forEach(s=>s())})(e)}(function Vb(e=[],t){return Qi.create({name:t,providers:[{provide:um,useValue:"platform"},{provide:Pv,useValue:new Set([()=>Ls=null])},...e]})}(g,a))}return function SS(e){const t=xv();if(!t)throw new z(401,!1);return t}()}}function xv(){return Ls?.get(kv)??null}let kv=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const u=function Ub(e="zone.js",t){return"noop"===e?new m0:"zone.js"===e?new _r(t):e}(a?.ngZone,function Ig(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return u.run(()=>{const c=function ZC(e,t,s){return new V_(e,t,s)}(s.moduleType,this.injector,function Vv(e){return[{provide:_r,useFactory:e},{provide:Ic,multi:!0,useFactory:()=>{const t=Le(AS,{optional:!0});return()=>t.initialize()}},{provide:Lv,useFactory:QI},{provide:Yf,useFactory:Sm}]}(()=>u)),f=c.injector.get($a,null);return u.runOutsideAngular(()=>{const g=u.onError.subscribe({next:_=>{f.handleError(_)}});c.onDestroy(()=>{gd(this._modules,c),g.unsubscribe()})}),function Bb(e,t,s){try{const a=s();return Sh(a)?a.catch(u=>{throw t.runOutsideAngular(()=>e.handleError(u)),u}):a}catch(a){throw t.runOutsideAngular(()=>e.handleError(a)),a}}(f,u,()=>{const g=c.injector.get(fg);return g.runInitializers(),g.donePromise.then(()=>(function wC(e){Fe(e,"Expected localeId to be defined"),"string"==typeof e&&(DC=e.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Qh,od)||od),this._moduleDoBootstrap(c),c))})})}bootstrapModule(s,a=[]){const u=YI({},a);return function Eg(e,t,s){const a=new Mu(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,u))}_moduleDoBootstrap(s){const a=s.injector.get(go);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new z(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Pv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||e)(be(Qi))};static#t=this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function YI(e,t){return Array.isArray(t)?t.reduce(YI,e):{...e,...t}}let go=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Le(Lv),this.zoneIsStable=Le(Yf),this.componentTypes=[],this.components=[],this.isStable=Le(pg).hasPendingTasks.pipe((0,me.w)(s=>s?(0,oe.of)(!1):this.zoneIsStable),(0,se.x)(),(0,ae.B)()),this._injector=Le(Ms)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const u=s instanceof zy;if(!this._injector.get(fg).done)throw!u&&js(s),new z(405,!1);let f;f=u?s:this._injector.get(uu).resolveComponentFactory(s),this.componentTypes.push(f.componentType);const g=function ZI(e){return e.isBoundToModule}(f)?void 0:this._injector.get(Au),C=f.create(Qi.NULL,[],a||f.selector,g),w=C.location.nativeElement,O=C.injector.get(WI,null);return O?.registerApplication(w),C.onDestroy(()=>{this.detachView(C.hostView),gd(this.components,C),O?.unregisterApplication(w)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;gd(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(nf,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>gd(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new z(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||e)};static#t=this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gd(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Lv=new Lt("",{providedIn:"root",factory:()=>Le($a).handleError.bind(void 0)});function QI(){const e=Le(_r),t=Le($a);return s=>e.runOutsideAngular(()=>t.handleError(s))}let AS=(()=>{class e{constructor(){this.zone=Le(_r),this.applicationRef=Le(go)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||e)};static#t=this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NS(){return!1}let jb=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=JI}return e})();function JI(e){return function Bv(e,t,s){if(yi(e)&&!s){const a=Kn(e.index,t);return new mu(a,a)}return 47&e.type?new mu(t[Cn],t):null}(Fn(),ge(),16==(16&e))}class Wv{constructor(){}supports(t){return mp(t)}create(t){return new rD(t)}}const Wb=(e,t)=>t;class rD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Wb}forEachItem(t){let s;for(s=this._itHead;null!==s;s=s._next)t(s)}forEachOperation(t){let s=this._itHead,a=this._removalsHead,u=0,c=null;for(;s||a;){const f=!a||s&&s.currentIndex<sD(a,u,c)?s:a,g=sD(f,u,c),_=f.currentIndex;if(f===a)u--,a=a._nextRemoved;else if(s=s._next,null==f.previousIndex)u++;else{c||(c=[]);const C=g-u,w=_-u;if(C!=w){for(let L=0;L<C;L++){const j=L<c.length?c[L]:c[L]=0,ne=j+L;w<=ne&&ne<C&&(c[L]=j+1)}c[f.previousIndex]=w-C}}g!==_&&t(f,g,_)}}forEachPreviousItem(t){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)t(s)}forEachAddedItem(t){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)t(s)}forEachMovedItem(t){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)t(s)}forEachRemovedItem(t){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)t(s)}forEachIdentityChange(t){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)t(s)}diff(t){if(null==t&&(t=[]),!mp(t))throw new z(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let u,c,f,s=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(let g=0;g<this.length;g++)c=t[g],f=this._trackByFn(g,c),null!==s&&Object.is(s.trackById,f)?(a&&(s=this._verifyReinsertion(s,c,f,g)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,f,g),a=!0),s=s._next}else u=0,function F0(e,t){if(Array.isArray(e))for(let s=0;s<e.length;s++)t(e[s]);else{const s=e[Symbol.iterator]();let a;for(;!(a=s.next()).done;)t(a.value)}}(t,g=>{f=this._trackByFn(u,g),null!==s&&Object.is(s.trackById,f)?(a&&(s=this._verifyReinsertion(s,g,f,u)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,f,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,s,a,u){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(t.item,s)||this._addIdentityChange(t,s),this._reinsertAfter(t,c,u)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(t.item,s)||this._addIdentityChange(t,s),this._moveAfter(t,c,u)):t=this._addAfter(new zb(s,a),c,u),t}_verifyReinsertion(t,s,a,u){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?t=this._reinsertAfter(c,t._prev,u):t.currentIndex!=u&&(t.currentIndex=u,this._addToMoves(t,u)),t}_truncate(t){for(;null!==t;){const s=t._next;this._addToRemovals(this._unlink(t)),t=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const u=t._prevRemoved,c=t._nextRemoved;return null===u?this._removalsHead=c:u._nextRemoved=c,null===c?this._removalsTail=u:c._prevRemoved=u,this._insertAfter(t,s,a),this._addToMoves(t,a),t}_moveAfter(t,s,a){return this._unlink(t),this._insertAfter(t,s,a),this._addToMoves(t,a),t}_addAfter(t,s,a){return this._insertAfter(t,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,s,a){const u=null===s?this._itHead:s._next;return t._next=u,t._prev=s,null===u?this._itTail=t:u._prev=t,null===s?this._itHead=t:s._next=t,null===this._linkedRecords&&(this._linkedRecords=new iD),this._linkedRecords.put(t),t.currentIndex=a,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const s=t._prev,a=t._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,t}_addToMoves(t,s){return t.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,s){return t.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zb{constructor(t,s){this.item=t,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zv{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,t))return a;return null}remove(t){const s=t._prevDup,a=t._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class iD{constructor(){this.map=new Map}put(t){const s=t.trackById;let a=this.map.get(s);a||(a=new zv,this.map.set(s,a)),a.add(t)}get(t,s){const u=this.map.get(t);return u?u.get(t,s):null}remove(t){const s=t.trackById;return this.map.get(s).remove(t)&&this.map.delete(s),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sD(e,t,s){const a=e.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+t+u}class Zv{constructor(){}supports(t){return t instanceof Map||Hm(t)}create(){return new Zb}}class Zb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let s;for(s=this._mapHead;null!==s;s=s._next)t(s)}forEachPreviousItem(t){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)t(s)}forEachChangedItem(t){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)t(s)}forEachAddedItem(t){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)t(s)}forEachRemovedItem(t){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)t(s)}diff(t){if(t){if(!(t instanceof Map||Hm(t)))throw new z(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(t,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,s){if(t){const a=t._prev;return s._next=t,s._prev=a,t._prev=s,a&&(a._next=s),t===this._mapHead&&(this._mapHead=s),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(t,s){if(this._records.has(t)){const u=this._records.get(t);this._maybeAddToChanges(u,s);const c=u._prev,f=u._next;return c&&(c._next=f),f&&(f._prev=c),u._next=null,u._prev=null,u}const a=new LS(t);return this._records.set(t,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,s){Object.is(s,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=s,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,s){t instanceof Map?t.forEach(s):Object.keys(t).forEach(a=>s(t[a],a))}}class LS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Tg(){return new Kv([new Wv])}let Kv=(()=>{class e{static#e=this.\u0275prov=nt({token:e,providedIn:"root",factory:Tg});constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||Tg()),deps:[[e,new Pe,new X]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new z(901,!1)}}return e})();function qv(){return new na([new Zv])}let na=(()=>{class e{static#e=this.\u0275prov=nt({token:e,providedIn:"root",factory:qv});constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||qv()),deps:[[e,new Pe,new X]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new z(901,!1)}}return e})();const Qb=Cg(null,"core",[]);let Jb=(()=>{class e{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||e)(be(go))};static#t=this.\u0275mod=ml({type:e});static#n=this.\u0275inj=Wt({})}return e})();function lT(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function o(e){const t=vt(e);if(!t)return null;const s=new mh(t);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},3106:(He,pe,N)=>{N.d(pe,{Z:()=>Ne});var d=N(9058),k=N(4537),S=N(534),W=N(7879);class Y{constructor(Oe,Ce){this._delegate=Oe,this.firebase=Ce,(0,S._addComponent)(Oe,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,S.deleteApp)(this._delegate)))}_getService(Oe,Ce=S._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(Oe);return!je.isInitialized()&&"EXPLICIT"===(null===(ze=je.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&je.initialize(),je.getImmediate({identifier:Ce})}_removeServiceInstance(Oe,Ce=S._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Ce)}_addComponent(Oe){(0,S._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,S._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),x=function se(){const ve=function me(ve){const Oe={},Ce={__esModule:!0,initializeApp:function z(De,K={}){const Ue=S.initializeApp(De,K);if((0,d.r3)(Oe,Ue.name))return Oe[Ue.name];const Ze=new ve(Ue,Ce);return Oe[Ue.name]=Ze,Ze},app:je,registerVersion:S.registerVersion,setLogLevel:S.setLogLevel,onLog:S.onLog,apps:null,SDK_VERSION:S.SDK_VERSION,INTERNAL:{registerComponent:function Q(De){const K=De.name,Ue=K.replace("-compat","");if(S._registerComponent(De)&&"PUBLIC"===De.type){const Ze=(gt=je())=>{if("function"!=typeof gt[Ue])throw ae.create("invalid-app-argument",{appName:K});return gt[Ue]()};void 0!==De.serviceProps&&(0,d.ZB)(Ze,De.serviceProps),Ce[Ue]=Ze,ve.prototype[Ue]=function(...gt){return this._getService.bind(this,K).apply(this,De.multipleInstances?gt:[])}}return"PUBLIC"===De.type?Ce[Ue]:null},removeApp:function ze(De){delete Oe[De]},useAsService:function de(De,K){return"serverAuth"===K?null:K},modularAPIs:S}};function je(De){if(!(0,d.r3)(Oe,De=De||S._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:De});return Oe[De]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function ce(){return Object.keys(Oe).map(De=>Oe[De])}}),je.App=ve,Ce}(Y);return ve.INTERNAL=Object.assign(Object.assign({},ve.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function Oe(Ce){(0,d.ZB)(ve,Ce)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ve}(),V=new W.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ve=self.firebase.SDK_VERSION;ve&&ve.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=x;!function _e(ve){(0,S.registerVersion)("@firebase/app-compat","0.2.13",ve)}()},534:(He,pe,N)=>{N.r(pe),N.d(pe,{FirebaseError:()=>W.ZR,SDK_VERSION:()=>Mr,_DEFAULT_ENTRY_NAME:()=>Ge,_addComponent:()=>un,_addOrOverwriteComponent:()=>or,_apps:()=>et,_clearComponents:()=>St,_components:()=>mt,_getProvider:()=>sn,_registerComponent:()=>ft,_removeServiceInstance:()=>Br,deleteApp:()=>dn,getApp:()=>Bn,getApps:()=>cn,initializeApp:()=>Rr,onLog:()=>Ht,registerVersion:()=>jn,setLogLevel:()=>jr});var d=N(5861),k=N(4537),S=N(7879),W=N(9058);const Y=(ie,q)=>q.some(ye=>ie instanceof ye);let oe,ae;const x=new WeakMap,V=new WeakMap,Z=new WeakMap,Ie=new WeakMap,_e=new WeakMap;let Oe={get(ie,q,ye){if(ie instanceof IDBTransaction){if("done"===q)return V.get(ie);if("objectStoreNames"===q)return ie.objectStoreNames||Z.get(ie);if("store"===q)return ye.objectStoreNames[1]?void 0:ye.objectStore(ye.objectStoreNames[0])}return z(ie[q])},set:(ie,q,ye)=>(ie[q]=ye,!0),has:(ie,q)=>ie instanceof IDBTransaction&&("done"===q||"store"===q)||q in ie};function je(ie){return"function"==typeof ie?function ze(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...q){return ie.apply(ce(this),q),z(x.get(this))}:function(...q){return z(ie.apply(ce(this),q))}:function(q,...ye){const Ve=ie.call(ce(this),q,...ye);return Z.set(Ve,q.sort?q.sort():[q]),z(Ve)}}(ie):(ie instanceof IDBTransaction&&function ve(ie){if(V.has(ie))return;const q=new Promise((ye,Ve)=>{const xe=()=>{ie.removeEventListener("complete",ot),ie.removeEventListener("error",At),ie.removeEventListener("abort",At)},ot=()=>{ye(),xe()},At=()=>{Ve(ie.error||new DOMException("AbortError","AbortError")),xe()};ie.addEventListener("complete",ot),ie.addEventListener("error",At),ie.addEventListener("abort",At)});V.set(ie,q)}(ie),Y(ie,function me(){return oe||(oe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Oe):ie)}function z(ie){if(ie instanceof IDBRequest)return function Ne(ie){const q=new Promise((ye,Ve)=>{const xe=()=>{ie.removeEventListener("success",ot),ie.removeEventListener("error",At)},ot=()=>{ye(z(ie.result)),xe()},At=()=>{Ve(ie.error),xe()};ie.addEventListener("success",ot),ie.addEventListener("error",At)});return q.then(ye=>{ye instanceof IDBCursor&&x.set(ye,ie)}).catch(()=>{}),_e.set(q,ie),q}(ie);if(Ie.has(ie))return Ie.get(ie);const q=je(ie);return q!==ie&&(Ie.set(ie,q),_e.set(q,ie)),q}const ce=ie=>_e.get(ie),De=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],Ue=new Map;function Ze(ie,q){if(!(ie instanceof IDBDatabase)||q in ie||"string"!=typeof q)return;if(Ue.get(q))return Ue.get(q);const ye=q.replace(/FromIndex$/,""),Ve=q!==ye,xe=K.includes(ye);if(!(ye in(Ve?IDBIndex:IDBObjectStore).prototype)||!xe&&!De.includes(ye))return;const ot=function(){var At=(0,d.Z)(function*(yn,...Xt){const Hn=this.transaction(yn,xe?"readwrite":"readonly");let gi=Hn.store;return Ve&&(gi=gi.index(Xt.shift())),(yield Promise.all([gi[ye](...Xt),xe&&Hn.done]))[0]});return function(Xt){return At.apply(this,arguments)}}();return Ue.set(q,ot),ot}!function Ce(ie){Oe=ie(Oe)}(ie=>({...ie,get:(q,ye,Ve)=>Ze(q,ye)||ie.get(q,ye,Ve),has:(q,ye)=>!!Ze(q,ye)||ie.has(q,ye)}));class gt{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function vn(ie){const q=ie.getComponent();return"VERSION"===q?.type}(ye)){const Ve=ye.getImmediate();return`${Ve.library}/${Ve.version}`}return null}).filter(ye=>ye).join(" ")}}const Qn="@firebase/app",Vt=new S.Yd("@firebase/app"),Ge="[DEFAULT]",st={[Qn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,mt=new Map;function un(ie,q){try{ie.container.addComponent(q)}catch(ye){Vt.debug(`Component ${q.name} failed to register with FirebaseApp ${ie.name}`,ye)}}function or(ie,q){ie.container.addOrOverwriteComponent(q)}function ft(ie){const q=ie.name;if(mt.has(q))return Vt.debug(`There were multiple attempts to register component ${q}.`),!1;mt.set(q,ie);for(const ye of et.values())un(ye,ie);return!0}function sn(ie,q){const ye=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),ie.container.getProvider(q)}function Br(ie,q,ye=Ge){sn(ie,q).clearInstance(ye)}function St(){mt.clear()}const rt=new W.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zt{constructor(q,ye,Ve){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=Ve,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw rt.create("app-deleted",{appName:this._name})}}const Mr="9.23.0";function Rr(ie,q={}){let ye=ie;"object"!=typeof q&&(q={name:q});const Ve=Object.assign({name:Ge,automaticDataCollectionEnabled:!1},q),xe=Ve.name;if("string"!=typeof xe||!xe)throw rt.create("bad-app-name",{appName:String(xe)});if(ye||(ye=(0,W.aH)()),!ye)throw rt.create("no-options");const ot=et.get(xe);if(ot){if((0,W.vZ)(ye,ot.options)&&(0,W.vZ)(Ve,ot.config))return ot;throw rt.create("duplicate-app",{appName:xe})}const At=new k.H0(xe);for(const Xt of mt.values())At.addComponent(Xt);const yn=new zt(ye,Ve,At);return et.set(xe,yn),yn}function Bn(ie=Ge){const q=et.get(ie);if(!q&&ie===Ge&&(0,W.aH)())return Rr();if(!q)throw rt.create("no-app",{appName:ie});return q}function cn(){return Array.from(et.values())}function dn(ie){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(ie){const q=ie.name;et.has(q)&&(et.delete(q),yield Promise.all(ie.container.getProviders().map(ye=>ye.delete())),ie.isDeleted=!0)})).apply(this,arguments)}function jn(ie,q,ye){var Ve;let xe=null!==(Ve=st[ie])&&void 0!==Ve?Ve:ie;ye&&(xe+=`-${ye}`);const ot=xe.match(/\s|\//),At=q.match(/\s|\//);if(ot||At){const yn=[`Unable to register library "${xe}" with version "${q}":`];return ot&&yn.push(`library name "${xe}" contains illegal characters (whitespace or "/")`),ot&&At&&yn.push("and"),At&&yn.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void Vt.warn(yn.join(" "))}ft(new k.wA(`${xe}-version`,()=>({library:xe,version:q}),"VERSION"))}function Ht(ie,q){if(null!==ie&&"function"!=typeof ie)throw rt.create("invalid-log-argument");(0,S.Am)(ie,q)}function jr(ie){(0,S.Ub)(ie)}const Nn="firebase-heartbeat-database",Cr=1,U="firebase-heartbeat-store";let F=null;function A(){return F||(F=function Q(ie,q,{blocked:ye,upgrade:Ve,blocking:xe,terminated:ot}={}){const At=indexedDB.open(ie,q),yn=z(At);return Ve&&At.addEventListener("upgradeneeded",Xt=>{Ve(z(At.result),Xt.oldVersion,Xt.newVersion,z(At.transaction),Xt)}),ye&&At.addEventListener("blocked",Xt=>ye(Xt.oldVersion,Xt.newVersion,Xt)),yn.then(Xt=>{ot&&Xt.addEventListener("close",()=>ot()),xe&&Xt.addEventListener("versionchange",Hn=>xe(Hn.oldVersion,Hn.newVersion,Hn))}).catch(()=>{}),yn}(Nn,Cr,{upgrade:(ie,q)=>{0===q&&ie.createObjectStore(U)}}).catch(ie=>{throw rt.create("idb-open",{originalErrorMessage:ie.message})})),F}function b(){return(b=(0,d.Z)(function*(ie){try{return yield(yield A()).transaction(U).objectStore(U).get(be(ie))}catch(q){if(q instanceof W.ZR)Vt.warn(q.message);else{const ye=rt.create("idb-get",{originalErrorMessage:q?.message});Vt.warn(ye.message)}}})).apply(this,arguments)}function $(ie,q){return he.apply(this,arguments)}function he(){return(he=(0,d.Z)(function*(ie,q){try{const Ve=(yield A()).transaction(U,"readwrite");yield Ve.objectStore(U).put(q,be(ie)),yield Ve.done}catch(ye){if(ye instanceof W.ZR)Vt.warn(ye.message);else{const Ve=rt.create("idb-set",{originalErrorMessage:ye?.message});Vt.warn(Ve.message)}}})).apply(this,arguments)}function be(ie){return`${ie.name}!${ie.options.appId}`}class wt{constructor(q){this.container=q,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new ct(ye),this._heartbeatsCachePromise=this._storage.read().then(Ve=>(this._heartbeatsCache=Ve,Ve))}triggerHeartbeat(){var q=this;return(0,d.Z)(function*(){const Ve=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xe=Je();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==xe&&!q._heartbeatsCache.heartbeats.some(ot=>ot.date===xe))return q._heartbeatsCache.heartbeats.push({date:xe,agent:Ve}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(ot=>{const At=new Date(ot.date).valueOf();return Date.now()-At<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,d.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const ye=Je(),{heartbeatsToSend:Ve,unsentEntries:xe}=function Pt(ie,q=1024){const ye=[];let Ve=ie.slice();for(const xe of ie){const ot=ye.find(At=>At.agent===xe.agent);if(ot){if(ot.dates.push(xe.date),On(ye)>q){ot.dates.pop();break}}else if(ye.push({agent:xe.agent,dates:[xe.date]}),On(ye)>q){ye.pop();break}Ve=Ve.slice(1)}return{heartbeatsToSend:ye,unsentEntries:Ve}}(q._heartbeatsCache.heartbeats),ot=(0,W.L)(JSON.stringify({version:2,heartbeats:Ve}));return q._heartbeatsCache.lastSentHeartbeatDate=ye,xe.length>0?(q._heartbeatsCache.heartbeats=xe,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),ot})()}}function Je(){return(new Date).toISOString().substring(0,10)}class ct{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,W.hl)()&&(0,W.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,d.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function R(ie){return b.apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var ye=this;return(0,d.Z)(function*(){var Ve;if(yield ye._canUseIndexedDBPromise){const ot=yield ye.read();return $(ye.app,{lastSentHeartbeatDate:null!==(Ve=q.lastSentHeartbeatDate)&&void 0!==Ve?Ve:ot.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var ye=this;return(0,d.Z)(function*(){var Ve;if(yield ye._canUseIndexedDBPromise){const ot=yield ye.read();return $(ye.app,{lastSentHeartbeatDate:null!==(Ve=q.lastSentHeartbeatDate)&&void 0!==Ve?Ve:ot.lastSentHeartbeatDate,heartbeats:[...ot.heartbeats,...q.heartbeats]})}})()}}function On(ie){return(0,W.L)(JSON.stringify({version:2,heartbeats:ie})).length}!function pi(ie){ft(new k.wA("platform-logger",q=>new gt(q),"PRIVATE")),ft(new k.wA("heartbeat",q=>new wt(q),"PRIVATE")),jn(Qn,"0.9.13",ie),jn(Qn,"0.9.13","esm2017"),jn("fire-js","")}("")},4537:(He,pe,N)=>{N.d(pe,{H0:()=>me,wA:()=>S,zt:()=>Y});var d=N(5861),k=N(9058);class S{constructor(x,V,Z){this.name=x,this.instanceFactory=V,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(x){return this.instantiationMode=x,this}setMultipleInstances(x){return this.multipleInstances=x,this}setServiceProps(x){return this.serviceProps=x,this}setInstanceCreatedCallback(x){return this.onInstanceCreated=x,this}}const W="[DEFAULT]";class Y{constructor(x,V){this.name=x,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(x){const V=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(V)){const Z=new k.BH;if(this.instancesDeferred.set(V,Z),this.isInitialized(V)||this.shouldAutoInitialize())try{const Ie=this.getOrInitializeService({instanceIdentifier:V});Ie&&Z.resolve(Ie)}catch{}}return this.instancesDeferred.get(V).promise}getImmediate(x){var V;const Z=this.normalizeInstanceIdentifier(x?.identifier),Ie=null!==(V=x?.optional)&&void 0!==V&&V;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(Ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(_e){if(Ie)return null;throw _e}}getComponent(){return this.component}setComponent(x){if(x.name!==this.name)throw Error(`Mismatching Component ${x.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=x,this.shouldAutoInitialize()){if(function ae(se){return"EAGER"===se.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:W})}catch{}for(const[V,Z]of this.instancesDeferred.entries()){const Ie=this.normalizeInstanceIdentifier(V);try{const _e=this.getOrInitializeService({instanceIdentifier:Ie});Z.resolve(_e)}catch{}}}}clearInstance(x=W){this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)}delete(){var x=this;return(0,d.Z)(function*(){const V=Array.from(x.instances.values());yield Promise.all([...V.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...V.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(x=W){return this.instances.has(x)}getOptions(x=W){return this.instancesOptions.get(x)||{}}initialize(x={}){const{options:V={}}=x,Z=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ie=this.getOrInitializeService({instanceIdentifier:Z,options:V});for(const[_e,Ne]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(_e)&&Ne.resolve(Ie);return Ie}onInit(x,V){var Z;const Ie=this.normalizeInstanceIdentifier(V),_e=null!==(Z=this.onInitCallbacks.get(Ie))&&void 0!==Z?Z:new Set;_e.add(x),this.onInitCallbacks.set(Ie,_e);const Ne=this.instances.get(Ie);return Ne&&x(Ne,Ie),()=>{_e.delete(x)}}invokeOnInitCallbacks(x,V){const Z=this.onInitCallbacks.get(V);if(Z)for(const Ie of Z)try{Ie(x,V)}catch{}}getOrInitializeService({instanceIdentifier:x,options:V={}}){let Z=this.instances.get(x);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(se=x,se===W?void 0:se),options:V}),this.instances.set(x,Z),this.instancesOptions.set(x,V),this.invokeOnInitCallbacks(Z,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,Z)}catch{}var se;return Z||null}normalizeInstanceIdentifier(x=W){return this.component?this.component.multipleInstances?x:W:x}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(x){this.name=x,this.providers=new Map}addComponent(x){const V=this.getProvider(x.name);if(V.isComponentSet())throw new Error(`Component ${x.name} has already been registered with ${this.name}`);V.setComponent(x)}addOrOverwriteComponent(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)}getProvider(x){if(this.providers.has(x))return this.providers.get(x);const V=new Y(x,this);return this.providers.set(x,V),V}getProviders(){return Array.from(this.providers.values())}}},7879:(He,pe,N)=>{N.d(pe,{Am:()=>se,Ub:()=>me,Yd:()=>ae,in:()=>k});const d=[];var k=function(x){return x[x.DEBUG=0]="DEBUG",x[x.VERBOSE=1]="VERBOSE",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT",x}(k||{});const S={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},W=k.INFO,Y={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},oe=(x,V,...Z)=>{if(V<x.logLevel)return;const Ie=(new Date).toISOString(),_e=Y[V];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[_e](`[${Ie}]  ${x.name}:`,...Z)};class ae{constructor(V){this.name=V,this._logLevel=W,this._logHandler=oe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in k))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?S[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...V),this._logHandler(this,k.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...V),this._logHandler(this,k.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,k.INFO,...V),this._logHandler(this,k.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,k.WARN,...V),this._logHandler(this,k.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...V),this._logHandler(this,k.ERROR,...V)}}function me(x){d.forEach(V=>{V.setLogLevel(x)})}function se(x,V){for(const Z of d){let Ie=null;V&&V.level&&(Ie=S[V.level]),Z.userLogHandler=null===x?null:(_e,Ne,...ve)=>{const Oe=ve.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch{return null}}).filter(Ce=>Ce).join(" ");Ne>=(Ie??_e.logLevel)&&x({level:k[Ne].toLowerCase(),message:Oe,args:ve,type:_e.name})}}}},3182:(He,pe,N)=>{N.d(pe,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=N(534);(0,d.registerVersion)("firebase","9.23.0","app")},7142:(He,pe,N)=>{N.d(pe,{Z:()=>d.Z});var d=N(3106);d.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(He,pe,N)=>{N.r(pe);var d=N(5861),k=N(3106),S=N(6878),W=N(9058),ae=(N(534),N(7879),N(4537));function me(){return window}function V(){return V=(0,d.Z)(function*(A,R,b){var $;const{BuildInfo:he}=me();(0,S.as)(R.sessionId,"AuthEvent did not contain a session ID");const be=yield function Ce(A){return ze.apply(this,arguments)}(R.sessionId),Qe={};return(0,S.at)()?Qe.ibi=he.packageName:(0,S.au)()?Qe.apn=he.packageName:(0,S.av)(A,"operation-not-supported-in-this-environment"),he.displayName&&(Qe.appDisplayName=he.displayName),Qe.sessionId=be,(0,S.aw)(A,b,R.type,void 0,null!==($=R.eventId)&&void 0!==$?$:void 0,Qe)}),V.apply(this,arguments)}function Ie(){return(Ie=(0,d.Z)(function*(A){const{BuildInfo:R}=me(),b={};(0,S.at)()?b.iosBundleId=R.packageName:(0,S.au)()?b.androidPackageName=R.packageName:(0,S.av)(A,"operation-not-supported-in-this-environment"),yield(0,S.ax)(A,b)})).apply(this,arguments)}function ve(){return(ve=(0,d.Z)(function*(A,R,b){const{cordova:$}=me();let he=()=>{};try{yield new Promise((be,Qe)=>{let Le=null;function wt(){var ct;be();const On=null===(ct=$.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof On&&On(),"function"==typeof b?.close&&b.close()}function Je(){Le||(Le=window.setTimeout(()=>{Qe((0,S.az)(A,"redirect-cancelled-by-user"))},2e3))}function Pt(){"visible"===document?.visibilityState&&Je()}R.addPassiveListener(wt),document.addEventListener("resume",Je,!1),(0,S.au)()&&document.addEventListener("visibilitychange",Pt,!1),he=()=>{R.removePassiveListener(wt),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",Pt,!1),Le&&window.clearTimeout(Le)}})}finally{he()}})).apply(this,arguments)}function ze(){return(ze=(0,d.Z)(function*(A){const R=function je(A){if((0,S.as)(/[0-9a-zA-Z]+/.test(A),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(A);const R=new ArrayBuffer(A.length),b=new Uint8Array(R);for(let $=0;$<A.length;$++)b[$]=A.charCodeAt($);return b}(A),b=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(b)).map(he=>he.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ce extends S.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(R)),super.onEvent(R)}initialized(){var R=this;return(0,d.Z)(function*(){yield R.initPromise})()}}function De(A){return K.apply(this,arguments)}function K(){return(K=(0,d.Z)(function*(A){const R=yield gt()._get(vn(A));return R&&(yield gt()._remove(vn(A))),R})).apply(this,arguments)}function Ze(){const A=[];for(let b=0;b<20;b++){const $=Math.floor(62*Math.random());A.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt($))}return A.join("")}function gt(){return(0,S.aC)(S.b)}function vn(A){return(0,S.aD)("authEvent",A.config.apiKey,A.name)}function Vt(A){if(!A?.includes("?"))return{};const[R,...b]=A.split("?");return(0,W.zd)(b.join("?"))}const ee=class Ni{constructor(){this._redirectPersistence=S.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=S.aE,this._overrideRedirectResult=S.aF}_initialize(R){var b=this;return(0,d.Z)(function*(){const $=R._key();let he=b.eventManagers.get($);return he||(he=new ce(R),b.eventManagers.set($,he),b.attachCallbackListeners(R,he)),he})()}_openPopup(R){(0,S.av)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,b,$,he){var be=this;return(0,d.Z)(function*(){!function Oe(A){var R,b,$,he,be,Qe,Le,wt,Je,Pt;const ct=me();(0,S.aA)("function"==typeof(null===(R=ct?.universalLinks)||void 0===R?void 0:R.subscribe),A,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,S.aA)(typeof(null===(b=ct?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,S.aA)("function"==typeof(null===(be=null===(he=null===($=ct?.cordova)||void 0===$?void 0:$.plugins)||void 0===he?void 0:he.browsertab)||void 0===be?void 0:be.openUrl),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,S.aA)("function"==typeof(null===(wt=null===(Le=null===(Qe=ct?.cordova)||void 0===Qe?void 0:Qe.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===wt?void 0:wt.isAvailable),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,S.aA)("function"==typeof(null===(Pt=null===(Je=ct?.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===Pt?void 0:Pt.open),A,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const Qe=yield be._initialize(R);yield Qe.initialized(),Qe.resetRedirect(),(0,S.aG)(),yield be._originValidation(R);const Le=function Q(A,R,b=null){return{type:R,eventId:b,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:A.tenantId,error:(0,S.az)(A,"no-auth-event")}}(R,$,he);yield function de(A,R){return gt()._set(vn(A),R)}(R,Le);const wt=yield function x(A,R,b){return V.apply(this,arguments)}(R,Le,b),Je=yield function _e(A){const{cordova:R}=me();return new Promise(b=>{R.plugins.browsertab.isAvailable($=>{let he=null;$?R.plugins.browsertab.openUrl(A):he=R.InAppBrowser.open(A,(0,S.ay)()?"_blank":"_system","location=yes"),b(he)})})}(wt);return function Ne(A,R,b){return ve.apply(this,arguments)}(R,Qe,Je)})()}_isIframeWebStorageSupported(R,b){throw new Error("Method not implemented.")}_originValidation(R){const b=R._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Z(A){return Ie.apply(this,arguments)}(R)),this.originValidationPromises[b]}attachCallbackListeners(R,b){const{universalLinks:$,handleOpenURL:he,BuildInfo:be}=me(),Qe=setTimeout((0,d.Z)(function*(){yield De(R),b.onEvent(re())}),500),Le=function(){var Pt=(0,d.Z)(function*(ct){clearTimeout(Qe);const On=yield De(R);let pi=null;On&&ct?.url&&(pi=function Ue(A,R){var b,$;const he=function Jr(A){const R=Vt(A),b=R.link?decodeURIComponent(R.link):void 0,$=Vt(b).link,he=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return Vt(he).link||he||$||b||A}(R);if(he.includes("/__/auth/callback")){const be=Vt(he),Qe=be.firebaseError?function Qn(A){try{return JSON.parse(A)}catch{return null}}(decodeURIComponent(be.firebaseError)):null,Le=null===($=null===(b=Qe?.code)||void 0===b?void 0:b.split("auth/"))||void 0===$?void 0:$[1],wt=Le?(0,S.az)(Le):null;return wt?{type:A.type,eventId:A.eventId,tenantId:A.tenantId,error:wt,urlResponse:null,sessionId:null,postBody:null}:{type:A.type,eventId:A.eventId,tenantId:A.tenantId,sessionId:A.sessionId,urlResponse:he,postBody:null}}return null}(On,ct.url)),b.onEvent(pi||re())});return function(On){return Pt.apply(this,arguments)}}();typeof $<"u"&&"function"==typeof $.subscribe&&$.subscribe(null,Le);const wt=he,Je=`${be.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var Pt=(0,d.Z)(function*(ct){if(ct.toLowerCase().startsWith(Je)&&Le({url:ct}),"function"==typeof wt)try{wt(ct)}catch(On){console.error(On)}});return function(ct){return Pt.apply(this,arguments)}}()}};function re(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,S.az)("no-auth-event")}}function Fe(){var A;return(null===(A=self?.location)||void 0===A?void 0:A.protocol)||null}function Mt(A=(0,W.z$)()){return!("file:"!==Fe()&&"ionic:"!==Fe()&&"capacitor:"!==Fe()||!A.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wt(){try{const A=self.localStorage,R=S.aL();if(A)return A.setItem(R,"1"),A.removeItem(R),!function Ot(A=(0,W.z$)()){return function Dt(){return(0,W.w1)()&&11===document?.documentMode}()||function nt(A=(0,W.z$)()){return/Edge\/\d+/.test(A)}(A)}()||(0,W.hl)()}catch{return jt()&&(0,W.hl)()}return!1}function jt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Rt(){return(function Me(){return"http:"===Fe()||"https:"===Fe()}()||(0,W.ru)()||Mt())&&!function Ye(){return(0,W.b$)()||(0,W.UG)()}()&&Wt()&&!jt()}function rn(){return Mt()&&typeof document<"u"}function sr(){return(sr=(0,d.Z)(function*(){return!!rn()&&new Promise(A=>{const R=setTimeout(()=>{A(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),A(!0)})})})).apply(this,arguments)}const Jt={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=S.aA,Xr="persistence";function st(A){return et.apply(this,arguments)}function et(){return(et=(0,d.Z)(function*(A){yield A._initializationPromise;const R=un(),b=S.aD(Xr,A.config.apiKey,A.name);R&&R.setItem(b,A._getPersistence())})).apply(this,arguments)}function un(){var A;try{return(null===(A=function Rn(){return typeof window<"u"?window:null}())||void 0===A?void 0:A.sessionStorage)||null}catch{return null}}const or=S.aA;class ft{constructor(){this.browserResolver=S.aC(S.k),this.cordovaResolver=S.aC(ee),this.underlyingResolver=null,this._redirectPersistence=S.a,this._completeRedirectFn=S.aE,this._overrideRedirectResult=S.aF}_initialize(R){var b=this;return(0,d.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,b,$,he){var be=this;return(0,d.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openPopup(R,b,$,he)})()}_openRedirect(R,b,$,he){var be=this;return(0,d.Z)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openRedirect(R,b,$,he)})()}_isIframeWebStorageSupported(R,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,b)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return rn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return or(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,d.Z)(function*(){if(R.underlyingResolver)return;const b=yield function Er(){return sr.apply(this,arguments)}();R.underlyingResolver=b?R.cordovaResolver:R.browserResolver})()}}function sn(A){return A.unwrap()}function St(A){return rt(A)}function rt(A){const{_tokenResponse:R}=A instanceof W.ZR?A.customData:A;if(!R)return null;if(!(A instanceof W.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return S.P.credentialFromResult(A);const b=R.providerId;if(!b||b===S.p.PASSWORD)return null;let $;switch(b){case S.p.GOOGLE:$=S.V;break;case S.p.FACEBOOK:$=S.U;break;case S.p.GITHUB:$=S.W;break;case S.p.TWITTER:$=S.Z;break;default:const{oauthIdToken:he,oauthAccessToken:be,oauthTokenSecret:Qe,pendingToken:Le,nonce:wt}=R;return be||Qe||he||Le?Le?b.startsWith("saml.")?S.aO._create(b,Le):S.L._fromParams({providerId:b,signInMethod:b,pendingToken:Le,idToken:he,accessToken:be}):new S.X(b).credential({idToken:he,accessToken:be,rawNonce:wt}):null}return A instanceof W.ZR?$.credentialFromError(A):$.credentialFromResult(A)}function zt(A,R){return R.catch(b=>{throw b instanceof W.ZR&&function ar(A,R){var b;const $=null===(b=R.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===R?.code)R.resolver=new Bn(A,S.aq(A,R));else if($){const he=rt(R),be=R;he&&(be.credential=he,be.tenantId=$.tenantId||void 0,be.email=$.email||void 0,be.phoneNumber=$.phoneNumber||void 0)}}(A,b),b}).then(b=>{const he=b.user;return{operationType:b.operationType,credential:St(b),additionalUserInfo:S.ao(b),user:cn.getOrCreate(he)}})}function Mr(A,R){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.Z)(function*(A,R){const b=yield R;return{verificationId:b.verificationId,confirm:$=>zt(A,b.confirm($))}})).apply(this,arguments)}class Bn{constructor(R,b){this.resolver=b,this.auth=function Br(A){return A.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return zt(sn(this.auth),this.resolver.resolveSignIn(R))}}class cn{constructor(R){this._delegate=R,this.multiFactor=S.ar(R)}static getOrCreate(R){return cn.USER_MAP.has(R)||cn.USER_MAP.set(R,new cn(R)),cn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var b=this;return(0,d.Z)(function*(){return zt(b.auth,S.a0(b._delegate,R))})()}linkWithPhoneNumber(R,b){var $=this;return(0,d.Z)(function*(){return Mr($.auth,S.l($._delegate,R,b))})()}linkWithPopup(R){var b=this;return(0,d.Z)(function*(){return zt(b.auth,S.d(b._delegate,R,ft))})()}linkWithRedirect(R){var b=this;return(0,d.Z)(function*(){return yield st(S.aH(b.auth)),S.g(b._delegate,R,ft)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var b=this;return(0,d.Z)(function*(){return zt(b.auth,S.a1(b._delegate,R))})()}reauthenticateWithPhoneNumber(R,b){return Mr(this.auth,S.r(this._delegate,R,b))}reauthenticateWithPopup(R){return zt(this.auth,S.e(this._delegate,R,ft))}reauthenticateWithRedirect(R){var b=this;return(0,d.Z)(function*(){return yield st(S.aH(b.auth)),S.h(b._delegate,R,ft)})()}sendEmailVerification(R){return S.ae(this._delegate,R)}unlink(R){var b=this;return(0,d.Z)(function*(){return yield S.an(b._delegate,R),b})()}updateEmail(R){return S.aj(this._delegate,R)}updatePassword(R){return S.ak(this._delegate,R)}updatePhoneNumber(R){return S.u(this._delegate,R)}updateProfile(R){return S.ai(this._delegate,R)}verifyBeforeUpdateEmail(R,b){return S.af(this._delegate,R,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}cn.USER_MAP=new WeakMap;const dn=S.aA;let hn=(()=>{class A{constructor(b,$){if(this.app=b,$.isInitialized())return this._delegate=$.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:he}=b.options;dn(he,"invalid-api-key",{appName:b.name}),dn(he,"invalid-api-key",{appName:b.name});const be=typeof window<"u"?ft:void 0;this._delegate=$.initialize({options:{persistence:Ht(he,b.name),popupRedirectResolver:be}}),this._delegate._updateErrorMap(S.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?cn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,$){S.I(this._delegate,b,$)}applyActionCode(b){return S.a5(this._delegate,b)}checkActionCode(b){return S.a6(this._delegate,b)}confirmPasswordReset(b,$){return S.a4(this._delegate,b,$)}createUserWithEmailAndPassword(b,$){var he=this;return(0,d.Z)(function*(){return zt(he._delegate,S.a8(he._delegate,b,$))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return S.ad(this._delegate,b)}isSignInWithEmailLink(b){return S.ab(this._delegate,b)}getRedirectResult(){var b=this;return(0,d.Z)(function*(){dn(Rt(),b._delegate,"operation-not-supported-in-this-environment");const $=yield S.j(b._delegate,ft);return $?zt(b._delegate,Promise.resolve($)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function le(A,R){(0,S.aH)(A)._logFramework(R)}(this._delegate,b)}onAuthStateChanged(b,$,he){const{next:be,error:Qe,complete:Le}=jn(b,$,he);return this._delegate.onAuthStateChanged(be,Qe,Le)}onIdTokenChanged(b,$,he){const{next:be,error:Qe,complete:Le}=jn(b,$,he);return this._delegate.onIdTokenChanged(be,Qe,Le)}sendSignInLinkToEmail(b,$){return S.aa(this._delegate,b,$)}sendPasswordResetEmail(b,$){return S.a3(this._delegate,b,$||void 0)}setPersistence(b){var $=this;return(0,d.Z)(function*(){let he;switch(function Ge(A,R){Jn(Object.values(Jt).includes(R),A,"invalid-persistence-type"),(0,W.b$)()?Jn(R!==Jt.SESSION,A,"unsupported-persistence-type"):(0,W.UG)()?Jn(R===Jt.NONE,A,"unsupported-persistence-type"):jt()?Jn(R===Jt.NONE||R===Jt.LOCAL&&(0,W.hl)(),A,"unsupported-persistence-type"):Jn(R===Jt.NONE||Wt(),A,"unsupported-persistence-type")}($._delegate,b),b){case Jt.SESSION:he=S.a;break;case Jt.LOCAL:he=(yield S.aC(S.i)._isAvailable())?S.i:S.b;break;case Jt.NONE:he=S.N;break;default:return S.av("argument-error",{appName:$._delegate.name})}return $._delegate.setPersistence(he)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return zt(this._delegate,S._(this._delegate))}signInWithCredential(b){return zt(this._delegate,S.$(this._delegate,b))}signInWithCustomToken(b){return zt(this._delegate,S.a2(this._delegate,b))}signInWithEmailAndPassword(b,$){return zt(this._delegate,S.a9(this._delegate,b,$))}signInWithEmailLink(b,$){return zt(this._delegate,S.ac(this._delegate,b,$))}signInWithPhoneNumber(b,$){return Mr(this._delegate,S.s(this._delegate,b,$))}signInWithPopup(b){var $=this;return(0,d.Z)(function*(){return dn(Rt(),$._delegate,"operation-not-supported-in-this-environment"),zt($._delegate,S.c($._delegate,b,ft))})()}signInWithRedirect(b){var $=this;return(0,d.Z)(function*(){return dn(Rt(),$._delegate,"operation-not-supported-in-this-environment"),yield st($._delegate),S.f($._delegate,b,ft)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return S.a7(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return A.Persistence=Jt,A})();function jn(A,R,b){let $=A;"function"!=typeof A&&({next:$,error:R,complete:b}=A);const he=$;return{next:Qe=>he(Qe&&cn.getOrCreate(Qe)),error:R,complete:b}}function Ht(A,R){const b=function mt(A,R){const b=un();if(!b)return[];const $=S.aD(Xr,A,R);switch(b.getItem($)){case Jt.NONE:return[S.N];case Jt.LOCAL:return[S.i,S.a];case Jt.SESSION:return[S.a];default:return[]}}(A,R);if(typeof self<"u"&&!b.includes(S.i)&&b.push(S.i),typeof window<"u")for(const $ of[S.b,S.a])b.includes($)||b.push($);return b.includes(S.N)||b.push(S.N),b}class jr{constructor(){this.providerId="phone",this._delegate=new S.P(sn(k.Z.auth()))}static credential(R,b){return S.P.credential(R,b)}verifyPhoneNumber(R,b){return this._delegate.verifyPhoneNumber(R,b)}unwrap(){return this._delegate}}jr.PHONE_SIGN_IN_METHOD=S.P.PHONE_SIGN_IN_METHOD,jr.PROVIDER_ID=S.P.PROVIDER_ID;const Nn=S.aA;class Cr{constructor(R,b,$=k.Z.app()){var he;Nn(null===(he=$.options)||void 0===he?void 0:he.apiKey,"invalid-api-key",{appName:$.name}),this._delegate=new S.R(R,b,$.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function F(A){A.INTERNAL.registerComponent(new ae.wA("auth-compat",R=>{const b=R.getProvider("app-compat").getImmediate(),$=R.getProvider("auth");return new hn(b,$)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:S.A.EMAIL_SIGNIN,PASSWORD_RESET:S.A.PASSWORD_RESET,RECOVER_EMAIL:S.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:S.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:S.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:S.A.VERIFY_EMAIL}},EmailAuthProvider:S.Q,FacebookAuthProvider:S.U,GithubAuthProvider:S.W,GoogleAuthProvider:S.V,OAuthProvider:S.X,SAMLAuthProvider:S.Y,PhoneAuthProvider:jr,PhoneMultiFactorGenerator:S.m,RecaptchaVerifier:Cr,TwitterAuthProvider:S.Z,Auth:hn,AuthCredential:S.J,Error:W.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),A.registerVersion("@firebase/auth-compat","0.4.2")}(k.Z)},5861:(He,pe,N)=>{function d(S,W,Y,oe,ae,me,se){try{var x=S[me](se),V=x.value}catch(Z){return void Y(Z)}x.done?W(V):Promise.resolve(V).then(oe,ae)}function k(S){return function(){var W=this,Y=arguments;return new Promise(function(oe,ae){var me=S.apply(W,Y);function se(V){d(me,oe,ae,se,x,"next",V)}function x(V){d(me,oe,ae,se,x,"throw",V)}se(void 0)})}}N.d(pe,{Z:()=>k})},7582:(He,pe,N)=>{function W(ee,re){var le={};for(var J in ee)Object.prototype.hasOwnProperty.call(ee,J)&&re.indexOf(J)<0&&(le[J]=ee[J]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(J=Object.getOwnPropertySymbols(ee);fe<J.length;fe++)re.indexOf(J[fe])<0&&Object.prototype.propertyIsEnumerable.call(ee,J[fe])&&(le[J[fe]]=ee[J[fe]])}return le}function Z(ee,re,le,J){return new(le||(le=Promise))(function(we,Fe){function Me(Dt){try{Ye(J.next(Dt))}catch(nt){Fe(nt)}}function Mt(Dt){try{Ye(J.throw(Dt))}catch(nt){Fe(nt)}}function Ye(Dt){Dt.done?we(Dt.value):function fe(we){return we instanceof le?we:new le(function(Fe){Fe(we)})}(Dt.value).then(Me,Mt)}Ye((J=J.apply(ee,re||[])).next())})}function z(ee){return this instanceof z?(this.v=ee,this):new z(ee)}function ce(ee,re,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,J=le.apply(ee,re||[]),we=[];return fe={},Fe("next"),Fe("throw"),Fe("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function Fe(Ot){J[Ot]&&(fe[Ot]=function(Wt){return new Promise(function(jt,Rt){we.push([Ot,Wt,jt,Rt])>1||Me(Ot,Wt)})})}function Me(Ot,Wt){try{!function Mt(Ot){Ot.value instanceof z?Promise.resolve(Ot.value.v).then(Ye,Dt):nt(we[0][2],Ot)}(J[Ot](Wt))}catch(jt){nt(we[0][3],jt)}}function Ye(Ot){Me("next",Ot)}function Dt(Ot){Me("throw",Ot)}function nt(Ot,Wt){Ot(Wt),we.shift(),we.length&&Me(we[0][0],we[0][1])}}function de(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,re=ee[Symbol.asyncIterator];return re?re.call(ee):(ee=function ve(ee){var re="function"==typeof Symbol&&Symbol.iterator,le=re&&ee[re],J=0;if(le)return le.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&J>=ee.length&&(ee=void 0),{value:ee&&ee[J++],done:!ee}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),le={},J("next"),J("throw"),J("return"),le[Symbol.asyncIterator]=function(){return this},le);function J(we){le[we]=ee[we]&&function(Fe){return new Promise(function(Me,Mt){!function fe(we,Fe,Me,Mt){Promise.resolve(Mt).then(function(Ye){we({value:Ye,done:Me})},Fe)}(Me,Mt,(Fe=ee[we](Fe)).done,Fe.value)})}}}N.d(pe,{FC:()=>ce,KL:()=>de,_T:()=>W,mG:()=>Z,qq:()=>z}),"function"==typeof SuppressedError&&SuppressedError}},He=>{He(He.s=4509)}]);